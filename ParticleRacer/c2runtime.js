// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var r,ba,ca,da,ea,fa,ha,ia,v,ja,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,ya,za,Aa,Ba,Ca,Ea,Fa,w,Ga,Ha,Ia,Ja,Ka,Na,Oa,Pa,Qa,Ra,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac={},bc={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,d){this.set(a,b,c,d)}function c(){this.Ud=this.Td=this.Xd=this.Wd=this.pe=this.oe=this.Vc=this.Uc=0}function b(a,b,c,d){a<b?c<d?(u=a<c?a:c,t=b>d?b:d):(u=a<d?a:d,t=b>c?b:c):c<d?(u=b<c?b:c,t=a>d?a:d):(u=b<d?b:d,t=a>c?a:c)}function d(){this.items=this.Qf=null;this.mk=0;C&&(this.Qf=new Set);this.Xk=[];this.Ph=!0}function g(a){D[E++]=a}function e(){this.Oc=this.Sp=this.y=this.B=0}function f(a){this.Pf=[];this.uv=this.wv=this.xv=this.vv=0;this.Vn=null;this.Tm(a)}function n(a,
b){this.br=a;this.$q=b;this.cells={}}function k(a,b){this.br=a;this.$q=b;this.cells={}}function h(a,b,c){var d;return G.length?(d=G.pop(),d.Pr=a,d.x=b,d.y=c,d):new ba(a,b,c)}function l(a,b,c){this.Pr=a;this.x=b;this.y=c;this.Lc=new ca}function m(a,b,c){var d;return F.length?(d=F.pop(),d.Pr=a,d.x=b,d.y=c,d):new da(a,b,c)}function q(a,b,c){this.Pr=a;this.x=b;this.y=c;this.Lc=[];this.lk=!0;this.yg=new ca;this.xl=!1}function p(a,b){return a.Uf-b.Uf}ea=function(a){window.console&&window.console.log&&window.console.log(a)};
fa=function(a){window.console&&window.console.error&&window.console.error(a)};ha=function(a){return"undefined"===typeof a};ia=function(a){return"number"===typeof a};v=function(a){return"string"===typeof a};ja=function(a){return 0<a&&0===(a-1&a)};la=function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1};ma=function(a){return 0>a?-a:a};na=function(a,b){return a<b?a:b};oa=Math.PI;pa=function(a){return 0<=a?a|0:(a|0)-1};qa=function(a){var b=a|0;return b===a?b:b+1};ra=function(a,b,c,d,s,e,m,f){var l,
n,k,h;a<c?(n=a,l=c):(n=c,l=a);s<m?(h=s,k=m):(h=m,k=s);if(l<h||n>k)return!1;b<d?(n=b,l=d):(n=d,l=b);e<f?(h=e,k=f):(h=f,k=e);if(l<h||n>k)return!1;l=s-a+m-c;n=e-b+f-d;a=c-a;b=d-b;s=m-s;e=f-e;f=ma(b*s-e*a);return ma(s*n-e*l)>f?!1:ma(a*n-b*l)<=f};a.prototype.set=function(a,b,c,d){this.left=a;this.top=b;this.right=c;this.bottom=d};a.prototype.Wn=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=function(){return this.right-this.left};a.prototype.height=
function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.ze=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.ho=function(a){return this.left===a.left&&this.top===a.top&&this.right===
a.right&&this.bottom===a.bottom};sa=a;c.prototype.Bj=function(a){this.Uc=a.left;this.Vc=a.top;this.oe=a.right;this.pe=a.top;this.Wd=a.right;this.Xd=a.bottom;this.Td=a.left;this.Ud=a.bottom};c.prototype.gy=function(a,b){if(0===b)this.Bj(a);else{var c=Math.sin(b),d=Math.cos(b),s=a.left*c,e=a.top*c,m=a.right*c,c=a.bottom*c,f=a.left*d,l=a.top*d,n=a.right*d,d=a.bottom*d;this.Uc=f-e;this.Vc=l+s;this.oe=n-e;this.pe=l+m;this.Wd=n-c;this.Xd=d+m;this.Td=f-c;this.Ud=d+s}};c.prototype.offset=function(a,b){this.Uc+=
a;this.Vc+=b;this.oe+=a;this.pe+=b;this.Wd+=a;this.Xd+=b;this.Td+=a;this.Ud+=b;return this};var u=0,t=0;c.prototype.Av=function(a){b(this.Uc,this.oe,this.Wd,this.Td);a.left=u;a.right=t;b(this.Vc,this.pe,this.Xd,this.Ud);a.top=u;a.bottom=t};c.prototype.ze=function(a,b){var c=this.oe-this.Uc,d=this.pe-this.Vc,s=this.Wd-this.Uc,e=this.Xd-this.Vc,m=a-this.Uc,f=b-this.Vc,l=c*c+d*d,n=c*s+d*e,d=c*m+d*f,k=s*s+e*e,h=s*m+e*f,g=1/(l*k-n*n),c=(k*d-n*h)*g,l=(l*h-n*d)*g;if(0<=c&&0<l&&1>c+l)return!0;c=this.Td-this.Uc;
d=this.Ud-this.Vc;l=c*c+d*d;n=c*s+d*e;d=c*m+d*f;g=1/(l*k-n*n);c=(k*d-n*h)*g;l=(l*h-n*d)*g;return 0<=c&&0<l&&1>c+l};c.prototype.Fk=function(){return(this.Uc+this.oe+this.Wd+this.Td)/4};c.prototype.Gk=function(){return(this.Vc+this.pe+this.Xd+this.Ud)/4};ta=c;ua=function(a,b,c){return Math.max(Math.min(a,255),0)|Math.max(Math.min(b,255),0)<<8|Math.max(Math.min(c,255),0)<<16};va=function(a){return a&255};wa=function(a){return(a&65280)>>8};ya=function(a){return(a&16711680)>>16};za=function(a,b){for(var c in b)b.hasOwnProperty(c)&&
(a[c]=b[c]);return a};Aa=function(a,b){var c,d;b=pa(b);if(!(0>b||b>=a.length)){c=b;for(d=a.length-1;c<d;c++)a[c]=a[c+1];a.length=d}};Ba=function(a,b){a.length=b.length;var c,d;c=0;for(d=b.length;c<d;c++)a[c]=b[c]};Ca=function(a,b){a.push.apply(a,b)};Ea=function(a,b){var c,d;c=0;for(d=a.length;c<d;++c)if(a[c]===b)return c;return-1};Fa=function(a,b){var c=Ea(a,b);-1!==c&&Aa(a,c)};w=function(a){return a/(180/oa)};Ga=function(a){return 180/oa*a};Ha=function(a){a%=360;0>a&&(a+=360);return a};Ia=function(a){a%=
2*oa;0>a&&(a+=2*oa);return a};Ja=function(a){return Ha(Ga(a))};Ka=function(a){return Ia(w(a))};Na=function(a,b,c,d){return Math.atan2(d-b,c-a)};Oa=function(a,b){if(a===b)return 0;var c=Math.sin(a),d=Math.cos(a),s=Math.sin(b),e=Math.cos(b),c=c*s+d*e;return 1<=c?0:-1>=c?oa:Math.acos(c)};Pa=function(a,b,c){var d=Math.sin(a),s=Math.cos(a),e=Math.sin(b),m=Math.cos(b);return Math.acos(d*e+s*m)>c?0<s*e-d*m?Ia(a+c):Ia(a-c):Ia(b)};Qa=function(a,b){var c=Math.sin(a),d=Math.cos(a),s=Math.sin(b),e=Math.cos(b);
return 0>=d*s-c*e};Ra=function(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)};Ua=function(a,b){return!a!==!b};Va=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};Wa=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var s=+new Date;Xa=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==
typeof a.msNow)return a.msNow()}return Date.now()-s};var y=!1,z=y=!1,x=!1;"undefined"!==typeof window&&(y=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),y=!y&&/safari/i.test(navigator.userAgent),z=/(iphone|ipod|ipad)/i.test(navigator.userAgent),x=window.c2ejecta);var C=!y&&!x&&!z&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.gh()?!1:C?this.Qf.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=
function(a){if(C)this.Qf.has(a)||(this.Qf.add(a),this.Ph=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.mk++,this.Ph=!1):(this.items={},this.items[b]=a,this.mk=1,this.Ph=!1)}};d.prototype.remove=function(a){if(!this.gh())if(C)this.Qf.has(a)&&(this.Qf["delete"](a),this.Ph=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.mk--,this.Ph=!1)}};d.prototype.clear=function(){this.gh()||(C?this.Qf.clear():(this.items=null,this.mk=0),
this.Xk.length=0,this.Ph=!0)};d.prototype.gh=function(){return 0===this.count()};d.prototype.count=function(){return C?this.Qf.size:this.mk};var D=null,E=0;d.prototype.yE=function(){if(!this.Ph){if(C)this.Xk.length=this.Qf.size,D=this.Xk,E=0,this.Qf.forEach(g),D=null,E=0;else{var a=this.Xk;a.length=this.mk;var b,c=0,d=this.items;if(d)for(b in d)d.hasOwnProperty(b)&&(a[c++]=d[b])}this.Ph=!0}};d.prototype.Oe=function(){this.yE();return this.Xk};ca=d;var B=new ca;Ya=function(a){var b,c;b=0;for(c=a.length;b<
c;++b)B.add(a[b]);Ba(a,B.Oe());B.clear()};Za=function(a,b){C?$a(a,b.Qf):ab(a,b.Oe())};$a=function(a,b){var c,d,s,e;d=c=0;for(s=a.length;c<s;++c)e=a[c],b.has(e)||(a[d++]=e);a.length=d};ab=function(a,b){var c,d,s,e;d=c=0;for(s=a.length;c<s;++c)e=a[c],-1===Ea(b,e)&&(a[d++]=e);a.length=d};e.prototype.add=function(a){this.y=a-this.B;this.Sp=this.Oc+this.y;this.B=this.Sp-this.Oc-this.y;this.Oc=this.Sp};e.prototype.reset=function(){this.Oc=this.Sp=this.y=this.B=0};bb=e;cb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")};f.prototype.Tm=function(a){this.Rx=a;this.qi=a.length/2;this.Pf.length=a.length;this.Mn=this.On=-1;this.Dv=0};f.prototype.Po=function(){return!this.Rx.length};f.prototype.fb=function(){for(var a=this.Pf,b=a[0],c=b,d=a[1],s=d,e,m,f=1,l=this.qi;f<l;++f)m=2*f,e=a[m],m=a[m+1],e<b&&(b=e),e>c&&(c=e),m<d&&(d=m),m>s&&(s=m);this.vv=b;this.wv=c;this.xv=d;this.uv=s};f.prototype.Bj=function(a,b,c){this.Pf.length=8;this.qi=4;var d=this.Pf;d[0]=a.left-b;d[1]=a.top-c;d[2]=a.right-b;d[3]=a.top-c;d[4]=a.right-
b;d[5]=a.bottom-c;d[6]=a.left-b;d[7]=a.bottom-c;this.On=a.right-a.left;this.Mn=a.bottom-a.top;this.fb()};f.prototype.fy=function(a,b,c,d,s){this.Pf.length=8;this.qi=4;var e=this.Pf;e[0]=a.Uc-b;e[1]=a.Vc-c;e[2]=a.oe-b;e[3]=a.pe-c;e[4]=a.Wd-b;e[5]=a.Xd-c;e[6]=a.Td-b;e[7]=a.Ud-c;this.On=d;this.Mn=s;this.fb()};f.prototype.Nn=function(a,b,c){if(this.On!==a||this.Mn!==b||this.Dv!==c){this.On=a;this.Mn=b;this.Dv=c;var d,s,e,m,f,l=0,n=1,k=this.Rx,h=this.Pf;0!==c&&(l=Math.sin(c),n=Math.cos(c));c=0;for(e=this.qi;c<
e;c++)d=2*c,s=d+1,m=k[d]*a,f=k[s]*b,h[d]=m*n-f*l,h[s]=f*n+m*l;this.fb()}};f.prototype.ze=function(a,b){var c=this.Pf;if(a===c[0]&&b===c[1])return!0;var d,s,e,m=this.qi,f=this.vv-110,l=this.xv-101,n=this.wv+131,k=this.uv+120,h,g,y=0,q=0;for(d=0;d<m;d++)s=2*d,e=(d+1)%m*2,h=c[s],s=c[s+1],g=c[e],e=c[e+1],ra(f,l,a,b,h,s,g,e)&&y++,ra(n,k,a,b,h,s,g,e)&&q++;return 1===y%2||1===q%2};db=f;n.prototype.Uh=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=h(this,a,b),this.cells[a][b]=d):null:c?(d=
h(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};n.prototype.ve=function(a){return pa(a/this.br)};n.prototype.we=function(a){return pa(a/this.$q)};n.prototype.update=function(a,b,c){var d,s,e,m,f;if(b)for(d=b.left,s=b.right;d<=s;++d)for(e=b.top,m=b.bottom;e<=m;++e)if(!c||!c.ze(d,e))if(f=this.Uh(d,e,!1))f.remove(a),f.gh()&&(f.Lc.clear(),1E3>G.length&&G.push(f),this.cells[d][e]=null);if(c)for(d=c.left,s=c.right;d<=s;++d)for(e=c.top,m=c.bottom;e<=m;++e)b&&b.ze(d,e)||this.Uh(d,e,!0).bs(a)};n.prototype.Bp=
function(a,b){var c,d,s,e,m,f;c=this.ve(a.left);s=this.we(a.top);d=this.ve(a.right);for(m=this.we(a.bottom);c<=d;++c)for(e=s;e<=m;++e)(f=this.Uh(c,e,!1))&&f.dump(b)};eb=n;k.prototype.Uh=function(a,b,c){var d;d=this.cells[a];return d?(d=d[b])?d:c?(d=m(this,a,b),this.cells[a][b]=d):null:c?(d=m(this,a,b),this.cells[a]={},this.cells[a][b]=d):null};k.prototype.ve=function(a){return pa(a/this.br)};k.prototype.we=function(a){return pa(a/this.$q)};k.prototype.update=function(a,b,c){var d,s,e,m,f;if(b)for(d=
b.left,s=b.right;d<=s;++d)for(e=b.top,m=b.bottom;e<=m;++e)if(!c||!c.ze(d,e))if(f=this.Uh(d,e,!1))f.remove(a),f.gh()&&(f.reset(),1E3>F.length&&F.push(f),this.cells[d][e]=null);if(c)for(d=c.left,s=c.right;d<=s;++d)for(e=c.top,m=c.bottom;e<=m;++e)b&&b.ze(d,e)||this.Uh(d,e,!0).bs(a)};k.prototype.Bp=function(a,b,c,d,e){var s,m;a=this.ve(a);b=this.we(b);c=this.ve(c);for(s=this.we(d);a<=c;++a)for(d=b;d<=s;++d)(m=this.Uh(a,d,!1))&&m.dump(e)};k.prototype.zD=function(a){var b,c,d,e,s;b=a.left;d=a.top;c=a.right;
for(e=a.bottom;b<=c;++b)for(a=d;a<=e;++a)if(s=this.Uh(b,a,!1))s.lk=!1};fb=k;var G=[];l.prototype.gh=function(){return this.Lc.gh()};l.prototype.bs=function(a){this.Lc.add(a)};l.prototype.remove=function(a){this.Lc.remove(a)};l.prototype.dump=function(a){Ca(a,this.Lc.Oe())};ba=l;var F=[];q.prototype.gh=function(){if(!this.Lc.length)return!0;if(this.Lc.length>this.yg.count())return!1;this.Gr();return!0};q.prototype.bs=function(a){this.yg.contains(a)?(this.yg.remove(a),this.yg.gh()&&(this.xl=!1)):this.Lc.length?
(this.Lc[this.Lc.length-1].hg()>a.hg()&&(this.lk=!1),this.Lc.push(a)):(this.Lc.push(a),this.lk=!0)};q.prototype.remove=function(a){this.yg.add(a);this.xl=!0;30<=this.yg.count()&&this.Gr()};q.prototype.Gr=function(){this.xl&&(this.yg.count()===this.Lc.length?this.reset():(Za(this.Lc,this.yg),this.yg.clear(),this.xl=!1))};q.prototype.HB=function(){this.lk||(this.Lc.sort(p),this.lk=!0)};q.prototype.reset=function(){this.Lc.length=0;this.lk=!0;this.yg.clear();this.xl=!1};q.prototype.dump=function(a){this.Gr();
this.HB();this.Lc.length&&a.push(this.Lc)};da=q;var H="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");gb=function(a){return 0>=a||11<=a?"source-over":H[a-1]};hb=function(a,b,c){if(c)switch(a.hd=c.ONE,a.bd=c.ONE_MINUS_SRC_ALPHA,b){case 1:a.hd=c.ONE;a.bd=c.ONE;break;case 3:a.hd=c.ONE;a.bd=c.ZERO;break;case 4:a.hd=c.ONE_MINUS_DST_ALPHA;a.bd=c.ONE;break;case 5:a.hd=c.DST_ALPHA;a.bd=c.ZERO;break;case 6:a.hd=c.ZERO;a.bd=c.SRC_ALPHA;
break;case 7:a.hd=c.ONE_MINUS_DST_ALPHA;a.bd=c.ZERO;break;case 8:a.hd=c.ZERO;a.bd=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.hd=c.DST_ALPHA;a.bd=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.hd=c.ONE_MINUS_DST_ALPHA,a.bd=c.SRC_ALPHA}};ib=function(a){return Math.round(1E6*a)/1E6};jb=function(a,b){return"string"!==typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};kb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||
jb(a.tagName,"canvas")?!0:!1}})();var cc="undefined"!==typeof Float32Array?Float32Array:Array;function dc(a){var c=new cc(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}function ec(a){var c=new cc(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}
function fc(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}function gc(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function hc(a,c,b,d){d||(d=ec());var g,e,f,n,k,h,l,m,q=a[0],p=a[1];a=a[2];e=b[0];f=b[1];g=b[2];b=c[1];h=c[2];q===c[0]&&p===b&&a===h?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=q-c[0],h=p-c[1],l=a-c[2],m=1/Math.sqrt(b*b+h*h+l*l),b*=m,h*=m,l*=m,c=f*l-g*h,g=g*b-e*l,e=e*h-f*b,(m=Math.sqrt(c*c+g*g+e*e))?(m=1/m,c*=m,g*=m,e*=m):e=g=c=0,f=h*e-l*g,n=l*c-b*e,k=b*g-h*c,(m=Math.sqrt(f*f+n*n+k*k))?(m=1/m,f*=m,n*=m,k*=m):k=n=f=0,
d[0]=c,d[1]=f,d[2]=b,d[3]=0,d[4]=g,d[5]=n,d[6]=h,d[7]=0,d[8]=e,d[9]=k,d[10]=l,d[11]=0,d[12]=-(c*q+g*p+e*a),d[13]=-(f*q+n*p+k*a),d[14]=-(b*q+h*p+l*a),d[15]=1)}
(function(){function a(a){this.Xh=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.Ev=dc([0,0,100]);this.Pw=dc([0,0,0]);this.Cy=dc([0,1,0]);this.nu=dc([1,1,1]);this.Vv=!0;this.dt=ec();this.gf=ec();this.Gw=ec();this.rr=ec();this.aa=a;this.rw()}function c(a,b,c){this.aa=a;this.Um=b;this.name=c;this.cf=a.getAttribLocation(b,"aPos");this.hi=a.getAttribLocation(b,"aTex");this.Nw=a.getUniformLocation(b,"matP");this.dp=a.getUniformLocation(b,"matMV");
this.tk=a.getUniformLocation(b,"opacity");this.Ow=a.getUniformLocation(b,"samplerFront");this.mm=a.getUniformLocation(b,"samplerBack");this.jj=a.getUniformLocation(b,"destStart");this.ij=a.getUniformLocation(b,"destEnd");this.Js=a.getUniformLocation(b,"seconds");this.Is=a.getUniformLocation(b,"pixelWidth");this.Hs=a.getUniformLocation(b,"pixelHeight");this.lm=a.getUniformLocation(b,"layerScale");this.km=a.getUniformLocation(b,"layerAngle");this.pm=a.getUniformLocation(b,"viewOrigin");this.nm=a.getUniformLocation(b,
"scrollPos");this.NC=!!(this.Is||this.Hs||this.Js||this.mm||this.jj||this.ij||this.lm||this.km||this.pm||this.nm);this.Xw=this.Yw=-999;this.fp=1;this.Tw=this.Sw=0;this.Vw=this.Rw=this.Qw=1;this.$w=this.Zw=this.bx=this.ax=this.Uw=0;this.qs=[];this.Ww=ec();this.tk&&a.uniform1f(this.tk,1);this.Ow&&a.uniform1i(this.Ow,0);this.mm&&a.uniform1i(this.mm,1);this.jj&&a.uniform2f(this.jj,0,0);this.ij&&a.uniform2f(this.ij,1,1);this.lm&&a.uniform1f(this.lm,1);this.km&&a.uniform1f(this.km,0);this.pm&&a.uniform2f(this.pm,
0,0);this.nm&&a.uniform2f(this.nm,0,0);this.aj=!1}function b(a,b){this.type=a;this.Y=b;this.aa=b.aa;this.Jd=this.ne=this.Ex=0;this.cb=this.Rf=null;this.hy=[]}a.prototype.rw=function(){var a=this.aa,b;this.Hw=1;this.ej=this.di=null;this.$n=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.Iw=a.ONE;this.Fw=a.ONE_MINUS_SRC_ALPHA;this.tt=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.tt);
this.gn=Array(4);this.Zm=Array(4);for(b=0;4>b;b++)this.gn[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.gn[b]),this.Zm[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.Zm[b]);this.Vg=0;this.PC=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.PC);this.iq=new Float32Array(16E3);this.Up=new Float32Array(16E3);this.Lx=new Float32Array(32E3);for(var c=new Uint16Array(12E3),d=b=0;12E3>b;)c[b++]=d,c[b++]=d+1,c[b++]=d+2,c[b++]=d,c[b++]=d+2,c[b++]=d+3,d+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,
c,a.STATIC_DRAW);this.Mk=this.Pe=0;this.Dc=[];b=this.or({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.Dc.push(b);b=this.or({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Dc.push(b);for(var h in ic)ic.hasOwnProperty(h)&&this.Dc.push(this.or(ic[h],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",h));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.wf=[];this.Ue=0;this.Id=this.cd=!1;this.Rv=this.$l=-1;this.Fl=null;this.fC=a.createFramebuffer();this.Zx=null;this.Ci=dc([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.GD=a[0];this.gt=
a[1];2048<this.gt&&(this.gt=2048);this.Gg(0)};c.prototype.du=function(a){var b=this.Ww;if(b[0]!==a[0]||b[1]!==a[1]||b[2]!==a[2]||b[3]!==a[3]||b[4]!==a[4]||b[5]!==a[5]||b[6]!==a[6]||b[7]!==a[7]||b[8]!==a[8]||b[9]!==a[9]||b[10]!==a[10]||b[11]!==a[11]||b[12]!==a[12]||b[13]!==a[13]||b[14]!==a[14]||b[15]!==a[15])fc(a,this.Ww),this.aa.uniformMatrix4fv(this.dp,!1,a)};a.prototype.or=function(a,b,d){var k=this.aa,h=k.createShader(k.FRAGMENT_SHADER);k.shaderSource(h,a.src);k.compileShader(h);if(!k.getShaderParameter(h,
k.COMPILE_STATUS))return k.deleteShader(h),null;var l=k.createShader(k.VERTEX_SHADER);k.shaderSource(l,b);k.compileShader(l);if(!k.getShaderParameter(l,k.COMPILE_STATUS))return k.deleteShader(h),k.deleteShader(l),null;b=k.createProgram();k.attachShader(b,h);k.attachShader(b,l);k.linkProgram(b);if(!k.getProgramParameter(b,k.LINK_STATUS))return k.deleteShader(h),k.deleteShader(l),k.deleteProgram(b),null;k.useProgram(b);k.deleteShader(h);k.deleteShader(l);d=new c(k,b,d);d.lo=a.lo||0;d.mo=a.mo||0;d.qr=
!!a.qr;d.Vq=!!a.Vq;d.xa=a.xa||[];a=0;for(h=d.xa.length;a<h;a++)d.xa[a][1]=k.getUniformLocation(b,d.xa[a][0]),d.qs.push(0),k.uniform1f(d.xa[a][1],0);return d};a.prototype.Or=function(a){var b,c;b=0;for(c=this.Dc.length;b<c;b++)if(this.Dc[b].name===a)return b;return-1};a.prototype.Qx=function(a,b,c){var d=this.gf,h=this.dt,l=[0,0,0,0,0,0,0,0];l[0]=d[0]*a+d[4]*b+d[12];l[1]=d[1]*a+d[5]*b+d[13];l[2]=d[2]*a+d[6]*b+d[14];l[3]=d[3]*a+d[7]*b+d[15];l[4]=h[0]*l[0]+h[4]*l[1]+h[8]*l[2]+h[12]*l[3];l[5]=h[1]*l[0]+
h[5]*l[1]+h[9]*l[2]+h[13]*l[3];l[6]=h[2]*l[0]+h[6]*l[1]+h[10]*l[2]+h[14]*l[3];l[7]=-l[2];0!==l[7]&&(l[7]=1/l[7],l[4]*=l[7],l[5]*=l[7],l[6]*=l[7],c[0]=(.5*l[4]+.5)*this.width,c[1]=(.5*l[5]+.5)*this.height)};a.prototype.Rk=function(a,b,c){if(this.width!==a||this.height!==b||c){this.dg();this.width=a;this.height=b;this.aa.viewport(0,0,a,b);b=a/b;var d=this.dt,h;h=1*Math.tan(45*Math.PI/360);b*=h;a=-b;c=-h;d||(d=ec());var l=b-a,m=h-c;d[0]=2/l;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/m;d[6]=0;d[7]=0;d[8]=(b+
a)/l;d[9]=(h+c)/m;d[10]=-1001/999;d[11]=-1;d[12]=0;d[13]=0;d[14]=-2E3/999;d[15]=0;hc(this.Ev,this.Pw,this.Cy,this.gf);a=[0,0];b=[0,0];this.Qx(0,0,a);this.Qx(1,1,b);this.nu[0]=1/(b[0]-a[0]);this.nu[1]=-1/(b[1]-a[1]);a=0;for(b=this.Dc.length;a<b;a++)c=this.Dc[a],c.aj=!1,c.Nw&&(this.aa.useProgram(c.Um),this.aa.uniformMatrix4fv(c.Nw,!1,this.dt));this.aa.useProgram(this.Dc[this.$l].Um);this.aa.bindTexture(this.aa.TEXTURE_2D,null);this.aa.activeTexture(this.aa.TEXTURE1);this.aa.bindTexture(this.aa.TEXTURE_2D,
null);this.aa.activeTexture(this.aa.TEXTURE0);this.ej=this.di=null}};a.prototype.Dg=function(){hc(this.Ev,this.Pw,this.Cy,this.gf);gc(this.gf,this.nu)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Ci[0]=a;this.Ci[1]=b;this.Ci[2]=0;var c=this.gf,d=this.Ci,h=d[0],l=d[1],d=d[2];c[12]=c[0]*h+c[4]*l+c[8]*d+c[12];c[13]=c[1]*h+c[5]*l+c[9]*d+c[13];c[14]=c[2]*h+c[6]*l+c[10]*d+c[14];c[15]=c[3]*h+c[7]*l+c[11]*d+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Ci[0]=a,this.Ci[1]=b,this.Ci[2]=
1,gc(this.gf,this.Ci)};a.prototype.Ht=function(a){if(0!==a){var b=this.gf,c,d=Math.sin(a);a=Math.cos(a);var h=b[0],l=b[1],m=b[2],g=b[3],p=b[4],u=b[5],t=b[6],s=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=h*a+p*d;c[1]=l*a+u*d;c[2]=m*a+t*d;c[3]=g*a+s*d;c[4]=h*-d+p*a;c[5]=l*-d+u*a;c[6]=m*-d+t*a;c[7]=g*-d+s*a}};a.prototype.Kg=function(){for(var a=!1,b=0;16>b;b++)if(this.Gw[b]!==this.gf[b]){a=!0;break}a&&(a=this.Me(),a.type=5,a.cb?
fc(this.gf,a.cb):a.cb=ec(this.gf),fc(this.gf,this.Gw),this.Id=this.cd=!1)};b.prototype.pB=function(){this.aa.bindTexture(this.aa.TEXTURE_2D,this.Rf)};b.prototype.qB=function(){var a=this.aa;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.Rf);a.activeTexture(a.TEXTURE0)};b.prototype.mB=function(){var a=this.Ex,b=this.Y;b.$n=a;b=b.Fl;b.tk&&b.fp!==a&&(b.fp=a,this.aa.uniform1f(b.tk,a))};b.prototype.jB=function(){this.aa.drawElements(this.aa.TRIANGLES,this.Jd,this.aa.UNSIGNED_SHORT,2*this.ne)};
b.prototype.lB=function(){this.aa.blendFunc(this.ne,this.Jd)};b.prototype.rB=function(){var a,b,c,d=this.Y.Dc,h=this.Y.Rv;a=0;for(b=d.length;a<b;a++)c=d[a],a===h&&c.dp?(c.du(this.cb),c.aj=!0):c.aj=!1;fc(this.cb,this.Y.rr)};b.prototype.kB=function(){var a=this.aa,b=this.Y;this.Rf?(b.ej===this.Rf&&(a.activeTexture(a.TEXTURE1),a.bindTexture(a.TEXTURE_2D,null),b.ej=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.fC),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,
this.Rf,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};b.prototype.eB=function(){var a=this.aa;0===this.ne?(a.clearColor(this.cb[0],this.cb[1],this.cb[2],this.cb[3]),a.clear(a.COLOR_BUFFER_BIT)):(a.enable(a.SCISSOR_TEST),a.scissor(this.cb[0],this.cb[1],this.cb[2],this.cb[3]),a.clearColor(0,0,0,0),a.clear(this.aa.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};b.prototype.iB=function(){var a=this.aa,b=this.Y,c=b.Dc[1];a.useProgram(c.Um);
!c.aj&&c.dp&&(c.du(b.rr),c.aj=!0);a.enableVertexAttribArray(c.cf);a.bindBuffer(a.ARRAY_BUFFER,b.tt);a.vertexAttribPointer(c.cf,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,this.ne/4,this.Jd);c=b.Fl;a.useProgram(c.Um);0<=c.cf&&(a.enableVertexAttribArray(c.cf),a.bindBuffer(a.ARRAY_BUFFER,b.gn[b.Vg]),a.vertexAttribPointer(c.cf,2,a.FLOAT,!1,0,0));0<=c.hi&&(a.enableVertexAttribArray(c.hi),a.bindBuffer(a.ARRAY_BUFFER,b.Zm[b.Vg]),a.vertexAttribPointer(c.hi,2,a.FLOAT,!1,0,0))};b.prototype.nB=function(){var a=
this.aa,b=this.Y,c=b.Dc[this.ne];b.Rv=this.ne;b.Fl=c;a.useProgram(c.Um);!c.aj&&c.dp&&(c.du(b.rr),c.aj=!0);c.tk&&c.fp!==b.$n&&(c.fp=b.$n,a.uniform1f(c.tk,b.$n));0<=c.cf&&(a.enableVertexAttribArray(c.cf),a.bindBuffer(a.ARRAY_BUFFER,b.gn[b.Vg]),a.vertexAttribPointer(c.cf,2,a.FLOAT,!1,0,0));0<=c.hi&&(a.enableVertexAttribArray(c.hi),a.bindBuffer(a.ARRAY_BUFFER,b.Zm[b.Vg]),a.vertexAttribPointer(c.hi,2,a.FLOAT,!1,0,0))};b.prototype.oB=function(){var a,b,c=this.Y.Fl,d=this.aa;a=this.cb;c.mm&&this.Y.ej!==
this.Rf&&(d.activeTexture(d.TEXTURE1),d.bindTexture(d.TEXTURE_2D,this.Rf),this.Y.ej=this.Rf,d.activeTexture(d.TEXTURE0));var h=a[0];c.Is&&h!==c.Yw&&(c.Yw=h,d.uniform1f(c.Is,h));h=a[1];c.Hs&&h!==c.Xw&&(c.Xw=h,d.uniform1f(c.Hs,h));h=a[2];b=a[3];!c.jj||h===c.Sw&&b===c.Tw||(c.Sw=h,c.Tw=b,d.uniform2f(c.jj,h,b));h=a[4];b=a[5];!c.ij||h===c.Qw&&b===c.Rw||(c.Qw=h,c.Rw=h,d.uniform2f(c.ij,h,b));h=a[6];c.lm&&h!==c.Vw&&(c.Vw=h,d.uniform1f(c.lm,h));h=a[7];c.km&&h!==c.Uw&&(c.Uw=h,d.uniform1f(c.km,h));h=a[8];b=a[9];
!c.pm||h===c.ax&&b===c.bx||(c.ax=h,c.bx=b,d.uniform2f(c.pm,h,b));h=a[10];b=a[11];!c.nm||h===c.Zw&&b===c.$w||(c.Zw=h,c.$w=b,d.uniform2f(c.nm,h,b));c.Js&&d.uniform1f(c.Js,Xa()/1E3);if(c.xa.length)for(a=0,b=c.xa.length;a<b;a++)h=this.hy[a],h!==c.qs[a]&&(c.qs[a]=h,d.uniform1f(c.xa[a][1],h))};a.prototype.Me=function(){this.Ue===this.wf.length&&this.wf.push(new b(0,this));return this.wf[this.Ue++]};a.prototype.dg=function(){if(0!==this.Ue&&!this.aa.isContextLost()){var a=this.aa;0<this.Mk&&(a.bindBuffer(a.ARRAY_BUFFER,
this.tt),a.bufferData(a.ARRAY_BUFFER,this.Lx.subarray(0,this.Mk),a.STREAM_DRAW),b&&0<=b.cf&&"<point>"===b.name&&a.vertexAttribPointer(b.cf,4,a.FLOAT,!1,0,0));if(0<this.Pe){var b=this.Fl;a.bindBuffer(a.ARRAY_BUFFER,this.gn[this.Vg]);a.bufferData(a.ARRAY_BUFFER,this.iq.subarray(0,this.Pe),a.STREAM_DRAW);b&&0<=b.cf&&"<point>"!==b.name&&a.vertexAttribPointer(b.cf,2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.Zm[this.Vg]);a.bufferData(a.ARRAY_BUFFER,this.Up.subarray(0,this.Pe),a.STREAM_DRAW);b&&0<=
b.hi&&"<point>"!==b.name&&a.vertexAttribPointer(b.hi,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.Ue;a<b;a++)switch(c=this.wf[a],c.type){case 1:c.jB();break;case 2:c.pB();break;case 3:c.mB();break;case 4:c.lB();break;case 5:c.rB();break;case 6:c.kB();break;case 7:c.eB();break;case 8:c.iB();break;case 9:c.nB();break;case 10:c.oB();break;case 11:c.qB()}this.Mk=this.Pe=this.Ue=0;this.Id=this.cd=!1;this.Vg++;4<=this.Vg&&(this.Vg=0)}};a.prototype.wi=function(a){if(a!==this.Hw){var b=this.Me();b.type=3;this.Hw=
b.Ex=a;this.Id=this.cd=!1}};a.prototype.Cc=function(a){if(a!==this.di){var b=this.Me();b.type=2;this.di=b.Rf=a;this.Id=this.cd=!1}};a.prototype.vi=function(a,b){if(a!==this.Iw||b!==this.Fw){var c=this.Me();c.type=4;c.ne=a;c.Jd=b;this.Iw=a;this.Fw=b;this.Id=this.cd=!1}};a.prototype.dy=function(){this.vi(this.aa.ONE,this.aa.ONE_MINUS_SRC_ALPHA)};a.prototype.zj=function(a,b,c,d,h,l,m,g){15992<=this.Pe&&this.dg();var p=this.Pe,u=this.iq,t=this.Up;if(this.cd)this.wf[this.Ue-1].Jd+=6;else{var s=this.Me();
s.type=1;s.ne=p/4*3;s.Jd=6;this.cd=!0;this.Id=!1}u[p]=a;t[p++]=0;u[p]=b;t[p++]=0;u[p]=c;t[p++]=1;u[p]=d;t[p++]=0;u[p]=h;t[p++]=1;u[p]=l;t[p++]=1;u[p]=m;t[p++]=0;u[p]=g;t[p++]=1;this.Pe=p};a.prototype.ri=function(a,b,c,d,h,l,m,g,p){15992<=this.Pe&&this.dg();var u=this.Pe,t=this.iq,s=this.Up;if(this.cd)this.wf[this.Ue-1].Jd+=6;else{var y=this.Me();y.type=1;y.ne=u/4*3;y.Jd=6;this.cd=!0;this.Id=!1}var y=p.left,z=p.top,x=p.right;p=p.bottom;t[u]=a;s[u++]=y;t[u]=b;s[u++]=z;t[u]=c;s[u++]=x;t[u]=d;s[u++]=
z;t[u]=h;s[u++]=x;t[u]=l;s[u++]=p;t[u]=m;s[u++]=y;t[u]=g;s[u++]=p;this.Pe=u};a.prototype.Tx=function(a,b,c,d,h,l,m,g,p,u,t,s,y){15992<=this.Pe&&this.dg();var z=this.Pe,x=this.iq,C=this.Up;if(this.cd)this.wf[this.Ue-1].Jd+=6;else{var D=this.Me();D.type=1;D.ne=z/4*3;D.Jd=6;this.cd=!0;this.Id=!1}x[z]=a;C[z++]=p;x[z]=b;C[z++]=u;x[z]=c;C[z++]=t;x[z]=d;C[z++]=0;x[z]=h;C[z++]=s;x[z]=l;C[z++]=0;x[z]=m;C[z++]=y;x[z]=g;C[z++]=0;this.Pe=z};a.prototype.Nv=function(a){var b=a.length/2-2,c=b-1,d=a[0],h=a[1],l,
m,g,p,u,t,s;for(l=0;l<b;l+=2)m=2*l,g=a[m+2],p=a[m+3],u=a[m+4],t=a[m+5],l===c?this.zj(d,h,g,p,u,t,u,t):(s=a[m+6],m=a[m+7],this.zj(d,h,g,p,u,t,s,m))};a.prototype.TD=function(a,b,c,d){7996<=this.Mk&&this.dg();var h=this.Mk,l=this.Lx;if(this.Id)this.wf[this.Ue-1].Jd++;else{var m=this.Me();m.type=8;m.ne=h;m.Jd=1;this.Id=!0;this.cd=!1}l[h++]=a;l[h++]=b;l[h++]=c;l[h++]=d;this.Mk=h};a.prototype.Gg=function(a){if(this.$l!==a){if(!this.Dc[a]){if(0===this.$l)return;a=0}var b=this.Me();b.type=9;this.$l=b.ne=
a;this.Id=this.cd=!1}};a.prototype.Om=function(a){a=this.Dc[a];return!(!a.jj&&!a.ij)};a.prototype.xt=function(a){a=this.Dc[a];return!!(a.jj||a.ij||a.qr)};a.prototype.ZD=function(a){a=this.Dc[a];return 0!==a.lo||0!==a.mo};a.prototype.tC=function(a){return this.Dc[a].lo};a.prototype.uC=function(a){return this.Dc[a].mo};a.prototype.vC=function(a,b){return this.Dc[a].xa[b][2]};a.prototype.Ap=function(a){return this.Dc[a].Vq};a.prototype.Qk=function(a,b,c,d,h,l,m,g,p,u,t,s,y,z){var x=this.Dc[this.$l],
C,D;if(x.NC||z.length){C=this.Me();C.type=10;C.cb?fc(this.gf,C.cb):C.cb=ec();D=C.cb;D[0]=b;D[1]=c;D[2]=d;D[3]=h;D[4]=l;D[5]=m;D[6]=g;D[7]=p;D[8]=u;D[9]=t;D[10]=s;D[11]=y;C.Rf=x.mm?a:null;if(z.length)for(c=C.hy,c.length=z.length,a=0,b=z.length;a<b;a++)c[a]=z[a];this.Id=this.cd=!1}};a.prototype.clear=function(a,b,c,d){var h=this.Me();h.type=7;h.ne=0;h.cb||(h.cb=ec());h.cb[0]=a;h.cb[1]=b;h.cb[2]=c;h.cb[3]=d;this.Id=this.cd=!1};a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var h=this.Me();h.type=
7;h.ne=1;h.cb||(h.cb=ec());h.cb[0]=a;h.cb[1]=b;h.cb[2]=c;h.cb[3]=d;this.Id=this.cd=!1}};a.prototype.YD=function(){this.dg();this.aa.flush()};var d=[],g={};a.prototype.WA=function(){d.length=0;g={}};a.prototype.cp=function(a,b,c,k){b=!!b;c=!!c;var h=a.src+","+b+","+c+(b?",undefined":""),l=null;if("undefined"!==typeof a.src&&g.hasOwnProperty(h))return l=g[h],l.Ln++,l;this.dg();var m=this.aa,q=ja(a.width)&&ja(a.height),l=m.createTexture();m.bindTexture(m.TEXTURE_2D,l);m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
!0);var p=m.RGBA,u=m.RGBA,t=m.UNSIGNED_BYTE;if(k&&!this.Xh)switch(k){case 1:u=p=m.RGB;break;case 2:t=m.UNSIGNED_SHORT_4_4_4_4;break;case 3:t=m.UNSIGNED_SHORT_5_5_5_1;break;case 4:u=p=m.RGB,t=m.UNSIGNED_SHORT_5_6_5}if(!q&&b){k=document.createElement("canvas");k.width=la(a.width);k.height=la(a.height);var s=k.getContext("2d");s.webkitImageSmoothingEnabled=c;s.mozImageSmoothingEnabled=c;s.msImageSmoothingEnabled=c;s.imageSmoothingEnabled=c;s.drawImage(a,0,0,a.width,a.height,0,0,k.width,k.height);m.texImage2D(m.TEXTURE_2D,
0,p,u,t,k)}else m.texImage2D(m.TEXTURE_2D,0,p,u,t,a);b?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.REPEAT),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.REPEAT)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE));c?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.LINEAR),q&&this.Vv?(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.LINEAR_MIPMAP_LINEAR),m.generateMipmap(m.TEXTURE_2D)):m.texParameteri(m.TEXTURE_2D,
m.TEXTURE_MIN_FILTER,m.LINEAR)):(m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST));m.bindTexture(m.TEXTURE_2D,null);this.di=null;l.Cl=a.width;l.Bl=a.height;l.Ln=1;l.Cv=h;d.push(l);return g[h]=l};a.prototype.xf=function(a,b,c,g,h){this.dg();var l=this.aa;this.Xh&&(g=!1);var m=l.createTexture();l.bindTexture(l.TEXTURE_2D,m);l.texImage2D(l.TEXTURE_2D,0,l.RGBA,a,b,0,l.RGBA,g?l.UNSIGNED_SHORT_4_4_4_4:l.UNSIGNED_BYTE,null);h?(l.texParameteri(l.TEXTURE_2D,
l.TEXTURE_WRAP_S,l.REPEAT),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.REPEAT)):(l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE));l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,c?l.LINEAR:l.NEAREST);l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,c?l.LINEAR:l.NEAREST);l.bindTexture(l.TEXTURE_2D,null);this.di=null;m.Cl=a;m.Bl=b;d.push(m);return m};a.prototype.lu=function(a,b,c){this.dg();var d=this.aa;this.Xh&&(c=
!1);d.bindTexture(d.TEXTURE_2D,b);d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);try{d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,c?d.UNSIGNED_SHORT_4_4_4_4:d.UNSIGNED_BYTE,a)}catch(h){console&&console.error&&console.error("Error updating WebGL texture: ",h)}d.bindTexture(d.TEXTURE_2D,null);this.di=null};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Ln&&1<a.Ln?a.Ln--:(this.dg(),a===this.di&&(this.aa.bindTexture(this.aa.TEXTURE_2D,null),this.di=null),a===this.ej&&(this.aa.activeTexture(this.aa.TEXTURE1),
this.aa.bindTexture(this.aa.TEXTURE_2D,null),this.aa.activeTexture(this.aa.TEXTURE0),this.ej=null),Fa(d,a),"undefined"!==typeof a.Cv&&delete g[a.Cv],this.aa.deleteTexture(a)))};a.prototype.Fg=function(a){if(a!==this.Zx){var b=this.Me();b.type=6;this.Zx=b.Rf=a;this.Id=this.cd=!1}};lb=a})();
(function(){function a(){return"undefined"!==typeof jQuery?jQuery(window).width():window.innerWidth}function c(){return"undefined"!==typeof jQuery?jQuery(window).height():window.innerHeight}function b(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.Df=(this.Lo=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||
"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.ig=!!a.dc;this.Wl="undefined"!==typeof window.AppMobi||this.ig;this.bf=!!window.c2cocoonjs;this.Ef=!!window.c2ejecta;this.bf&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Ef&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",
function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.lc=this.ig||this.bf||this.Ef;this.Xh=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent)||/edge\//i.test(navigator.userAgent);this.zw=/tizen/i.test(navigator.userAgent);this.xw=/android/i.test(navigator.userAgent)&&!this.zw&&!this.Xh;this.ms=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&
!this.Xh;this.Ew=/ipad/i.test(navigator.userAgent);this.Dw=this.ms||this.Ew||this.Ef;this.ZC=this.ms&&/os\s6/i.test(navigator.userAgent);this.Ko=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&!this.Xh;this.ww=/amazonwebappplatform/i.test(navigator.userAgent);this.UC=/firefox/i.test(navigator.userAgent);this.WC=/safari/i.test(navigator.userAgent)&&!this.Ko&&!this.Xh;this.Zh="undefined"!==typeof window.c2nodewebkit||/nodewebkit/i.test(navigator.userAgent);this.Bw=!("undefined"===
typeof window.c2isWindows8||!window.c2isWindows8);this.YC=!("undefined"===typeof window.c2isWindows8Capable||!window.c2isWindows8Capable);this.jk=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Mo=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Aw=this.Bw||this.YC||this.Mo;this.SC=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.yw=this.xw&&!this.Ko&&!this.Lo&&!this.UC&&!this.ww&&!this.lc;this.devicePixelRatio=
1;this.jg=this.Df||this.Lo||this.Wl||this.bf||this.xw||this.Dw||this.jk||this.Mo||this.SC||this.zw||this.Ef;this.jg||(this.jg=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));"undefined"===typeof cr_is_preview||this.Zh||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)||(this.Zh=!0);this.TC="undefined"!==typeof cr_is_preview&&-1<window.location.search.indexOf("debug");this.canvas=a;this.Fv=document.getElementById("c2canvasdiv");
this.ib=this.Y=this.aa=null;this.Ir="";this.po=!1;this.yx=this.zx=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.ig&&(window.c2runtime=this);this.Zh&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();return!1},require("nw.gui").App.clearCache());this.yw&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow",
"visible");this.width=a.width;this.height=a.height;this.Ia=this.width;this.Ha=this.height;this.Yn=this.width;this.Xn=this.height;this.cm=window.innerWidth;this.am=window.innerHeight;this.hC=!1;this.bb=!0;this.Yl=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.ba=[];this.jc=[];this.ys={};this.Gf=[];this.Cr={};this.ah=[];this.Zk=[];this.dq=[];this.HA=[];this.IA=[];this.Pt=null;this.Wi={};this.es=this.Wh=!1;this.Ff=0;this.hs=!1;this.yf=[];this.jh=this.ud=this.Zo=
this.Mt="";this.Xm=this.ky=!1;this.lr=this.qm=this.$g=this.za=0;this.Bi=1;this.ai=new bb;this.jq=new bb;this.Uo=0;this.ox=!0;this.rp=this.vo=this.ko=this.mf=this.gj=this.uo=0;this.dr=null;this.eo=[];this.Br=[];this.jo=-1;this.Ks=[[]];this.au=this.ep=0;this.zt(null);this.Jl=this.ux=this.Gm=0;this.Ym=[];this.Zp=this.Dp=-1;this.Ro=!0;this.sk=0;this.Xl=!1;this.oE=0;this.Al=null;this.LC=!1;this.ts=0;this.Yh=this.Rr=this.Bt=!1;this.xx=new ca;this.kt=new ca;this.lt=new ca;this.Xx=[];new db([]);new db([]);
this.Uj=[];this.Go={};this.Xj={};this.Tj={};this.Yk={};this.zv={};this.Lw=this.Yo=this.fe=this.De=this.Kw=this.Xo=this.yb=null;this.Wk=this.ls=!1;this.Jr=[null,null];this.$i=0;this.ni={};this.Mp=this.rk=null;this.qp=[];this.bE()}}function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function g(a,b,c,m){var l=indexedDB.open("_C2SaveStates");l.onupgradeneeded=d;l.onerror=m;l.onsuccess=function(d){d=d.target.result;d.onerror=m;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,
data:b}).onsuccess=c}}function e(a,b,c){var m=indexedDB.open("_C2SaveStates");m.onupgradeneeded=d;m.onerror=c;m.onsuccess=function(d){d=d.target.result;d.onerror=c;var m=d.transaction(["saves"]).objectStore("saves").get(a);m.onsuccess=function(){m.result?b(m.result.data):b(null)}}}function f(){ea("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location+="?continuous"}function n(a){var b,c=
{};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ca||a[b]&&"undefined"!==typeof a[b].ag||(c[b]=a[b]);return c}b.prototype.bE=function(){var a=this,b;b=this.jk?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;var c="data.js";if(this.Bw||this.jk||this.Mo)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.lc&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(m){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(l){}if("overrideMimeType"in
b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(e){}this.jk?b.onreadystatechange=function(){4===b.readyState&&a.bp(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.bp(b.response);else if(a.Ef){var c=b.responseText,c=c.substr(c.indexOf("{"));a.bp(JSON.parse(c))}else a.bp(JSON.parse(b.responseText))},b.onerror=function(a){fa("Error requesting "+c+":");fa(a)});b.send()};b.prototype.QC=function(){var b=this,d,m,l,e,f,h,g,p,q;this.devicePixelRatio=(this.ik=(!this.lc||this.Ef)&&
this.AE&&!this.yw)?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.Xc();m=!(!this.hC&&(!this.Tq||this.Zh||this.Aw||this.jk||this.Lo||this.Df||this.ww));0<this.$d&&this.setSize(a(),c(),!0);try{this.EB&&(this.bf||this.Ef||!this.lc)&&(d={alpha:m,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.aa=this.canvas.getContext("webgl",d)||this.canvas.getContext("experimental-webgl",d))}catch(n){}if(this.aa){this.lc||(this.Sc=
document.createElement("canvas"),jQuery(this.Sc).appendTo(this.canvas.parentNode),this.Sc.oncontextmenu=function(){return!1},this.Sc.onselectstart=function(){return!1},this.Sc.width=this.Yn,this.Sc.height=this.Xn,jQuery(this.Sc).css({width:this.Yn+"px",height:this.Xn+"px"}),this.Nx(),this.qt=this.Sc.getContext("2d"));this.Y=new lb(this.aa,this.jg);this.Y.Rk(this.canvas.width,this.canvas.height);this.Y.Vv=0!==this.sB;this.ib=null;this.canvas.addEventListener("webglcontextlost",function(a){a.preventDefault();
b.LD();ea("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){b.Y.rw();b.Y.Rk(b.Y.width,b.Y.height,!0);b.De=null;b.fe=null;b.Jr[0]=null;b.Jr[1]=null;b.MD();b.bb=!0;ea("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);d=0;for(m=this.ba.length;d<m;d++)for(f=this.ba[d],l=0,e=f.ua.length;l<e;l++)g=f.ua[l],g.Tc=this.Y.Or(g.id),this.Wk=this.Wk||this.Y.Om(g.Tc);d=0;for(m=this.Gf.length;d<m;d++){p=this.Gf[d];
l=0;for(e=p.ua.length;l<e;l++)g=p.ua[l],g.Tc=this.Y.Or(g.id);l=0;for(e=p.Ea.length;l<e;l++)for(q=p.Ea[l],f=0,h=q.ua.length;f<h;f++)g=q.ua[f],g.Tc=this.Y.Or(g.id),this.Wk=this.Wk||this.Y.Om(g.Tc)}}else{if(0<this.$d&&this.ig){this.canvas=null;document.oncontextmenu=function(){return!1};document.onselectstart=function(){return!1};this.ib=AppMobi.canvas.getContext("2d");try{this.ib.samplingMode=this.Ra?"smooth":"sharp",this.ib.globalScale=1,this.ib.HTML5CompatibilityMode=!0,this.ib.imageSmoothingEnabled=
this.Ra}catch(k){}0!==this.width&&0!==this.height&&(this.ib.width=this.width,this.ib.height=this.height)}this.ib||(d=this.bf?{antialias:!!this.Ra,alpha:m}:{alpha:m},this.ib=this.canvas.getContext("2d",d),this.ib.webkitImageSmoothingEnabled=this.Ra,this.ib.mozImageSmoothingEnabled=this.Ra,this.ib.msImageSmoothingEnabled=this.Ra,this.ib.imageSmoothingEnabled=this.Ra);this.qt=this.Sc=null}this.Xp=function(){b.Cd(!1)};window==window.top||this.lc||this.Aw||this.jk||(document.addEventListener("mousedown",
function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.bf&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&(ea("Reloading for continuous preview"),this.Zo="__c2_continuouspreview",this.Xm=!0),this.SD&&!this.jg&&(jQuery(window).focus(function(){b.setSuspended(!1)}),jQuery(window).blur(function(){b.setSuspended(!0)})));this.lc||(d=function(a){if(kb(a)&&
document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",d):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",d):document.addEventListener("touchstart",d),document.addEventListener("mousedown",d));0===this.$d&&this.ik&&1<this.devicePixelRatio&&this.setSize(this.zc,this.yc,!0);this.yy();this.JC();
this.go();this.X={}};b.prototype.setSize=function(a,b,c){var d=0,m=0,l=0,e=0,e=0,f=this.ZC&&this.WC&&!navigator.standalone&&!this.lc&&!this.Df;f&&(b+=60);if(this.cm!==a||this.am!==b||c){this.cm=a;this.am=b;var h=this.$d,g=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||document.fullScreen||this.Xl)&&!this.Df;if(g||0!==this.$d||c)g&&0<this.$i&&(h=this.$i),c=this.devicePixelRatio,4<=h?(l=this.zc/this.yc,a/b>l?(l*=b,5===h?(e=l*c/this.zc,1<e?e=Math.floor(e):1>e&&
(e=1/Math.ceil(1/e)),l=this.zc*e/c,e=this.yc*e/c,d=(a-l)/2,m=(b-e)/2,a=l,b=e):(d=(a-l)/2,a=l)):(e=a/l,5===h?(e=e*c/this.yc,1<e?e=Math.floor(e):1>e&&(e=1/Math.ceil(1/e)),l=this.zc*e/c,e=this.yc*e/c,d=(a-l)/2,m=(b-e)/2,a=l):m=(b-e)/2,b=e),g&&!this.Zh&&(m=d=0)):this.Zh&&this.Xl&&0===this.bw&&(d=Math.floor((a-this.zc)/2),m=Math.floor((b-this.yc)/2),a=this.zc,b=this.yc),2>h&&(this.zl=c),this.ik&&this.Ew&&1<c&&(1024<=a&&(a=1023),1024<=b&&(b=1023)),this.Yn=Math.round(a),this.Xn=Math.round(b),this.width=
Math.round(a*c),this.height=Math.round(b*c),this.bb=!0,this.Ky?(this.Ia=this.width,this.Ha=this.height,this.$e=!0):this.width<this.zc&&this.height<this.yc||1===h?(this.Ia=this.width,this.Ha=this.height,this.$e=!0):(this.Ia=this.zc,this.Ha=this.yc,this.$e=!1,2===h?(l=this.zc/this.yc,h=this.cm/this.am,h<l?this.Ia=this.Ha*h:h>l&&(this.Ha=this.Ia/h)):3===h&&(l=this.zc/this.yc,h=this.cm/this.am,h>l?this.Ia=this.Ha*h:h<l&&(this.Ha=this.Ia/h))),this.Fv&&!this.lc&&(jQuery(this.Fv).css({width:Math.round(a)+
"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(m)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.Ef?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(m)+"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.ik&&!this.lc&&jQuery(this.canvas).css({width:Math.round(a)+
"px",height:Math.round(b)+"px"})),this.Sc&&(this.Sc.width=Math.round(a),this.Sc.height=Math.round(b),jQuery(this.Sc).css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.Y&&this.Y.Rk(Math.round(a*c),Math.round(b*c)),this.ig&&this.ib&&(this.ib.width=Math.round(a),this.ib.height=Math.round(b)),this.ib&&(this.ib.webkitImageSmoothingEnabled=this.Ra,this.ib.mozImageSmoothingEnabled=this.Ra,this.ib.msImageSmoothingEnabled=this.Ra,this.ib.imageSmoothingEnabled=this.Ra),this.yy(),this.lc||!f&&
!this.ms||window.setTimeout(function(){window.scrollTo(0,1)},100)}};b.prototype.yy=function(){if(this.LA&&0!==this.pt){var a="portrait";2===this.pt&&(a="landscape");screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):screen.msLockOrientation&&screen.msLockOrientation(a)}};b.prototype.LD=function(){this.Y.WA();this.ls=
!0;var a,b,c;a=0;for(b=this.ba.length;a<b;a++)c=this.ba[a],c.Hm&&c.Hm()};b.prototype.MD=function(){this.ls=!1;var a,b,c;a=0;for(b=this.ba.length;a<b;a++)c=this.ba[a],c.tp&&c.tp()};b.prototype.Nx=function(){if(!this.lc){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||this.Xl)&&!this.Df?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.Sc).css(a)}};var k=window.cancelAnimationFrame||window.mozCancelAnimationFrame||
window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;b.prototype.setSuspended=function(a){var b;if(a&&!this.Yl)for(ea("[Construct 2] Suspending"),this.Yl=!0,-1!==this.Dp&&k&&k(this.Dp),-1!==this.Zp&&clearTimeout(this.Zp),a=0,b=this.Ym.length;a<b;a++)this.Ym[a](!0);else if(!a&&this.Yl){ea("[Construct 2] Resuming");this.Yl=!1;this.Uo=Xa();this.gj=Xa();a=this.qm=this.vo=0;for(b=this.Ym.length;a<b;a++)this.Ym[a](!1);this.Cd(!1)}};b.prototype.EA=function(a){this.Ym.push(a)};
b.prototype.Kh=function(a){return this.qp[a]};b.prototype.bp=function(a){a&&a.project||fa("Project model unavailable");a=a.project;this.name=a[0];this.aw=a[1];this.$d=a[12];this.bw=a[12];this.zc=a[10];this.yc=a[11];this.Fx=this.zc/2;this.Gx=this.yc/2;this.lc&&!this.Ef&&(4<=a[12]||0===a[12])&&(ea("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.bw=this.$d=3);this.ju=a[18];this.jm=a[19];0===this.jm&&(this.rk=new Image,this.rk.src=
"loading-logo.png");this.Gm=a[21];this.qp=jc();this.Hg=new A(this);var b,c,d,m,l,e,f,h,g;b=0;for(c=a[2].length;b<c;b++)f=a[2][b],d=this.Kh(f[0]),mb(f,d.prototype),g=new d(this),g.Kp=f[1],g.$h=f[2],g.qx=f[9],g.Ma&&g.Ma(),this.plugins.push(g);this.qp=jc();b=0;for(c=a[3].length;b<c;b++){f=a[3][b];l=this.Kh(f[1]);g=null;d=0;for(m=this.plugins.length;d<m;d++)if(this.plugins[d]instanceof l){g=this.plugins[d];break}var p=new g.Eb(g);p.name=f[0];p.la=f[2];p.cs=f[3].slice(0);p.DE=f[3].length;p.PA=f[4];p.iC=
f[5];p.Na=f[11];p.la?(p.Ek=[],p.bh=this.Jl++,p.Mb=null):(p.Ek=null,p.bh=-1,p.Mb=[]);p.no=null;p.bk=null;p.Xv=null;p.Ce=!1;p.Zd=null;f[6]?(p.Wt=f[6][0],p.Xt=f[6][1],p.Yt=f[6][2]):(p.Wt=null,p.Xt=0,p.Yt=0);p.Rd=f[7]?f[7]:null;p.index=b;p.F=[];p.bo=[];p.Ai=[new nb(p)];p.Yg=0;p.Ye=null;p.bB=0;p.Uk=!0;p.fq=ob;p.gw=pb;p.rC=qb;p.jb=rb;p.Qm=sb;p.yt=tb;p.Nk=ub;p.yo=vb;p.Kr=wb;p.Mr=xb;p.Tg=yb;p.hw=zb;p.Rn=new eb(this.zc,this.yc);p.En=!0;p.Fn=!1;p.X={};p.toString=Ab;p.jc=[];d=0;for(m=f[8].length;d<m;d++){h=
f[8][d];var q=this.Kh(h[1]),n=null;l=0;for(e=this.jc.length;l<e;l++)if(this.jc[l]instanceof q){n=this.jc[l];break}n||(n=new q(this),n.rx=[],n.Em=new ca,n.Ma&&n.Ma(),this.jc.push(n),kc&&n instanceof kc&&(this.Pt=n));-1===n.rx.indexOf(p)&&n.rx.push(p);l=new n.Eb(n,p);l.name=h[0];l.Na=h[2];l.Ma();p.jc.push(l)}p.global=f[9];p.gs=f[10];p.ua=[];d=0;for(m=f[12].length;d<m;d++)p.ua.push({id:f[12][d][0],name:f[12][d][1],Tc:-1,Pb:!0,index:d});p.gG=f[13];this.ju&&!p.la&&!p.gs&&g.$h||p.Ma();p.name&&(this.types[p.name]=
p);this.ba.push(p);g.Kp&&(d=new g.hb(p),d.uid=this.Gm++,d.Sx=this.ux++,d.bj=0,d.Rl=Bb,d.toString=Cb,d.Da=f[14],d.Ma(),p.F.push(d),this.ni[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(l=a[4][b],e=this.ba[l[0]],d=1,m=l.length;d<m;d++)f=this.ba[l[d]],f.Mb.push(e),e.Ek.push(f);b=0;for(c=a[27].length;b<c;b++){l=a[27][b];e=[];d=0;for(m=l.length;d<m;d++)e.push(this.ba[l[d]]);d=0;for(m=e.length;d<m;d++)e[d].Ce=!0,e[d].Zd=e}if(0<this.Jl)for(b=0,c=this.ba.length;b<c;b++)if(f=this.ba[b],!f.la&&f.Mb.length){f.no=
Array(this.Jl);f.bk=Array(this.Jl);f.Xv=Array(this.Jl);p=[];d=n=q=h=0;for(m=f.Mb.length;d<m;d++)for(g=f.Mb[d],f.no[g.bh]=h,h+=g.DE,f.bk[g.bh]=q,q+=g.PA,f.Xv[g.bh]=n,n+=g.iC,l=0,e=g.ua.length;l<e;l++)p.push(za({},g.ua[l]));f.ua=p.concat(f.ua);d=0;for(m=f.ua.length;d<m;d++)f.ua[d].index=d}b=0;for(c=a[5].length;b<c;b++)f=a[5][b],d=new Db(this,f),this.ys[d.name]=d,this.Gf.push(d);b=0;for(c=a[6].length;b<c;b++)f=a[6][b],d=new Eb(this,f),this.Cr[d.name]=d,this.ah.push(d);b=0;for(c=this.ah.length;b<c;b++)this.ah[b].ec();
b=0;for(c=this.ah.length;b<c;b++)this.ah[b].Fy();b=0;for(c=this.dq.length;b<c;b++)this.dq[b].ec();this.dq.length=0;this.KA=a[7];this.zg=a[9];this.zl=1;this.EB=a[13];this.Ra=a[14];this.Tq=a[15];this.AE=a[17];this.pt=a[20];this.LA=0<this.pt;this.SD=a[22];this.$e=this.Ky=a[23];this.sB=a[24];this.WD=a[25];this.Pp=Date.now();this.qp.length=0;this.QC()};var h=!1;b.prototype.mu=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){h=a.Bv=!0;console&&console.error&&console.error("Error loading image '"+
a.src+"': ",b)};this.Ef?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){h=a.Bv=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):a.src=b);this.Zk.push(a)};b.prototype.gC=function(a){var b,c;b=0;for(c=this.Zk.length;b<c;b++)if(this.Zk[b].XA===a)return this.Zk[b];return null};var l=0,m=!1;b.prototype.JC=function(){this.Al&&(l=this.Al.dG(this.KA))};b.prototype.qv=function(){var a=l,b=0,c=0,d=!0,e,f,c=
0;for(e=this.Zk.length;c<e;c++){f=this.Zk[c];var h=f.mr;if(!h||0>=h)h=5E4;a+=h;f.src&&(f.complete||f.loaded)&&!f.Bv?b+=h:d=!1}d&&this.WD&&this.Al&&(m||(this.Al.eG(),m=!0),c=this.Al.XF(),b+=c,c<l&&(d=!1));this.yj=0==a?0:b/a;return d};b.prototype.go=function(){if(this.ib||this.Y){var a=this.ib||this.qt;this.Sc&&this.Nx();this.yj=0;this.Jw=-1;if(this.qv())this.KC();else{var b=Date.now()-this.Pp;if(a){var c=this.width,d=this.height,m=this.devicePixelRatio;this.Sc&&(c=this.Yn,d=this.Xn,m=1);if(3!==this.jm&&
(this.bf||500<=b&&this.Jw!=this.yj)){a.clearRect(0,0,c,d);var b=c/2,d=d/2,c=0===this.jm&&this.rk.complete,l=40*m,f=0,e=80*m,g;c&&(e=this.rk.width*m,g=this.rk.height*m,l=e/2,f=g/2,a.drawImage(this.rk,pa(b-l),pa(d-f),e,g));1>=this.jm?(b=pa(b-l)+.5,d=pa(d+(f+(c?12*m:0)))+.5,a.fillStyle=h?"red":"DodgerBlue",a.fillRect(b,d,Math.floor(e*this.yj),6*m),a.strokeStyle="black",a.strokeRect(b,d,e,6*m),a.strokeStyle="white",a.strokeRect(b-1*m,d-1*m,e+2*m,8*m)):2===this.jm&&(a.font=this.Ef?"12pt ArialMT":"12pt Arial",
a.fillStyle=h?"#f00":"#999",a.fG="middle",m=Math.round(100*this.yj)+"%",c=a.measureText?a.measureText(m):null,a.fillText(m,b-(c?c.width:0)/2,d))}this.Jw=this.yj}setTimeout(function(a){return function(){a.go()}}(this),this.bf?10:100)}}};b.prototype.KC=function(){this.Sc&&(this.canvas.parentNode.removeChild(this.Sc),this.Sc=this.qt=null);this.Pp=Date.now();this.gj=Xa();var a,b,c;if(this.ju)for(a=0,b=this.ba.length;a<b;a++)c=this.ba[a],c.la||c.gs||!c.Nb.$h||c.Ma();else this.Ro=!1;a=0;for(b=this.Gf.length;a<
b;a++)this.Gf[a].ZA();2<=this.$d&&(a=this.zc/this.yc,b=this.width/this.height,this.zl=2!==this.$d&&b>a||2===this.$d&&b<a?this.height/this.yc:this.width/this.zc);this.aw?this.ys[this.aw].Ut():this.Gf[0].Ut();this.ju||(this.sk=1,this.trigger(A.prototype.W.Iu,null));navigator.splashscreen&&navigator.splashscreen.hide&&navigator.splashscreen.hide();a=0;for(b=this.ba.length;a<b;a++)c=this.ba[a],c.KD&&c.KD();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):
this.Cd(!1);this.ig&&AppMobi.webview.execute("onGameReady();")};var q=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;b.prototype.Cd=function(b){if(this.yb){var d=Xa();if(this.LC&&this.Bt&&29>d-this.ts)this.Bt=!1,this.ts=d,q?this.Dp=q(this.Xp,this.canvas):this.Zp=setTimeout(this.Xp,this.jg?1:16);else{this.Bt=!0;this.ts=d;var m=this.$d,l=(document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||!!document.msFullscreenElement)&&!this.Df;(l||this.Xl)&&0<this.$i&&(m=this.$i);0<m&&(!this.Dw||window.self!==window.top)&&(m=window.innerHeight,this.cm===window.innerWidth&&this.am===m||this.setSize(a(),c()));this.lc||(l?(this.po||(this.Ir=jQuery(this.canvas).css("margin")||"0",this.po=!0),this.Ko||this.Zh||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/
2)+"px"})):this.po?(this.Ko||this.Zh||jQuery(this.canvas).css("margin",this.Ir),this.Ir="",this.po=!1,0===this.$d&&this.setSize(Math.round(this.zx/this.devicePixelRatio),Math.round(this.yx/this.devicePixelRatio),!0)):(this.zx=this.width,this.yx=this.height));this.Ro&&(l=this.qv(),this.sk=this.yj,l&&(this.Ro=!1,this.yj=1,this.trigger(A.prototype.W.Iu,null)));this.dD();!this.bb&&!this.bf||this.ls||this.Xm||b||(this.bb=!1,this.Y?this.Hd():this.Ae(),this.Mp&&(this.canvas&&this.canvas.toDataURL&&(this.canvas.toDataURL(this.Mp[0],
this.Mp[1]),this.trigger(A.prototype.W.Bz,null)),this.Mp=null));this.YF||(this.mf++,this.ko++,this.vo++);this.qm+=Xa()-d;this.Yl||b||(q?this.Dp=q(this.Xp,this.canvas):this.Zp=setTimeout(this.Xp,this.jg?1:16))}}};b.prototype.dD=function(){var a,b,c,d,m,l,e,f,h;a=Xa();1E3<=a-this.gj&&(this.gj+=1E3,1E3<=a-this.gj&&(this.gj=a),this.uo=this.vo,this.vo=0,this.lr=this.qm,this.qm=0);this.ox&&(0!==this.Uo&&(b=a-this.Uo,0!==b||this.TC?(this.$g=b/1E3,.5<this.$g?this.$g=0:.1<this.$g&&(this.$g=.1)):(10<=this.iG&&
(this.ox=!1),this.$g=1/60)),this.Uo=a);this.za=this.$g*this.Bi;this.ai.add(this.za);this.jq.add(this.$g);a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement||this.Xl)&&!this.Df;2<=this.$d||a&&0<this.$i?(b=this.zc/this.yc,c=this.width/this.height,d=this.$d,a&&0<this.$i&&(d=this.$i),this.zl=2!==d&&c>b||2===d&&c<b?this.height/this.yc:this.width/this.zc,this.yb&&(this.yb.Nt(this.yb.scrollX),this.yb.Ot(this.yb.scrollY))):this.zl=this.ik?this.devicePixelRatio:
1;this.Xc();this.Ff++;this.Hg.eE();this.Ff--;this.Xc();this.Ff++;c=this.xx.Oe();a=0;for(b=c.length;a<b;a++)c[a].ZF();a=0;for(b=this.ba.length;a<b;a++)if(e=this.ba[a],!e.la&&(e.jc.length||e.Mb.length))for(c=0,d=e.F.length;c<d;c++)for(f=e.F[c],m=0,l=f.ya.length;m<l;m++)f.ya[m].Cd();a=0;for(b=this.ba.length;a<b;a++)if(e=this.ba[a],!e.la&&(e.jc.length||e.Mb.length))for(c=0,d=e.F.length;c<d;c++)for(f=e.F[c],m=0,l=f.ya.length;m<l;m++)h=f.ya[m],h.VD&&h.VD();c=this.kt.Oe();a=0;for(b=c.length;a<b;a++)c[a].Cd();
this.Ff--;this.MC();for(a=0;this.dr&&10>a++;)this.Uv(this.dr);a=0;for(b=this.ah.length;a<b;a++)this.ah[a].Tr=!1;this.yb.Hl&&this.yb.Hl.Bc();this.Xx.length=0;this.Ff++;a=0;for(b=this.ba.length;a<b;a++)if(e=this.ba[a],!e.la&&(e.jc.length||e.Mb.length))for(c=0,d=e.F.length;c<d;c++)for(f=e.F[c],m=0,l=f.ya.length;m<l;m++)h=f.ya[m],h.Ej&&h.Ej();c=this.lt.Oe();a=0;for(b=c.length;a<b;a++)c[a].Ej();this.Ff--};b.prototype.Uv=function(a){var b=this.yb;this.yb.qE();var c,d,m,l,e,f,h;if(this.Y)for(c=0,d=this.ba.length;c<
d;c++)e=this.ba[c],e.la||!e.cu||e.global&&0!==e.F.length||-1!==a.Vl.indexOf(e)||e.cu();b==a&&(this.Hg.qe.length=0);a.Ut();c=0;for(d=this.ba.length;c<d;c++)if(e=this.ba[c],e.global||e.Nb.Kp)for(a=0,b=e.F.length;a<b;a++)if(f=e.F[a],f.nt&&f.nt(),f.ya)for(m=0,l=f.ya.length;m<l;m++)h=f.ya[m],h.nt&&h.nt();this.bb=!0;this.Xc()};b.prototype.Yp=function(a){this.kt.add(a)};b.prototype.ty=function(a){this.lt.add(a)};b.prototype.zo=function(a){return a&&-1!==a.Fm?this.$g*a.Fm:this.za};b.prototype.Ae=function(){this.yb.Ae(this.ib);
this.ig&&this.ib.present()};b.prototype.Hd=function(){this.yb.Hd(this.Y);this.Y.YD()};b.prototype.lv=function(a){a&&this.eo.push(a)};b.prototype.Yx=function(a){Fa(this.eo,a)};b.prototype.ek=function(a){a=a.toString();return this.ni.hasOwnProperty(a)?this.ni[a]:null};var p=[];b.prototype.Ei=function(a){var b,c;b=a.type.name;var d=null;if(this.Wi.hasOwnProperty(b)){if(d=this.Wi[b],d.contains(a))return}else d=p.length?p.pop():new ca,this.Wi[b]=d;d.add(a);this.Wh=!0;if(a.Ce)for(b=0,c=a.siblings.length;b<
c;b++)this.Ei(a.siblings[b]);this.es&&d.Xk.push(a);this.Ff++;this.trigger(Object.getPrototypeOf(a.type.Nb).W.Cz,a);this.Ff--};b.prototype.Xc=function(){if(this.Wh){var a,b,c,d,m,l;this.es=!0;c=0;for(m=this.yf.length;c<m;++c)for(a=this.yf[c],b=a.type,b.F.push(a),d=0,l=b.Mb.length;d<l;++d)b.Mb[d].F.push(a),b.Mb[d].Uk=!0;this.yf.length=0;this.tz();Wa(this.Wi);this.Wh=this.es=!1}};b.prototype.tz=function(){for(var a in this.Wi)this.Wi.hasOwnProperty(a)&&this.Wy(this.Wi[a])};b.prototype.Wy=function(a){var b=
a.Oe(),c=b[0].type,d,m,l,e,f,h;Za(c.F,a);c.Uk=!0;0===c.F.length&&(c.Fn=!1);d=0;for(m=c.Mb.length;d<m;++d)h=c.Mb[d],Za(h.F,a),h.Uk=!0;d=0;for(m=this.Hg.qe.length;d<m;++d)if(f=this.Hg.qe[d],f.me.hasOwnProperty(c.index)&&Za(f.me[c.index].dj,a),!c.la)for(l=0,e=c.Mb.length;l<e;++l)h=c.Mb[l],f.me.hasOwnProperty(h.index)&&Za(f.me[h.index].dj,a);if(f=b[0].Q){if(f.Sf)for(l=f.F,d=0,m=l.length;d<m;++d)e=l[d],a.contains(e)&&(e.fb(),f.le.update(e,e.Nd,null),e.Nd.set(0,0,-1,-1));Za(f.F,a);f.Sm(0)}for(d=0;d<b.length;++d)this.Vy(b[d],
c);a.clear();p.push(a);this.bb=!0};b.prototype.Vy=function(a,b){var c,d,m;c=0;for(d=this.eo.length;c<d;++c)this.eo[c](a);a.Qh&&b.Rn.update(a,a.Qh,null);(c=a.Q)&&c.Pk(a,!0);if(a.ya)for(c=0,d=a.ya.length;c<d;++c)m=a.ya[c],m.oi&&m.oi(),m.behavior.Em.remove(a);this.xx.remove(a);this.kt.remove(a);this.lt.remove(a);a.oi&&a.oi();this.ni.hasOwnProperty(a.uid.toString())&&delete this.ni[a.uid.toString()];this.rp--;100>b.bo.length&&b.bo.push(a)};b.prototype.Ov=function(a,b,c,d){if(a.la){var m=pa(Math.random()*
a.Ek.length);return this.Ov(a.Ek[m],b,c,d)}return a.Ye?this.Rh(a.Ye,b,!1,c,d,!1):null};var u=[];b.prototype.Rh=function(a,b,c,d,m,l){var e,f,h,g;if(!a)return null;var p=this.ba[a[1]],n=p.Nb.$h;if(this.Ro&&n&&!p.gs||n&&!this.Y&&11===a[0][11])return null;var q=b;n||(b=null);var k;p.bo.length?(k=p.bo.pop(),k.Md=!0,p.Nb.hb.call(k,p)):(k=new p.Nb.hb(p),k.Md=!1);k.uid=c&&!l?a[2]:this.Gm++;this.ni[k.uid.toString()]=k;k.Sx=this.ux++;k.bj=p.F.length;e=0;for(f=this.yf.length;e<f;++e)this.yf[e].type===p&&k.bj++;
k.Rl=Bb;k.toString=Cb;h=a[3];if(k.Md)Wa(k.X);else{k.X={};if("undefined"!==typeof cr_is_preview)for(k.vw=[],k.vw.length=h.length,e=0,f=h.length;e<f;e++)k.vw[e]=h[e][1];k.wc=[];k.wc.length=h.length}e=0;for(f=h.length;e<f;e++)k.wc[e]=h[e][0];if(n){var t=a[0];k.x=ha(d)?t[0]:d;k.y=ha(m)?t[1]:m;k.z=t[2];k.width=t[3];k.height=t[4];k.depth=t[5];k.N=t[6];k.opacity=t[7];k.de=t[8];k.ee=t[9];k.Ed=t[10];e=t[11];!this.Y&&p.ua.length&&(k.Ed=e);k.Dl=gb(k.Ed);this.aa&&hb(k,k.Ed,this.aa);if(k.Md){e=0;for(f=t[12].length;e<
f;e++)for(h=0,g=t[12][e].length;h<g;h++)k.Sb[e][h]=t[12][e][h];k.Qb.set(0,0,0,0);k.Qh.set(0,0,-1,-1);k.Nd.set(0,0,-1,-1);k.Zb.Bj(k.Qb);k.Xq.length=0}else{k.Sb=t[12].slice(0);e=0;for(f=k.Sb.length;e<f;e++)k.Sb[e]=t[12][e].slice(0);k.Ua=[];k.Nh=[];k.Nh.length=p.ua.length;k.Qb=new sa(0,0,0,0);k.Qh=new sa(0,0,-1,-1);k.Nd=new sa(0,0,-1,-1);k.Zb=new ta;k.Xq=[];k.gb=Fb;k.FA=Gb;k.ze=Hb;k.fb=Ib;k.zE=Jb;k.gu=Kb;k.hg=Lb}k.Fj=!1;k.vE=0;k.uE=0;k.tE=null;14===t.length&&(k.Fj=!0,k.vE=t[13][0],k.uE=t[13][1],k.tE=
t[13][2]);e=0;for(f=p.ua.length;e<f;e++)k.Nh[e]=!0;k.Ch=Mb;k.Ch();k.Hy=!!k.Ua.length;k.Gn=!0;k.Zq=!0;p.En=!0;k.visible=!0;k.Fm=-1;k.Q=b;k.Uf=b.F.length;"undefined"===typeof k.Rb&&(k.Rb=null);this.bb=k.Ti=!0}var ka;e=u.length=0;for(f=p.Mb.length;e<f;e++)u.push.apply(u,p.Mb[e].jc);u.push.apply(u,p.jc);if(k.Md)for(e=0,f=u.length;e<f;e++){var ga=u[e];ka=k.ya[e];ka.Md=!0;ga.behavior.hb.call(ka,ga,k);t=a[4][e];h=0;for(g=t.length;h<g;h++)ka.Da[h]=t[h];ka.Ma();ga.behavior.Em.add(k)}else for(k.ya=[],e=0,f=
u.length;e<f;e++)ga=u[e],ka=new ga.behavior.hb(ga,k),ka.Md=!1,ka.Da=a[4][e].slice(0),ka.Ma(),k.ya.push(ka),ga.behavior.Em.add(k);t=a[5];if(k.Md)for(e=0,f=t.length;e<f;e++)k.Da[e]=t[e];else k.Da=t.slice(0);this.yf.push(k);this.Wh=!0;b&&(b.yl(k,!0),1!==b.wg||1!==b.xg)&&(p.Fn=!0);this.rp++;if(p.Ce){if(k.Ce=!0,k.Md?k.siblings.length=0:k.siblings=[],!c&&!l){e=0;for(f=p.Zd.length;e<f;e++)if(p.Zd[e]!==p){if(!p.Zd[e].Ye)return null;k.siblings.push(this.Rh(p.Zd[e].Ye,q,!1,n?k.x:d,n?k.y:m,!0))}e=0;for(f=k.siblings.length;e<
f;e++)for(k.siblings[e].siblings.push(k),h=0;h<f;h++)e!==h&&k.siblings[e].siblings.push(k.siblings[h])}}else k.Ce=!1,k.siblings=null;k.Ma();e=0;for(f=k.ya.length;e<f;e++)k.ya[e].Ox&&k.ya[e].Ox();return k};b.prototype.Nr=function(a){var b,c;b=0;for(c=this.yb.Ea.length;b<c;b++){var d=this.yb.Ea[b];if(jb(d.name,a))return d}return null};b.prototype.Pl=function(a){a=pa(a);0>a&&(a=0);a>=this.yb.Ea.length&&(a=this.yb.Ea.length-1);return this.yb.Ea[a]};b.prototype.er=function(a){var b,c;b=0;for(c=a.length;b<
c;b++)a[b].jb().zb=!0};b.prototype.Qm=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Qm()};b.prototype.yt=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].yt()};b.prototype.Nk=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Nk()};b.prototype.Dy=function(a){if(a.En){var b,c,d=a.F;b=0;for(c=d.length;b<c;++b)d[b].gu();d=this.yf;b=0;for(c=d.length;b<c;++b)d[b].type===a&&d[b].gu();a.En=!1}};b.prototype.lC=function(a,b,c,d){var m,l,e=a?1!==a.wg||1!==a.xg:!1;if(b.la)for(a=0,m=b.Ek.length;a<m;++a)l=
b.Ek[a],e||l.Fn?Ca(d,l.F):(this.Dy(l),l.Rn.Bp(c,d));else e||b.Fn?Ca(d,b.F):(this.Dy(b),b.Rn.Bp(c,d))};b.prototype.wC=function(a,b,c,d){var m,l;m=0;for(l=b.length;m<l;++m)this.lC(a,b[m],c,d)};b.prototype.Tp=function(a,b,c){var d=a.jb(),m,l,e,f,h,p;if(d.zb)for(d.zb=!1,m=d.F.length=0,f=a.F.length;m<f;m++)e=a.F[m],e.fb(),h=e.Q.sd(b,c,!0),p=e.Q.sd(b,c,!1),e.ze(h,p)&&d.F.push(e);else{m=l=0;for(f=d.F.length;m<f;m++)e=d.F[m],e.fb(),h=e.Q.sd(b,c,!0),p=e.Q.sd(b,c,!1),e.ze(h,p)&&(d.F[l]=d.F[m],l++);d.F.length=
l}a.Tg();return d.Sr()};new ta;new sa(0,0,0,0);b.prototype.zy=function(a,b){if(!b)return!1;var c,d,m,l,e;c=0;for(d=a.jc.length;c<d;c++)if(a.jc[c].behavior instanceof b)return!0;if(!a.la)for(c=0,d=a.Mb.length;c<d;c++)for(e=a.Mb[c],m=0,l=e.jc.length;m<l;m++)if(e.jc[m].behavior instanceof b)return!0;return!1};b.prototype.Ay=function(a){return this.zy(a,bc.jF)};b.prototype.bu=function(a){return this.zy(a,bc.kF)};b.prototype.aE=function(a,b){a.Ti&&b.Ti&&this.Xx.push([a,b])};var t=-1;b.prototype.trigger=
function(a,b,c){if(!this.yb)return!1;var d=this.yb.Hl;if(!d)return!1;var m=!1,l,e,f;t++;var h=d.tr;e=0;for(f=h.length;e<f;++e)l=this.wy(a,b,h[e],c),m=m||l;l=this.wy(a,b,d,c);t--;return m||l};b.prototype.wy=function(a,b,c,d){var m=!1,l,e,f,h;if(b)for(f=this.$t(a,b,b.type.name,c,d),m=m||f,h=b.type.Mb,l=0,e=h.length;l<e;++l)f=this.$t(a,b,h[l].name,c,d),m=m||f;else f=this.$t(a,b,"system",c,d),m=m||f;return m};b.prototype.$t=function(a,b,c,d,m){var l,e=!1,f=!1,f="undefined"!==typeof m,h=(f?d.Zv:d.xy)[c];
if(!h)return e;var p=null;d=0;for(l=h.length;d<l;++d)if(h[d].method==a){p=h[d].Il;break}if(!p)return e;a=f?p[m]:p;if(!a)return null;d=0;for(l=a.length;d<l;d++)m=a[d][0],f=a[d][1],f=this.eC(b,c,m,f),e=e||f;return e};b.prototype.eC=function(a,b,c,d){var m,l,e=!1;this.au++;var f=this.ae().zf;f&&this.Qm(f.xi);var h=1<this.au;this.Qm(c.xi);h&&this.$D();var p=this.zt(c);p.zf=c;a&&(m=this.types[b].jb(),m.zb=!1,m.F.length=1,m.F[0]=a,this.types[b].Tg());a=!0;if(c.parent){b=p.oy;for(m=c.parent;m;)b.push(m),
m=m.parent;b.reverse();m=0;for(l=b.length;m<l;m++)if(!b[m].gE()){a=!1;break}}a&&(this.ko++,c.vg?c.fE(d):c.Bc(),e=e||p.fj);this.Mx();h&&this.UD();this.Nk(c.xi);f&&this.Nk(f.xi);this.Wh&&0===this.Ff&&0===t&&!this.hs&&this.Xc();this.au--;return e};b.prototype.dw=function(){var a=this.ae();return a.zf.$c[a.Fd]};b.prototype.$D=function(){this.ep++;this.ep>=this.Ks.length&&this.Ks.push([])};b.prototype.UD=function(){this.ep--};b.prototype.ew=function(){return this.Ks[this.ep]};b.prototype.zt=function(a){this.jo++;
this.jo>=this.Br.length&&this.Br.push(new Nb);var b=this.ae();b.reset(a);return b};b.prototype.Mx=function(){this.jo--};b.prototype.ae=function(){return this.Br[this.jo]};b.prototype.fw=function(a,b){for(var c,d,m,l,e,f;b;){c=0;for(d=b.lf.length;c<d;c++)if(f=b.lf[c],f instanceof Ob&&jb(a,f.name))return f;b=b.parent}c=0;for(d=this.ah.length;c<d;c++)for(e=this.ah[c],m=0,l=e.Th.length;m<l;m++)if(f=e.Th[m],f instanceof Ob&&jb(a,f.name))return f;return null};b.prototype.iw=function(a){var b,c;b=0;for(c=
this.Gf.length;b<c;b++)if(this.Gf[b].Na===a)return this.Gf[b];return null};b.prototype.Bo=function(a){var b,c;b=0;for(c=this.ba.length;b<c;b++)if(this.ba[b].Na===a)return this.ba[b];return null};b.prototype.nC=function(a){var b,c;b=0;for(c=this.Uj.length;b<c;b++)if(this.Uj[b].Na===a)return this.Uj[b];return null};b.prototype.MC=function(){var a=this,b=this.Mt,c=this.jh,d=this.Zo,m=!1;this.ky&&(m=!0,b="__c2_continuouspreview",this.ky=!1);if(b.length){this.Xc();c=this.lE();if(window.indexedDB&&!this.bf)g(b,
c,function(){ea("Saved state to IndexedDB storage ("+c.length+" bytes)");a.jh=c;a.trigger(A.prototype.W.Eq,null);a.jh="";m&&f()},function(d){try{localStorage.setItem("__c2save_"+b,c),ea("Saved state to WebStorage ("+c.length+" bytes)"),a.jh=c,a.trigger(A.prototype.W.Eq,null),a.jh="",m&&f()}catch(l){ea("Failed to save game state: "+d+"; "+l)}});else try{localStorage.setItem("__c2save_"+b,c),ea("Saved state to WebStorage ("+c.length+" bytes)"),a.jh=c,this.trigger(A.prototype.W.Eq,null),a.jh="",m&&f()}catch(l){ea("Error saving to WebStorage: "+
l)}this.ud=this.Zo=this.Mt=""}d.length&&(window.indexedDB&&!this.bf?e(d,function(b){b?(a.ud=b,ea("Loaded state from IndexedDB storage ("+a.ud.length+" bytes)")):(a.ud=localStorage.getItem("__c2save_"+d)||"",ea("Loaded state from WebStorage ("+a.ud.length+" bytes)"));a.Xm=!1;a.ud.length||a.trigger(A.prototype.W.Dq,null)},function(){a.ud=localStorage.getItem("__c2save_"+d)||"";ea("Loaded state from WebStorage ("+a.ud.length+" bytes)");a.Xm=!1;a.ud.length||a.trigger(A.prototype.W.Dq,null)}):(this.ud=
localStorage.getItem("__c2save_"+d)||"",ea("Loaded state from WebStorage ("+this.ud.length+" bytes)"),this.Xm=!1,a.ud.length||a.trigger(A.prototype.W.Dq,null)),this.Mt=this.Zo="");this.ud.length&&(this.Xc(),this.cD(this.ud),this.jh=this.ud,this.trigger(A.prototype.W.Iz,null),this.ud=this.jh="")};b.prototype.lE=function(){var a,b,c,d,m,l,e,f={c2save:!0,version:1,rt:{time:this.ai.Oc,walltime:this.jq.Oc,timescale:this.Bi,tickcount:this.mf,execcount:this.ko,next_uid:this.Gm,running_layout:this.yb.Na,
start_time_offset:Date.now()-this.Pp},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.ba.length;a<b;a++)if(m=this.ba[a],!m.la&&!this.Ay(m)){l={instances:[]};Va(m.X)&&(l.ex=n(m.X));c=0;for(d=m.F.length;c<d;c++)l.instances.push(this.Lt(m.F[c]));f.types[m.Na.toString()]=l}a=0;for(b=this.Gf.length;a<b;a++)c=this.Gf[a],f.layouts[c.Na.toString()]=c.Bd();d=f.events.groups;a=0;for(b=this.Uj.length;a<b;a++)c=this.Uj[a],d[c.Na.toString()]=this.Go[c.Sl].Fo;b=f.events.cnds;for(e in this.Xj)this.Xj.hasOwnProperty(e)&&
(a=this.Xj[e],Va(a.X)&&(b[e]={ex:n(a.X)}));b=f.events.acts;for(e in this.Tj)this.Tj.hasOwnProperty(e)&&(a=this.Tj[e],Va(a.X)&&(b[e]={ex:a.X}));b=f.events.vars;for(e in this.Yk)this.Yk.hasOwnProperty(e)&&(a=this.Yk[e],a.No||a.parent&&!a.Zl||(b[e]=a.data));f.system=this.Hg.Bd();return JSON.stringify(f)};b.prototype.Wx=function(){var a,b,c,d,m,l;this.ni={};a=0;for(b=this.ba.length;a<b;a++)if(c=this.ba[a],!c.la)for(d=0,m=c.F.length;d<m;d++)l=c.F[d],this.ni[l.uid.toString()]=l};b.prototype.cD=function(a){a=
JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.ai.reset();this.ai.Oc=b.time;this.jq.reset();this.jq.Oc=b.walltime||0;this.Bi=b.timescale;this.mf=b.tickcount;this.ko=b.execcount;this.Pp=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.yb.Na)if(c=this.iw(c))this.Uv(c);else return;var d,m,l,e,f,h,p;h=a.types;for(m in h)if(h.hasOwnProperty(m)&&(e=this.Bo(parseInt(m,10)))&&!e.la&&!this.Ay(e)){h[m].ex?e.X=h[m].ex:Wa(e.X);f=e.F;l=h[m].instances;c=0;for(d=na(f.length,l.length);c<
d;c++)this.$o(f[c],l[c]);c=l.length;for(d=f.length;c<d;c++)this.Ei(f[c]);c=f.length;for(d=l.length;c<d;c++){f=null;if(e.Nb.$h&&(f=this.yb.Ao(l[c].w.l),!f))continue;f=this.Rh(e.Ye,f,!1,0,0,!0);this.$o(f,l[c])}e.Uk=!0}this.Xc();this.Wx();d=a.layouts;for(m in d)d.hasOwnProperty(m)&&(c=this.iw(parseInt(m,10)))&&c.ge(d[m]);d=a.events.groups;for(m in d)d.hasOwnProperty(m)&&(c=this.nC(parseInt(m,10)))&&this.Go[c.Sl]&&(this.Go[c.Sl].Fo=d[m]);c=a.events.cnds;for(m in c)c.hasOwnProperty(m)&&this.Xj.hasOwnProperty(m)&&
(this.Xj[m].X=c[m].ex);c=a.events.acts;for(m in c)c.hasOwnProperty(m)&&this.Tj.hasOwnProperty(m)&&(this.Tj[m].X=c[m].ex);c=a.events.vars;for(m in c)c.hasOwnProperty(m)&&this.Yk.hasOwnProperty(m)&&(this.Yk[m].data=c[m]);this.Gm=b.next_uid;this.Hg.ge(a.system);c=0;for(d=this.ba.length;c<d;c++)if(e=this.ba[c],!e.la)for(m=0,a=e.F.length;m<a;m++){f=e.F[m];if(e.Ce)for(h=f.Rl(),b=f.siblings.length=0,l=e.Zd.length;b<l;b++)p=e.Zd[b],e!==p&&f.siblings.push(p.F[h]);f.Rg&&f.Rg();if(f.ya)for(b=0,l=f.ya.length;b<
l;b++)h=f.ya[b],h.Rg&&h.Rg()}this.bb=!0}};b.prototype.Lt=function(a,b){var c,d,m,l,e;l=a.type;m=l.Nb;var f={};b?f.c2=!0:f.uid=a.uid;Va(a.X)&&(f.ex=n(a.X));if(a.wc&&a.wc.length)for(f.ivs={},c=0,d=a.wc.length;c<d;c++)f.ivs[a.type.cs[c].toString()]=a.wc[c];if(m.$h){m={x:a.x,y:a.y,w:a.width,h:a.height,l:a.Q.Na,zi:a.hg()};0!==a.N&&(m.a=a.N);1!==a.opacity&&(m.o=a.opacity);.5!==a.de&&(m.hX=a.de);.5!==a.ee&&(m.hY=a.ee);0!==a.Ed&&(m.bm=a.Ed);a.visible||(m.v=a.visible);a.Ti||(m.ce=a.Ti);-1!==a.Fm&&(m.mts=a.Fm);
if(l.ua.length)for(m.fx=[],c=0,d=l.ua.length;c<d;c++)e=l.ua[c],m.fx.push({name:e.name,active:a.Nh[e.index],params:a.Sb[e.index]});f.w=m}if(a.ya&&a.ya.length)for(f.behs={},c=0,d=a.ya.length;c<d;c++)l=a.ya[c],l.Bd&&(f.behs[l.type.Na.toString()]=l.Bd());a.Bd&&(f.data=a.Bd());return f};b.prototype.pC=function(a,b){var c,d;c=0;for(d=a.cs.length;c<d;c++)if(a.cs[c]===b)return c;return-1};b.prototype.kC=function(a,b){var c,d;c=0;for(d=a.ya.length;c<d;c++)if(a.ya[c].type.Na===b)return c;return-1};b.prototype.$o=
function(a,b,c){var d,m,l,e,f;f=a.type;l=f.Nb;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.X=b.ex:Wa(a.X);if(m=b.ivs)for(d in m)m.hasOwnProperty(d)&&(c=this.pC(f,parseInt(d,10)),0>c||c>=a.wc.length||(a.wc[c]=m[d]));if(l.$h){l=b.w;a.Q.Na!==l.l&&(c=a.Q,a.Q=this.yb.Ao(l.l),a.Q?(c.Pk(a,!0),a.Q.yl(a,!0),a.gb(),a.Q.Sm(0)):(a.Q=c,this.Ei(a)));a.x=l.x;a.y=l.y;a.width=l.w;a.height=l.h;a.Uf=l.zi;a.N=l.hasOwnProperty("a")?l.a:0;a.opacity=l.hasOwnProperty("o")?l.o:1;a.de=l.hasOwnProperty("hX")?l.hX:.5;a.ee=
l.hasOwnProperty("hY")?l.hY:.5;a.visible=l.hasOwnProperty("v")?l.v:!0;a.Ti=l.hasOwnProperty("ce")?l.ce:!0;a.Fm=l.hasOwnProperty("mts")?l.mts:-1;a.Ed=l.hasOwnProperty("bm")?l.bm:0;a.Dl=gb(a.Ed);this.aa&&hb(a,a.Ed,this.aa);a.gb();if(l.hasOwnProperty("fx"))for(c=0,m=l.fx.length;c<m;c++)e=f.Mr(l.fx[c].name),0>e||(a.Nh[e]=l.fx[c].active,a.Sb[e]=l.fx[c].params);a.Ch()}if(f=b.behs)for(d in f)f.hasOwnProperty(d)&&(l=this.kC(a,parseInt(d,10)),0>l||a.ya[l].ge(f[d]));b.data&&a.ge(b.data)};Pb=function(a){return new b(document.getElementById(a))};
Qb=function(a,c){return new b({dc:!0,width:a,height:c})};window.cr_createRuntime=Pb;window.cr_createDCRuntime=Qb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var a=document.createElement("screencanvas")||document.createElement("canvas");a.cG=!0;document.body.appendChild(a);a=new b(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);
return a};window.createEjectaRuntime=function(){var a=new b(document.getElementById("canvas"));window.c2runtime=a;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.i=a;this.Hl=null;this.scrollX=this.i.zc/2;this.scrollY=this.i.yc/2;this.scale=1;this.N=0;this.ck=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.By=b[3];this.iy=b[4];this.Na=b[5];var c=b[6],d,e;this.Ea=[];this.Vl=[];d=0;for(e=c.length;d<e;d++){var f=new Rb(this,c[d]);f.wx=d;this.Ea.push(f)}c=b[7];this.cj=[];d=0;for(e=c.length;d<e;d++){var f=c[d],h=this.i.ba[f[1]];h.Ye||(h.Ye=f);this.cj.push(f);-1===this.Vl.indexOf(h)&&this.Vl.push(h)}this.ua=[];this.Ua=[];
this.Sb=[];d=0;for(e=b[8].length;d<e;d++)this.ua.push({id:b[8][d][0],name:b[8][d][1],Tc:-1,Pb:!0,index:d}),this.Sb.push(b[8][d][2].slice(0));this.Ch();this.Ok=new sa(0,0,1,1);this.Ct=new sa(0,0,1,1);this.pi={}}function c(a,b){return a.Uf-b.Uf}function b(a,b){this.mc=a;this.i=a.i;this.F=[];this.scale=1;this.N=0;this.Xi=!1;this.Ah=new sa(0,0,0,0);this.uy=new ta;this.Ab=this.mb=this.Bb=this.lb=0;this.Gj=!1;this.Eh=-1;this.name=b[0];this.index=b[1];this.Na=b[2];this.visible=b[3];this.Sd=b[4];this.Bh=
b[5];this.wg=b[6];this.xg=b[7];this.opacity=b[8];this.Hr=b[9];this.Sf=b[10];this.Fh=b[11];this.Ed=b[12];this.DB=b[13];this.Dl="source-over";this.bd=this.hd=0;this.le=null;this.pk=d();this.zh=!0;this.To=new sa(0,0,-1,-1);this.Xe=new sa(0,0,-1,-1);this.Sf&&(this.le=new fb(this.i.zc,this.i.yc));this.ti=!1;var c=b[14],e,f;this.hk=[];e=0;for(f=c.length;e<f;e++){var h=c[e],g=this.i.ba[h[1]];g.Ye||(g.Ye=h,g.bB=this.index);this.hk.push(h);-1===this.mc.Vl.indexOf(g)&&this.mc.Vl.push(g)}this.ua=[];this.Ua=
[];this.Sb=[];e=0;for(f=b[15].length;e<f;e++)this.ua.push({id:b[15][e][0],name:b[15][e][1],Tc:-1,Pb:!0,index:e}),this.Sb.push(b[15][e][2].slice(0));this.Ch();this.Ok=new sa(0,0,1,1);this.Ct=new sa(0,0,1,1)}function d(){return n.length?n.pop():[]}function g(a){a.length=0;n.push(a)}a.prototype.kE=function(a){var b=a.type.Na.toString();this.pi.hasOwnProperty(b)||(this.pi[b]=[]);this.pi[b].push(this.i.Lt(a))};a.prototype.nw=function(){var a=this.Ea[0];return!a.Bh&&1===a.opacity&&!a.Hr&&a.visible};a.prototype.Ch=
function(){this.Ua.length=0;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Pb&&this.Ua.push(c)};a.prototype.Lr=function(a){var b,c,d;b=0;for(c=this.ua.length;b<c;b++)if(d=this.ua[b],d.name===a)return d;return null};var e=[],f=!0;a.prototype.Ut=function(){this.iy&&(this.Hl=this.i.Cr[this.iy],this.Hl.Fy());this.i.yb=this;this.scrollX=this.i.zc/2;this.scrollY=this.i.yc/2;var a,b,d,h,g,k,n;a=0;for(d=this.i.ba.length;a<d;a++)if(b=this.i.ba[a],!b.la)for(g=b.F,b=0,h=g.length;b<h;b++)if(k=g[b],
k.Q){var y=k.Q.wx;y>=this.Ea.length&&(y=this.Ea.length-1);k.Q=this.Ea[y];-1===k.Q.F.indexOf(k)&&k.Q.F.push(k);k.Q.Gj=!0}if(!f)for(a=0,d=this.Ea.length;a<d;++a)this.Ea[a].F.sort(c);e.length=0;this.QA();a=0;for(d=this.Ea.length;a<d;a++)k=this.Ea[a],k.$A(),k.eu();g=!1;if(!this.ck){for(n in this.pi)if(this.pi.hasOwnProperty(n)&&(b=this.i.Bo(parseInt(n,10)))&&!b.la&&this.i.bu(b)){h=this.pi[n];a=0;for(d=h.length;a<d;a++){k=null;if(b.Nb.$h&&(k=this.Ao(h[a].w.l),!k))continue;k=this.i.Rh(b.Ye,k,!1,0,0,!0);
this.i.$o(k,h[a]);g=!0;e.push(k)}h.length=0}a=0;for(d=this.Ea.length;a<d;a++)this.Ea[a].F.sort(c),this.Ea[a].Gj=!0}g&&(this.i.Xc(),this.i.Wx());for(a=0;a<e.length;a++)if(k=e[a],k.type.Ce)for(d=k.Rl(),b=0,h=k.type.Zd.length;b<h;b++)n=k.type.Zd[b],k.type!==n&&(n.F.length>d?k.siblings.push(n.F[d]):n.Ye&&(g=this.i.Rh(n.Ye,k.Q,!0,k.x,k.y,!0),this.i.Xc(),n.fq(),k.siblings.push(g),e.push(g)));a=0;for(d=this.cj.length;a<d;a++)this.i.Rh(this.cj[a],null,!0);this.i.dr=null;this.i.Xc();if(this.i.ib&&!this.i.lc)for(a=
0,d=this.i.ba.length;a<d;a++)n=this.i.ba[a],!n.la&&n.F.length&&n.ut&&n.ut(this.i.ib);a=0;for(d=e.length;a<d;a++)k=e[a],this.i.trigger(Object.getPrototypeOf(k.type.Nb).W.Cq,k);e.length=0;this.i.trigger(A.prototype.W.Hu,null);this.ck=!1};a.prototype.ZA=function(){var a,b,c,d,e;b=a=0;for(c=this.cj.length;a<c;a++)d=this.cj[a],e=this.i.ba[d[1]],e.global?this.i.Rh(d,null,!0):(this.cj[b]=d,b++);this.cj.length=b};a.prototype.qE=function(){this.i.trigger(A.prototype.W.Hz,null);this.i.Hg.qe.length=0;var a,
b,c,d,e,h;if(!this.ck)for(a=0,b=this.Ea.length;a<b;a++)for(this.Ea[a].fu(),e=this.Ea[a].F,c=0,d=e.length;c<d;c++)h=e[c],h.type.global||this.i.bu(h.type)&&this.kE(h);a=0;for(b=this.Ea.length;a<b;a++){e=this.Ea[a].F;c=0;for(d=e.length;c<d;c++)h=e[c],h.type.global||this.i.Ei(h);this.i.Xc();e.length=0;this.Ea[a].Gj=!0}a=0;for(b=this.i.ba.length;a<b;a++)if(e=this.i.ba[a],!(e.global||e.Nb.$h||e.Nb.Kp||e.la)){c=0;for(d=e.F.length;c<d;c++)this.i.Ei(e.F[c]);this.i.Xc()}f=!1};new sa(0,0,0,0);a.prototype.Ae=
function(a){var b,c=a,d=!1,e=!this.i.$e;e&&(this.i.Yo||(this.i.Yo=document.createElement("canvas"),b=this.i.Yo,b.width=this.i.Ia,b.height=this.i.Ha,this.i.Lw=b.getContext("2d"),d=!0),b=this.i.Yo,c=this.i.Lw,b.width!==this.i.Ia&&(b.width=this.i.Ia,d=!0),b.height!==this.i.Ha&&(b.height=this.i.Ha,d=!0),d&&(c.webkitImageSmoothingEnabled=this.i.Ra,c.mozImageSmoothingEnabled=this.i.Ra,c.msImageSmoothingEnabled=this.i.Ra,c.imageSmoothingEnabled=this.i.Ra));c.globalAlpha=1;c.globalCompositeOperation="source-over";
this.i.Tq&&!this.nw()&&c.clearRect(0,0,this.i.Ia,this.i.Ha);var f,h,d=0;for(f=this.Ea.length;d<f;d++)h=this.Ea[d],h.visible&&0<h.opacity&&11!==h.Ed&&(h.F.length||!h.Bh)?h.Ae(c):h.eu();e&&a.drawImage(b,0,0,this.i.width,this.i.height)};a.prototype.Hd=function(a){var b=0<this.Ua.length||this.i.Wk||!this.i.$e;if(b){this.i.fe||(this.i.fe=a.xf(this.i.Ia,this.i.Ha,this.i.Ra));if(this.i.fe.Cl!==this.i.Ia||this.i.fe.Bl!==this.i.Ha)a.deleteTexture(this.i.fe),this.i.fe=a.xf(this.i.Ia,this.i.Ha,this.i.Ra);a.Fg(this.i.fe);
this.i.$e||a.Rk(this.i.Ia,this.i.Ha)}else this.i.fe&&(a.Fg(null),a.deleteTexture(this.i.fe),this.i.fe=null);this.i.Tq&&!this.nw()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.Ea.length;c<d;c++)e=this.Ea[c],e.visible&&0<e.opacity&&(e.F.length||!e.Bh)?e.Hd(a):e.eu();b&&(0===this.Ua.length||1===this.Ua.length&&this.i.$e?(1===this.Ua.length?(b=this.Ua[0].index,a.Gg(this.Ua[0].Tc),a.Qk(null,1/this.i.Ia,1/this.i.Ha,0,0,1,1,this.scale,this.N,0,0,this.i.Ia/2,this.i.Ha/2,this.Sb[b]),a.Ap(this.Ua[0].Tc)&&(this.i.bb=
!0)):a.Gg(0),this.i.$e||a.Rk(this.i.width,this.i.height),a.Fg(null),a.wi(1),a.Cc(this.i.fe),a.dy(),a.Dg(),a.Kg(),b=this.i.width/2,c=this.i.height/2,a.zj(-b,c,b,c,b,-c,-b,-c),a.Cc(null)):this.Et(a,null,null,null))};a.prototype.Ql=function(){return 0<this.Ua.length||this.i.Wk||!this.i.$e?this.i.fe:null};a.prototype.jw=function(){var a=this.Ea[0].be(),b,c,d;b=1;for(c=this.Ea.length;b<c;b++)d=this.Ea[b],(0!==d.wg||0!==d.xg)&&d.be()<a&&(a=d.be());return a};a.prototype.Nt=function(a){if(!this.By){var b=
1/this.jw()*this.i.Ia/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.i.bb=!0)};a.prototype.Ot=function(a){if(!this.By){var b=1/this.jw()*this.i.Ha/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.i.bb=!0)};a.prototype.QA=function(){this.Nt(this.scrollX);this.Ot(this.scrollY)};a.prototype.Et=function(a,b,c,d){var e=c?c.Ua:b?b.Ua:this.Ua,f=1,h=0,k=0,g=0,n=this.i.Ia,C=this.i.Ha;c?(f=c.Q.be(),h=c.Q.Be(),k=c.Q.lb,g=c.Q.mb,n=c.Q.Bb,
C=c.Q.Ab):b&&(f=b.be(),h=b.Be(),k=b.lb,g=b.mb,n=b.Bb,C=b.Ab);var D=this.i.Jr,E,B,G,F,H=0,W=1,M,Q=this.i.Ia,N=this.i.Ha,ka=Q/2,ga=N/2,R=b?b.Ok:this.Ok,J=b?b.Ct:this.Ct,T=0,Z=0,L=0,aa=0,X=Q,La=Q,V=N,Ma=N,Da=G=0,Sa=c?c.Q.Be():0;if(c){E=0;for(B=e.length;E<B;E++)G+=a.tC(e[E].Tc),Da+=a.uC(e[E].Tc);F=c.Qb;T=b.xc(F.left,F.top,!0);L=b.xc(F.left,F.top,!1);X=b.xc(F.right,F.bottom,!0);V=b.xc(F.right,F.bottom,!1);0!==Sa&&(E=b.xc(F.right,F.top,!0),B=b.xc(F.right,F.top,!1),Z=b.xc(F.left,F.bottom,!0),aa=b.xc(F.left,
F.bottom,!1),F=Math.min(T,X,E,Z),X=Math.max(T,X,E,Z),T=F,F=Math.min(L,V,B,aa),V=Math.max(L,V,B,aa),L=F);T-=G;L-=Da;X+=G;V+=Da;J.left=T/Q;J.top=1-L/N;J.right=X/Q;J.bottom=1-V/N;Z=T=pa(T);aa=L=pa(L);La=X=qa(X);Ma=V=qa(V);Z-=G;aa-=Da;La+=G;Ma+=Da;0>T&&(T=0);0>L&&(L=0);X>Q&&(X=Q);V>N&&(V=N);0>Z&&(Z=0);0>aa&&(aa=0);La>Q&&(La=Q);Ma>N&&(Ma=N);R.left=T/Q;R.top=1-L/N;R.right=X/Q;R.bottom=1-V/N}else R.left=J.left=0,R.top=J.top=0,R.right=J.right=1,R.bottom=J.bottom=1;Da=c&&((c.N||Sa)&&a.Om(e[0].Tc)||0!==G||
0!==Da||1!==c.opacity||c.type.Nb.qx)||b&&!c&&1!==b.opacity;a.dy();if(Da){D[H]||(D[H]=a.xf(Q,N,this.i.Ra));if(D[H].Cl!==Q||D[H].Bl!==N)a.deleteTexture(D[H]),D[H]=a.xf(Q,N,this.i.Ra);a.Gg(0);a.Fg(D[H]);M=Ma-aa;a.clearRect(Z,N-aa-M,La-Z,M);c?c.Hd(a):(a.Cc(this.i.De),a.wi(b.opacity),a.Dg(),a.translate(-ka,-ga),a.Kg(),a.ri(T,V,X,V,X,L,T,L,R));J.left=J.top=0;J.right=J.bottom=1;c&&(F=R.top,R.top=R.bottom,R.bottom=F);H=1;W=0}a.wi(1);G=e.length-1;var Sa=a.xt(e[G].Tc)||!b&&!c&&!this.i.$e,Ta=0;E=0;for(B=e.length;E<
B;E++){D[H]||(D[H]=a.xf(Q,N,this.i.Ra));if(D[H].Cl!==Q||D[H].Bl!==N)a.deleteTexture(D[H]),D[H]=a.xf(Q,N,this.i.Ra);a.Gg(e[E].Tc);Ta=e[E].index;a.Ap(e[E].Tc)&&(this.i.bb=!0);0!=E||Da?(a.Qk(d,1/Q,1/N,J.left,J.top,J.right,J.bottom,f,h,k,g,(k+n)/2,(g+C)/2,c?c.Sb[Ta]:b?b.Sb[Ta]:this.Sb[Ta]),a.Cc(null),E!==G||Sa?(a.Fg(D[H]),M=Ma-aa,F=N-aa-M,a.clearRect(Z,F,La-Z,M)):(c?a.vi(c.hd,c.bd):b&&a.vi(b.hd,b.bd),a.Fg(d)),a.Cc(D[W]),a.Dg(),a.translate(-ka,-ga),a.Kg(),a.ri(T,V,X,V,X,L,T,L,R),E!==G||Sa||a.Cc(null)):
(a.Fg(D[H]),M=Ma-aa,F=N-aa-M,a.clearRect(Z,F,La-Z,M),c?(a.Qk(d,1/c.width,1/c.height,J.left,J.top,J.right,J.bottom,f,h,k,g,(k+n)/2,(g+C)/2,c.Sb[Ta]),c.Hd(a)):(a.Qk(d,1/Q,1/N,0,0,1,1,f,h,k,g,(k+n)/2,(g+C)/2,b?b.Sb[Ta]:this.Sb[Ta]),a.Cc(b?this.i.De:this.i.fe),a.Dg(),a.translate(-ka,-ga),a.Kg(),a.ri(T,V,X,V,X,L,T,L,R)),J.left=J.top=0,J.right=J.bottom=1,c&&!Sa&&(F=V,V=L,L=F));H=0===H?1:0;W=0===H?1:0}Sa&&(a.Gg(0),c?a.vi(c.hd,c.bd):b?a.vi(b.hd,b.bd):this.i.$e||(a.Rk(this.i.width,this.i.height),ka=this.i.width/
2,ga=this.i.height/2,L=T=0,X=this.i.width,V=this.i.height),a.Fg(d),a.Cc(D[W]),a.Dg(),a.translate(-ka,-ga),a.Kg(),c&&1===e.length&&!Da?a.ri(T,L,X,L,X,V,T,V,R):a.ri(T,V,X,V,X,L,T,L,R),a.Cc(null))};a.prototype.Ao=function(a){var b,c;b=0;for(c=this.Ea.length;b<c;b++)if(this.Ea[b].Na===a)return this.Ea[b];return null};a.prototype.Bd=function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.N,w:this.width,h:this.height,fv:this.ck,persist:this.pi,fx:[],layers:{}};a=0;for(b=this.ua.length;a<
b;a++)c=this.ua[a],d.fx.push({name:c.name,active:c.Pb,params:this.Sb[c.index]});a=0;for(b=this.Ea.length;a<b;a++)c=this.Ea[a],d.layers[c.Na.toString()]=c.Bd();return d};a.prototype.ge=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.N=a.a;this.width=a.w;this.height=a.h;this.pi=a.persist;"undefined"!==typeof a.fv&&(this.ck=a.fv);var f=a.fx;b=0;for(c=f.length;b<c;b++)if(d=this.Lr(f[b].name))d.Pb=f[b].active,this.Sb[d.index]=f[b].params;this.Ch();b=a.layers;for(e in b)b.hasOwnProperty(e)&&
(a=this.Ao(parseInt(e,10)))&&a.ge(b[e])};Db=a;b.prototype.Ch=function(){this.Ua.length=0;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Pb&&this.Ua.push(c)};b.prototype.Lr=function(a){var b,c,d;b=0;for(c=this.ua.length;b<c;b++)if(d=this.ua[b],d.name===a)return d;return null};b.prototype.$A=function(){var a,b,c,d,f,h;b=a=0;for(c=this.hk.length;a<c;a++){d=this.hk[a];f=this.i.ba[d[1]];h=this.i.bu(f);f=!0;if(!h||this.mc.ck)d=this.i.Rh(d,this,!0),e.push(d),d.type.global&&(f=!1);f&&(this.hk[b]=
this.hk[a],b++)}this.hk.length=b;this.i.Xc();!this.i.Y&&this.ua.length&&(this.Ed=this.DB);this.Dl=gb(this.Ed);this.i.aa&&hb(this,this.Ed,this.i.aa);this.zh=!0};b.prototype.Pk=function(a,b){var c=Ea(this.F,a);0>c||(b&&this.Sf&&a.Nd&&a.Nd.right>=a.Nd.left&&(a.fb(),this.le.update(a,a.Nd,null),a.Nd.set(0,0,-1,-1)),c===this.F.length-1?this.F.pop():(Aa(this.F,c),this.Sm(c)),this.zh=!0)};b.prototype.yl=function(a,b){a.Uf=this.F.length;this.F.push(a);b&&this.Sf&&a.Nd&&a.gb();this.zh=!0};b.prototype.XD=function(a){this.F.unshift(a);
this.Sm(0)};b.prototype.ID=function(a,b,c){var d=a.hg();b=b.hg();Aa(this.F,d);d<b&&b--;c&&b++;b===this.F.length?this.F.push(a):this.F.splice(b,0,a);this.Sm(d<b?d:b)};b.prototype.Sm=function(a){-1===this.Eh?this.Eh=a:a<this.Eh&&(this.Eh=a);this.zh=this.Gj=!0};b.prototype.fu=function(){if(this.Gj){-1===this.Eh&&(this.Eh=0);var a,b,c;if(this.Sf)for(a=this.Eh,b=this.F.length;a<b;++a)c=this.F[a],c.Uf=a,this.le.zD(c.Nd);else for(a=this.Eh,b=this.F.length;a<b;++a)this.F[a].Uf=a;this.Gj=!1;this.Eh=-1}};b.prototype.be=
function(a){return this.qC()*(this.i.$e||a?this.i.zl:1)};b.prototype.qC=function(){return(this.scale*this.mc.scale-1)*this.Fh+1};b.prototype.Be=function(){return this.Xi?0:Ia(this.mc.N+this.N)};var n=[],k=[],h=[];b.prototype.kw=function(){this.fu();this.le.Bp(this.lb,this.mb,this.Bb,this.Ab,h);if(!h.length)return d();if(1===h.length){var a=d();Ba(a,h[0]);h.length=0;return a}for(var b=!0;1<h.length;){for(var a=h,c=void 0,e=void 0,f=void 0,n=void 0,s=void 0,c=0,e=a.length;c<e-1;c+=2){var f=a[c],n=a[c+
1],s=d(),y=f,z=n,x=s,C=0,D=0,E=0,B=y.length,G=z.length,F=void 0,H=void 0;for(x.length=B+G;C<B&&D<G;++E)F=y[C],H=z[D],F.Uf<H.Uf?(x[E]=F,++C):(x[E]=H,++D);for(;C<B;++C,++E)x[E]=y[C];for(;D<G;++D,++E)x[E]=z[D];b||(g(f),g(n));k.push(s)}1===e%2&&(b?(f=d(),Ba(f,a[e-1]),k.push(f)):k.push(a[e-1]));Ba(a,k);k.length=0;b=!1}a=h[0];h.length=0;return a};b.prototype.Ae=function(a){this.ti=this.Hr||1!==this.opacity||0!==this.Ed;var b=this.i.canvas,c=a,d=!1;this.ti&&(this.i.Xo||(this.i.Xo=document.createElement("canvas"),
b=this.i.Xo,b.width=this.i.Ia,b.height=this.i.Ha,this.i.Kw=b.getContext("2d"),d=!0),b=this.i.Xo,c=this.i.Kw,b.width!==this.i.Ia&&(b.width=this.i.Ia,d=!0),b.height!==this.i.Ha&&(b.height=this.i.Ha,d=!0),d&&(c.webkitImageSmoothingEnabled=this.i.Ra,c.mozImageSmoothingEnabled=this.i.Ra,c.msImageSmoothingEnabled=this.i.Ra,c.imageSmoothingEnabled=this.i.Ra),this.Bh&&c.clearRect(0,0,this.i.Ia,this.i.Ha));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Bh||(c.fillStyle="rgb("+this.Sd[0]+","+
this.Sd[1]+","+this.Sd[2]+")",c.fillRect(0,0,this.i.Ia,this.i.Ha));c.save();this.Xi=!0;var d=this.sd(0,0,!0,!0),e=this.sd(0,0,!1,!0);this.Xi=!1;this.i.zg&&(d=Math.round(d),e=Math.round(e));this.Gt(d,e,c);var f=this.be();c.scale(f,f);c.translate(-d,-e);this.Sf?(this.Xe.left=this.le.ve(this.lb),this.Xe.top=this.le.we(this.mb),this.Xe.right=this.le.ve(this.Bb),this.Xe.bottom=this.le.we(this.Ab),this.zh||!this.Xe.ho(this.To)?(g(this.pk),d=this.kw(),this.zh=!1,this.To.Wn(this.Xe)):d=this.pk):d=this.F;
for(var h,k=null,e=0,f=d.length;e<f;++e)h=d[e],h!==k&&(this.tB(h,c),k=h);this.Sf&&(this.pk=d);c.restore();this.ti&&(a.globalCompositeOperation=this.Dl,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.tB=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.fb();var c=a.Qb;c.right<this.lb||c.bottom<this.mb||c.left>this.Bb||c.top>this.Ab||(b.globalCompositeOperation=a.Dl,a.Ae(b))}};b.prototype.eu=function(){this.Xi=!0;var a=this.sd(0,0,!0,!0),b=this.sd(0,0,!1,!0);this.Xi=!1;this.i.zg&&
(a=Math.round(a),b=Math.round(b));this.Gt(a,b,null)};b.prototype.Gt=function(a,b,c){var d=this.be();this.lb=a;this.mb=b;this.Bb=a+1/d*this.i.Ia;this.Ab=b+1/d*this.i.Ha;a=this.Be();0!==a&&(c&&(c.translate(this.i.Ia/2,this.i.Ha/2),c.rotate(-a),c.translate(this.i.Ia/-2,this.i.Ha/-2)),this.Ah.set(this.lb,this.mb,this.Bb,this.Ab),this.Ah.offset((this.lb+this.Bb)/-2,(this.mb+this.Ab)/-2),this.uy.gy(this.Ah,a),this.uy.Av(this.Ah),this.Ah.offset((this.lb+this.Bb)/2,(this.mb+this.Ab)/2),this.lb=this.Ah.left,
this.mb=this.Ah.top,this.Bb=this.Ah.right,this.Ab=this.Ah.bottom)};b.prototype.Hd=function(a){var b=0,c=0;if(this.ti=this.Hr||1!==this.opacity||0<this.Ua.length||0!==this.Ed){this.i.De||(this.i.De=a.xf(this.i.Ia,this.i.Ha,this.i.Ra));if(this.i.De.Cl!==this.i.Ia||this.i.De.Bl!==this.i.Ha)a.deleteTexture(this.i.De),this.i.De=a.xf(this.i.Ia,this.i.Ha,this.i.Ra);a.Fg(this.i.De);this.Bh&&a.clear(0,0,0,0)}this.Bh||a.clear(this.Sd[0]/255,this.Sd[1]/255,this.Sd[2]/255,1);this.Xi=!0;var d=this.sd(0,0,!0,!0),
b=this.sd(0,0,!1,!0);this.Xi=!1;this.i.zg&&(d=Math.round(d),b=Math.round(b));this.Gt(d,b,null);d=this.be();a.Dg();a.scale(d,d);a.Ht(-this.Be());a.translate((this.lb+this.Bb)/-2,(this.mb+this.Ab)/-2);a.Kg();this.Sf?(this.Xe.left=this.le.ve(this.lb),this.Xe.top=this.le.we(this.mb),this.Xe.right=this.le.ve(this.Bb),this.Xe.bottom=this.le.we(this.Ab),this.zh||!this.Xe.ho(this.To)?(g(this.pk),b=this.kw(),this.zh=!1,this.To.Wn(this.Xe)):b=this.pk):b=this.F;var e,f,h=null,c=0;for(e=b.length;c<e;++c)f=b[c],
f!==h&&(this.uB(b[c],a),h=f);this.Sf&&(this.pk=b);this.ti&&(b=this.Ua.length?this.Ua[0].Tc:0,c=this.Ua.length?this.Ua[0].index:0,0===this.Ua.length||1===this.Ua.length&&!a.xt(b)&&1===this.opacity?(1===this.Ua.length?(a.Gg(b),a.Qk(this.mc.Ql(),1/this.i.Ia,1/this.i.Ha,0,0,1,1,d,this.Be(),this.lb,this.mb,(this.lb+this.Bb)/2,(this.mb+this.Ab)/2,this.Sb[c]),a.Ap(b)&&(this.i.bb=!0)):a.Gg(0),a.Fg(this.mc.Ql()),a.wi(this.opacity),a.Cc(this.i.De),a.vi(this.hd,this.bd),a.Dg(),a.Kg(),d=this.i.Ia/2,b=this.i.Ha/
2,a.zj(-d,b,d,b,d,-b,-d,-b),a.Cc(null)):this.mc.Et(a,this,null,this.mc.Ql()))};b.prototype.uB=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.fb();var c=a.Qb;c.right<this.lb||c.bottom<this.mb||c.left>this.Bb||c.top>this.Ab||(a.Hy?this.vB(a,b):(b.Gg(0),b.vi(a.hd,a.bd),a.Hd(b)))}};b.prototype.vB=function(a,b){var c=a.Ua[0].Tc,d=a.Ua[0].index,e=this.be();if(1!==a.Ua.length||b.xt(c)||b.ZD(c)||(a.N||a.Q.Be())&&b.Om(c)||1!==a.opacity||a.type.Nb.qx)this.mc.Et(b,this,a,this.ti?this.i.De:this.mc.Ql()),
b.Dg(),b.scale(e,e),b.Ht(-this.Be()),b.translate((this.lb+this.Bb)/-2,(this.mb+this.Ab)/-2),b.Kg();else{b.Gg(c);b.vi(a.hd,a.bd);b.Ap(c)&&(this.i.bb=!0);var f=0,h=0,k=0,g=0;b.Om(c)&&(c=a.Qb,f=this.xc(c.left,c.top,!0),h=this.xc(c.left,c.top,!1),k=this.xc(c.right,c.bottom,!0),c=this.xc(c.right,c.bottom,!1),f/=windowWidth,h=1-h/windowHeight,k/=windowWidth,g=1-c/windowHeight);b.Qk(this.ti?this.i.De:this.mc.Ql(),1/a.width,1/a.height,f,h,k,g,e,this.Be(),this.lb,this.mb,(this.lb+this.Bb)/2,(this.mb+this.Ab)/
2,a.Sb[d]);a.Hd(b)}};b.prototype.sd=function(a,b,c,d){var e=this.i.devicePixelRatio;this.i.ik&&(a*=e,b*=e);var e=this.i.Fx,f=this.i.Gx,e=(this.mc.scrollX-e)*this.wg+e,f=(this.mc.scrollY-f)*this.xg+f,h=e,k=f,g=1/this.be(!d);d?(h-=this.i.Ia*g/2,k-=this.i.Ha*g/2):(h-=this.i.width*g/2,k-=this.i.height*g/2);h+=a*g;k+=b*g;b=this.Be();0!==b&&(h-=e,k-=f,a=Math.cos(b),b=Math.sin(b),d=h*a-k*b,k=k*a+h*b,h=d+e,k+=f);return c?h:k};b.prototype.xc=function(a,b,c){var d=this.i.Fx,e=this.i.Gx,d=(this.mc.scrollX-d)*
this.wg+d,f=(this.mc.scrollY-e)*this.xg+e,e=d,h=f,k=this.Be();if(0!==k){a-=d;b-=f;var g=Math.cos(-k),k=Math.sin(-k),n=a*g-b*k;b=b*g+a*k;a=n+d;b+=f}d=1/this.be(!1);e-=this.i.Ia*d/2;h-=this.i.Ha*d/2;e=(a-e)/d;return c?e:(b-h)/d};b.prototype.Bd=function(){var a,b,c,d={s:this.scale,a:this.N,vl:this.lb,vt:this.mb,vr:this.Bb,vb:this.Ab,v:this.visible,bc:this.Sd,t:this.Bh,px:this.wg,py:this.xg,o:this.opacity,zr:this.Fh,fx:[],instances:[]};a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],d.fx.push({name:c.name,
active:c.Pb,params:this.Sb[c.index]});return d};b.prototype.ge=function(a){var b,d;this.scale=a.s;this.N=a.a;this.lb=a.vl;this.mb=a.vt;this.Bb=a.vr;this.Ab=a.vb;this.visible=a.v;this.Sd=a.bc;this.Bh=a.t;this.wg=a.px;this.xg=a.py;this.opacity=a.o;this.Fh=a.zr;var e=a.fx;a=0;for(b=e.length;a<b;a++)if(d=this.Lr(e[a].name))d.Pb=e[a].active,this.Sb[d.index]=e[a].params;this.Ch();this.F.sort(c);this.Gj=!0};Rb=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,f,m;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=p.length&&(p.length=b.length+1);p[b.length]||(p[b.length]=[]);m=p[b.length];d=0;for(e=m.length;d<e;d++)if(f=m[d],a(b,f))return f;m.push(b);return b}
function d(a,b){this.i=a;this.xy={};this.Zv={};this.Tr=!1;this.pw=new ca;this.tr=[];this.Uq=[];this.name=b[0];var c=b[1];this.Th=[];var d,e;d=0;for(e=c.length;d<e;d++)this.sw(c[d],null,this.Th)}function g(a){this.type=a;this.F=[];this.Ya=[];this.zb=!0}function e(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.fc=[];this.xi=[];this.ow=this.$p=this.Zt=this.Yr=this.group=this.ly=!1;this.$c=[];this.uf=[];this.lf=[];this.Sl="";this.Fo=this.Yr=this.group=!1;this.Lv=null;c[1]&&(this.Sl=c[1][1].toLowerCase(),
this.group=!0,this.Yr=!!c[1][0],this.Lv=[],this.Fo=this.Yr,this.i.Uj.push(this),this.i.Go[this.Sl]=this);this.vg=c[2];this.Na=c[4];this.group||(this.i.zv[this.Na.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Sb(this,d[a]);e.index=a;this.$c.push(e);this.mv(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Tb(this,d[a]),e.index=a,this.uf.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.sw(c[a],this,this.lf);this.Oo=!1;this.$c.length&&(this.Oo=null==this.$c[0].type&&
this.$c[0].Rc==A.prototype.W.gz)}function f(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.Ce))for(c=0,d=a.Zd.length;c<d;c++)e=a.Zd[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function n(a,b){this.ye=a;this.sheet=a.sheet;this.i=a.i;this.xa=[];this.kb=[];this.X={};this.index=-1;this.wl=!1;this.Rc=this.i.Kh(b[1]);this.trigger=0<b[3];this.Yv=2===b[3];this.ds=b[5];this.$C=b[6];this.Na=b[7];this.i.Xj[this.Na.toString()]=this;-1===b[0]?(this.type=null,this.Bc=this.Kt,this.Ri=null,this.Ve=-1):(this.type=
this.i.ba[b[0]],this.Bc=this.$C?this.hE:this.Jt,b[2]?(this.Ri=this.type.yo(b[2]),this.Ve=this.type.Kr(b[2])):(this.Ri=null,this.Ve=-1),this.ye.parent&&this.ye.parent.Ip());this.Yv&&(this.Bc=this.iE);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var f=new Ub(this,e[c]);this.xa.push(f)}this.kb.length=e.length}}function k(a,b){this.ye=a;this.sheet=a.sheet;this.i=a.i;this.xa=[];this.kb=[];this.X={};this.index=-1;this.wl=!1;this.Rc=this.i.Kh(b[1]);-1===b[0]?(this.type=null,this.Bc=this.Kt,
this.Ri=null,this.Ve=-1):(this.type=this.i.ba[b[0]],this.Bc=this.Jt,b[2]?(this.Ri=this.type.yo(b[2]),this.Ve=this.type.Kr(b[2])):(this.Ri=null,this.Ve=-1));this.Na=b[3];this.i.Tj[this.Na.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var f=new Ub(this,e[c]);this.xa.push(f)}this.kb.length=e.length}}function h(a,b){this.Z=a;this.ye=a.ye;this.sheet=a.sheet;this.i=a.i;this.type=b[0];this.eg=null;this.yi=0;this.get=null;this.Kv=0;this.mc=null;this.key=0;this.object=null;this.index=
0;this.bn=this.Cj=this.bn=this.Cj=this.$v=this.Zi=this.cn=null;this.nf=!1;var c,d,e;switch(b[0]){case 0:case 7:this.eg=new Vb(this,b[1]);this.yi=0;this.get=this.AC;break;case 1:this.eg=new Vb(this,b[1]);this.yi=0;this.get=this.BC;break;case 5:this.eg=new Vb(this,b[1]);this.yi=0;this.get=this.FC;break;case 3:case 8:this.Kv=b[1];this.get=this.yC;break;case 6:this.mc=this.i.ys[b[1]];this.get=this.GC;break;case 9:this.key=b[1];this.get=this.EC;break;case 4:this.object=this.i.ba[b[1]];this.get=this.HC;
this.ye.mv(this.object);this.Z instanceof Tb?this.ye.Ip():this.ye.parent&&this.ye.parent.Ip();break;case 10:this.index=b[1];a.type.la?(this.get=this.CC,this.nf=!0):this.get=this.DC;break;case 11:this.cn=b[1];this.Zi=null;this.get=this.zC;break;case 2:case 12:this.$v=b[1];this.get=this.xC;break;case 13:for(this.get=this.IC,this.Cj=[],this.bn=[],c=1,d=b.length;c<d;c++)e=new Ub(this.Z,b[c]),this.Cj.push(e),this.bn.push(0)}}function l(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.fc=[];this.name=
c[1];this.hq=c[2];this.Xr=c[3];this.Zl=!!c[4];this.No=!!c[5];this.Na=c[6];this.i.Yk[this.Na.toString()]=this;this.data=this.Xr;this.parent?(this.lj=this.Zl||this.No?-1:this.i.oE++,this.i.IA.push(this)):(this.lj=-1,this.i.HA.push(this))}function m(a,b,c){this.sheet=a;this.parent=b;this.i=a.i;this.fc=[];this.Ul=null;this.OC=c[1];this.Pb=!0}function q(){this.oy=[];this.reset(null)}var p=[];d.prototype.toString=function(){return this.name};d.prototype.sw=function(a,b,c){switch(a[0]){case 0:a=new Wb(this,
b,a);if(a.vg)for(c.push(a),c=0,b=a.$c.length;c<b;c++)a.$c[c].trigger&&this.uw(a,c);else a.Cw()?this.uw(a,0):c.push(a);break;case 1:a=new Ob(this,b,a);c.push(a);break;case 2:a=new Xb(this,b,a),c.push(a)}};d.prototype.ec=function(){var a,b;a=0;for(b=this.Th.length;a<b;a++)this.Th[a].ec(a<b-1&&this.Th[a+1].Oo)};d.prototype.Fy=function(){this.tr.length=0;this.Uq.length=0;this.kv(this);this.Uq.length=0};d.prototype.kv=function(a){var b,c,d,e,f=a.tr,m=a.Uq,h=this.pw.Oe();b=0;for(c=h.length;b<c;++b)d=h[b],
e=d.Ul,!d.Pb||a===e||-1<m.indexOf(e)||(m.push(e),e.kv(a),f.push(e))};d.prototype.Bc=function(a){this.i.$F||(this.Tr=!0,a||(this.i.hs=!0));var b,c;b=0;for(c=this.Th.length;b<c;b++){var d=this.Th[b];d.Bc();this.i.er(d.fc);this.i.Wh&&this.i.Xc()}a||(this.i.hs=!1)};d.prototype.uw=function(a,b){a.vg||this.i.dq.push(a);var c,d,e=a.$c[b],f;f=e.type?e.type.name:"system";var m=(c=e.Yv)?this.Zv:this.xy;m[f]||(m[f]=[]);f=m[f];m=e.Rc;if(c){if(e.xa.length&&(e=e.xa[0],1===e.type&&2===e.eg.type)){e=e.eg.value.toLowerCase();
c=0;for(d=f.length;c<d;c++)if(f[c].method==m){c=f[c].Il;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];f.push({method:m,Il:c})}}else{c=0;for(d=f.length;c<d;c++)if(f[c].method==m){f[c].Il.push([a,b]);return}lc&&m===lc.prototype.W.Rj?f.unshift({method:m,Il:[[a,b]]}):f.push({method:m,Il:[[a,b]]})}};Eb=d;g.prototype.Sr=function(){return this.zb?this.type.F.length:this.F.length};g.prototype.Bf=function(){return this.zb?this.type.F:this.F};g.prototype.Lm=function(a){a&&(a.i.ae().zf.vg?(this.zb&&
(this.F.length=0,Ba(this.Ya,a.type.F),this.zb=!1),a=this.Ya.indexOf(a),-1!==a&&(this.F.push(this.Ya[a]),this.Ya.splice(a,1))):(this.zb=!1,this.F.length=1,this.F[0]=a))};nb=g;window._c2hh_="D348FA9714902FC1C03AD1A8DE0B68EA8A060A9D";e.prototype.ec=function(a){var c,d=this.parent;if(this.group)for(this.$p=!0;d;){if(!d.group){this.$p=!1;break}d=d.parent}this.Zt=!this.Cw()&&(!this.parent||this.parent.group&&this.parent.$p);this.ow=!!a;this.xi=this.fc.slice(0);for(d=this.parent;d;){a=0;for(c=d.fc.length;a<
c;a++)this.DA(d.fc[a]);d=d.parent}this.fc=b(this.fc);this.xi=b(this.xi);a=0;for(c=this.$c.length;a<c;a++)this.$c[a].ec();a=0;for(c=this.uf.length;a<c;a++)this.uf[a].ec();a=0;for(c=this.lf.length;a<c;a++)this.lf[a].ec(a<c-1&&this.lf[a+1].Oo)};e.prototype.mv=function(a){f(a,this.fc)};e.prototype.DA=function(a){f(a,this.xi)};e.prototype.Ip=function(){this.ly=!0;this.parent&&this.parent.Ip()};e.prototype.Cw=function(){return this.$c.length?this.$c[0].trigger:!1};e.prototype.Bc=function(){var a,b=!1,c,
d=this.i,e=this.i.ae();e.zf=this;var f=this.$c;this.Oo||(e.Ar=!1);if(this.vg){0===f.length&&(b=!0);e.Fd=0;for(a=f.length;e.Fd<a;e.Fd++)f[e.Fd].trigger||(c=f[e.Fd].Bc())&&(b=!0);(e.fj=b)&&this.It()}else{e.Fd=0;for(a=f.length;e.Fd<a;e.Fd++)if(c=f[e.Fd].Bc(),!c){e.fj=!1;this.Zt&&d.Wh&&d.Xc();return}e.fj=!0;this.It()}this.GB(e)};e.prototype.GB=function(a){a.fj&&this.ow&&(a.Ar=!0);this.Zt&&this.i.Wh&&this.i.Xc()};e.prototype.fE=function(a){this.i.ae().zf=this;this.$c[a].Bc()&&(this.It(),this.i.ae().fj=
!0)};e.prototype.It=function(){var a=this.i.ae(),b;a.Te=0;for(b=this.uf.length;a.Te<b;a.Te++)if(this.uf[a.Te].Bc())return;this.$x()};e.prototype.cE=function(){var a=this.i.ae(),b;for(b=this.uf.length;a.Te<b;a.Te++)if(this.uf[a.Te].Bc())return;this.$x()};e.prototype.$x=function(){if(this.lf.length){var a,b,c,d,e=this.lf.length-1;this.i.zt(this);if(this.ly)for(a=0,b=this.lf.length;a<b;a++)c=this.lf[a],(d=!this.$p||!this.group&&a<e)&&this.i.yt(c.fc),c.Bc(),d?this.i.Nk(c.fc):this.i.er(c.fc);else for(a=
0,b=this.lf.length;a<b;a++)this.lf[a].Bc();this.i.Mx()}};e.prototype.gE=function(){var a=this.i.ae();a.zf=this;var b=!1,c;a.Fd=0;for(c=this.$c.length;a.Fd<c;a.Fd++)if(this.$c[a.Fd].Bc())b=!0;else if(!this.vg)return!1;return this.vg?b:!0};e.prototype.VC=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.$c[b].type===a.type)return!1;return!0};Wb=e;n.prototype.ec=function(){var a,b,c;a=0;for(b=this.xa.length;a<b;a++)c=this.xa[a],c.ec(),c.nf&&(this.wl=!0)};n.prototype.iE=function(){return!0};
n.prototype.Kt=function(){var a,b;a=0;for(b=this.xa.length;a<b;a++)this.kb[a]=this.xa[a].get();return Ua(this.Rc.apply(this.i.Hg,this.kb),this.ds)};n.prototype.hE=function(){var a,b;a=0;for(b=this.xa.length;a<b;a++)this.kb[a]=this.xa[a].get();a=this.Rc.apply(this.Ri?this.Ri:this.type,this.kb);this.type.Tg();return a};n.prototype.Jt=function(){var a,b,c,d,e,f,m,h,k=this.type,g=k.jb(),l=this.ye.vg&&!this.trigger;b=0;var n=k.Ce,p=k.la,q=k.bh,u=this.Ve,t=-1<u,ga=this.wl,R=this.xa,J=this.kb,T=this.ds,
Z=this.Rc,L;if(ga)for(b=0,e=R.length;b<e;++b)f=R[b],f.nf||(J[b]=f.get(0));else for(b=0,e=R.length;b<e;++b)J[b]=R[b].get(0);if(g.zb){g.F.length=0;g.Ya.length=0;L=k.F;a=0;for(d=L.length;a<d;++a){h=L[a];if(ga)for(b=0,e=R.length;b<e;++b)f=R[b],f.nf&&(J[b]=f.get(a));t?(b=0,p&&(b=h.type.bk[q]),b=Z.apply(h.ya[u+b],J)):b=Z.apply(h,J);(m=Ua(b,T))?g.F.push(h):l&&g.Ya.push(h)}k.finish&&k.finish(!0);g.zb=!1;k.Tg();return g.Sr()}c=0;L=(m=l&&!this.ye.VC(this))?g.Ya:g.F;var aa=!1;a=0;for(d=L.length;a<d;++a){h=L[a];
if(ga)for(b=0,e=R.length;b<e;++b)f=R[b],f.nf&&(J[b]=f.get(a));t?(b=0,p&&(b=h.type.bk[q]),b=Z.apply(h.ya[u+b],J)):b=Z.apply(h,J);if(Ua(b,T))if(aa=!0,m){if(g.F.push(h),n)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.jb().F.push(f)}else{L[c]=h;if(n)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.jb().F[c]=f;c++}else if(m){L[c]=h;if(n)for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],f.type.jb().Ya[c]=f;c++}else if(l&&(g.Ya.push(h),n))for(b=0,e=h.siblings.length;b<e;b++)f=h.siblings[b],
f.type.jb().Ya.push(f)}L.length=c;if(n)for(p=k.Zd,a=0,d=p.length;a<d;a++)h=p[a].jb(),m?h.Ya.length=c:h.F.length=c;c=aa;if(m&&!aa)for(a=0,d=g.F.length;a<d;a++){h=g.F[a];if(ga)for(b=0,e=R.length;b<e;b++)f=R[b],f.nf&&(J[b]=f.get(a));b=t?Z.apply(h.ya[u],J):Z.apply(h,J);if(Ua(b,T)){aa=!0;break}}k.finish&&k.finish(c||l);return l?aa:g.Sr()};Sb=n;k.prototype.ec=function(){var a,b,c;a=0;for(b=this.xa.length;a<b;a++)c=this.xa[a],c.ec(),c.nf&&(this.wl=!0)};k.prototype.Kt=function(){var a,b;a=0;for(b=this.xa.length;a<
b;a++)this.kb[a]=this.xa[a].get();return this.Rc.apply(this.i.Hg,this.kb)};k.prototype.Jt=function(){var a=this.type.jb().Bf(),b=this.type.la,c=this.type.bh,d=this.Ve,e=-1<d,f=this.wl,m=this.xa,h=this.kb,k=this.Rc,g,l,n,p,q,u;if(f)for(l=0,p=m.length;l<p;++l)q=m[l],q.nf||(h[l]=q.get(0));else for(l=0,p=m.length;l<p;++l)h[l]=m[l].get(0);g=0;for(n=a.length;g<n;++g){u=a[g];if(f)for(l=0,p=m.length;l<p;++l)q=m[l],q.nf&&(h[l]=q.get(g));e?(l=0,b&&(l=u.type.bk[c]),k.apply(u.ya[d+l],h)):k.apply(u,h)}return!1};
Tb=k;var u=[],t=-1;h.prototype.ec=function(){var a,b;if(11===this.type)this.Zi=this.i.fw(this.cn,this.ye.parent);else if(13===this.type)for(a=0,b=this.Cj.length;a<b;a++)this.Cj[a].ec();this.eg&&this.eg.ec()};h.prototype.DD=function(a){this.nf||!a||a.Nb.Kp||(this.nf=!0)};h.prototype.ey=function(){this.nf=!0};h.prototype.Ac=function(){t++;u.length===t&&u.push(new Yb);return u[t]};h.prototype.oc=function(){t--};h.prototype.AC=function(a){this.yi=a||0;a=this.Ac();this.eg.get(a);this.oc();return a.data};
h.prototype.BC=function(a){this.yi=a||0;a=this.Ac();this.eg.get(a);this.oc();return v(a.data)?a.data:""};h.prototype.HC=function(){return this.object};h.prototype.yC=function(){return this.Kv};h.prototype.FC=function(a){this.yi=a||0;a=this.Ac();this.eg.get(a);this.oc();return a.Jc()?this.i.Pl(a.data):this.i.Nr(a.data)};h.prototype.GC=function(){return this.mc};h.prototype.EC=function(){return this.key};h.prototype.DC=function(){return this.index};h.prototype.CC=function(a){a=a||0;var b=this.Z.type,
c=null,c=b.jb(),d=c.Bf();if(d.length)c=d[a%d.length].type;else if(c.Ya.length)c=c.Ya[a%c.Ya.length].type;else if(b.F.length)c=b.F[a%b.F.length].type;else return 0;return this.index+c.no[b.bh]};h.prototype.zC=function(){return this.Zi};h.prototype.xC=function(){return this.$v};h.prototype.IC=function(){var a,b;a=0;for(b=this.Cj.length;a<b;a++)this.bn[a]=this.Cj[a].get();return this.bn};Ub=h;l.prototype.ec=function(){this.fc=b(this.fc)};l.prototype.Aj=function(a){var b=this.i.ew();this.parent&&!this.Zl&&
b?(this.lj>=b.length&&(b.length=this.lj+1),b[this.lj]=a):this.data=a};l.prototype.Co=function(){var a=this.i.ew();return!this.parent||this.Zl||!a||this.No?this.data:this.lj>=a.length||"undefined"===typeof a[this.lj]?this.Xr:a[this.lj]};l.prototype.Bc=function(){!this.parent||this.Zl||this.No||this.Aj(this.Xr)};Ob=l;m.prototype.toString=function(){return"include:"+this.Ul.toString()};m.prototype.ec=function(){this.Ul=this.i.Cr[this.OC];this.sheet.pw.add(this);this.fc=b(this.fc);for(var a=this.parent;a;)a.group&&
a.Lv.push(this),a=a.parent;this.xE()};m.prototype.Bc=function(){this.parent&&this.i.Qm(this.i.ba);this.Ul.Tr||this.Ul.Bc(!0);this.parent&&this.i.Nk(this.i.ba)};m.prototype.xE=function(){for(var a=this.parent;a;){if(a.group&&!a.Fo){this.Pb=!1;return}a=a.parent}this.Pb=!0};Xb=m;q.prototype.reset=function(a){this.zf=a;this.Te=this.Fd=0;this.oy.length=0;this.Ar=this.fj=!1};Nb=q})();
(function(){function a(a,c){this.Z=a;this.i=a.i;this.type=c[0];this.get=[this.TB,this.PB,this.aC,this.dC,this.JB,this.bC,this.XB,this.MB,this.WB,this.$B,this.KB,this.ZB,this.NB,this.YB,this.UB,this.VB,this.QB,this.RB,this.LB,this.cC,this.Wv,this.SB,this.Wv,this.OB][this.type];var g=null;this.Ld=this.xa=this.kb=this.Rc=this.Wp=this.Nc=this.first=this.value=null;this.Ve=-1;this.eh=null;this.ku=-1;this.Zi=this.cn=null;this.Rm=!1;switch(this.type){case 0:case 1:case 2:this.value=c[1];break;case 3:this.first=
new Vb(a,c[1]);break;case 18:this.first=new Vb(a,c[1]);this.Nc=new Vb(a,c[2]);this.Wp=new Vb(a,c[3]);break;case 19:this.Rc=this.i.Kh(c[1]);this.Rc!==A.prototype.uc.random&&this.Rc!==A.prototype.uc.VA||this.Z.ey();this.kb=[];this.xa=[];3===c.length?(g=c[2],this.kb.length=g.length+1):this.kb.length=1;break;case 20:this.Ld=this.i.ba[c[1]];this.Ve=-1;this.Rc=this.i.Kh(c[2]);this.Rm=c[3];ac.Function&&this.Rc===ac.Function.prototype.uc.OE&&this.Z.ey();this.eh=c[4]?new Vb(a,c[4]):null;this.kb=[];this.xa=
[];6===c.length?(g=c[5],this.kb.length=g.length+1):this.kb.length=1;break;case 21:this.Ld=this.i.ba[c[1]];this.Rm=c[2];this.eh=c[3]?new Vb(a,c[3]):null;this.ku=c[4];break;case 22:this.Ld=this.i.ba[c[1]];this.Ld.yo(c[2]);this.Ve=this.Ld.Kr(c[2]);this.Rc=this.i.Kh(c[3]);this.Rm=c[4];this.eh=c[5]?new Vb(a,c[5]):null;this.kb=[];this.xa=[];7===c.length?(g=c[6],this.kb.length=g.length+1):this.kb.length=1;break;case 23:this.cn=c[1],this.Zi=null}this.Z.DD(this.Ld);4<=this.type&&17>=this.type&&(this.first=
new Vb(a,c[1]),this.Nc=new Vb(a,c[2]));if(g){var e,f;e=0;for(f=g.length;e<f;e++)this.xa.push(new Vb(a,g[e]))}}function c(a,c){this.type=a||Zb.Qj;this.data=c||0;this.Jk=null;this.type==Zb.Qj&&(this.data=Math.floor(this.data))}a.prototype.ec=function(){23===this.type&&(this.Zi=this.Z.i.fw(this.cn,this.Z.ye.parent));this.first&&this.first.ec();this.Nc&&this.Nc.ec();this.Wp&&this.Wp.ec();this.eh&&this.eh.ec();if(this.xa){var a,c;a=0;for(c=this.xa.length;a<c;a++)this.xa[a].ec()}};a.prototype.cC=function(a){this.kb[0]=
a;a=this.Z.Ac();var c,g;c=0;for(g=this.xa.length;c<g;c++)this.xa[c].get(a),this.kb[c+1]=a.data;this.Z.oc();this.Rc.apply(this.i.Hg,this.kb)};a.prototype.Wv=function(a){var c=this.Ld.jb(),g=c.Bf();if(!g.length)if(c.Ya.length)g=c.Ya;else{this.Rm?a.Od(""):a.eb(0);return}this.kb[0]=a;a.Jk=this.Ld;a=this.Z.Ac();var e,c=0;for(e=this.xa.length;c<e;c++)this.xa[c].get(a),this.kb[c+1]=a.data;c=this.Z.yi;this.eh&&(this.eh.get(a),a.Jc()&&(c=a.data,g=this.Ld.F));this.Z.oc();c%=g.length;0>c&&(c+=g.length);g=g[c];
-1<this.Ve?(a=0,this.Ld.la&&(a=g.type.bk[this.Ld.bh]),this.Rc.apply(g.ya[this.Ve+a],this.kb)):this.Rc.apply(g,this.kb)};a.prototype.SB=function(a){var c=this.Ld.jb(),g=c.Bf();if(!g.length)if(c.Ya.length)g=c.Ya;else{this.Rm?a.Od(""):a.eb(0);return}c=this.Z.yi;if(this.eh){var e=this.Z.Ac();this.eh.get(e);if(e.Jc()){c=e.data;g=this.Ld.F;c%=g.length;0>c&&(c+=g.length);g=g[c].wc[this.ku];v(g)?a.Od(g):a.ja(g);this.Z.oc();return}this.Z.oc()}c%=g.length;0>c&&(c+=g.length);g=g[c];c=0;this.Ld.la&&(c=g.type.no[this.Ld.bh]);
g=g.wc[this.ku+c];v(g)?a.Od(g):a.ja(g)};a.prototype.TB=function(a){a.type=Zb.Qj;a.data=this.value};a.prototype.PB=function(a){a.type=Zb.Lj;a.data=this.value};a.prototype.aC=function(a){a.type=Zb.String;a.data=this.value};a.prototype.dC=function(a){this.first.get(a);a.Jc()&&(a.data=-a.data)};a.prototype.JB=function(a){this.first.get(a);var c=this.Z.Ac();this.Nc.get(c);a.Jc()&&c.Jc()&&(a.data+=c.data,c.kk()&&a.Ck());this.Z.oc()};a.prototype.bC=function(a){this.first.get(a);var c=this.Z.Ac();this.Nc.get(c);
a.Jc()&&c.Jc()&&(a.data-=c.data,c.kk()&&a.Ck());this.Z.oc()};a.prototype.XB=function(a){this.first.get(a);var c=this.Z.Ac();this.Nc.get(c);a.Jc()&&c.Jc()&&(a.data*=c.data,c.kk()&&a.Ck());this.Z.oc()};a.prototype.MB=function(a){this.first.get(a);var c=this.Z.Ac();this.Nc.get(c);a.Jc()&&c.Jc()&&(a.data/=c.data,a.Ck());this.Z.oc()};a.prototype.WB=function(a){this.first.get(a);var c=this.Z.Ac();this.Nc.get(c);a.Jc()&&c.Jc()&&(a.data%=c.data,c.kk()&&a.Ck());this.Z.oc()};a.prototype.$B=function(a){this.first.get(a);
var c=this.Z.Ac();this.Nc.get(c);a.Jc()&&c.Jc()&&(a.data=Math.pow(a.data,c.data),c.kk()&&a.Ck());this.Z.oc()};a.prototype.KB=function(a){this.first.get(a);var c=this.Z.Ac();this.Nc.get(c);a.Jc()?c.Qo()?a.Od(a.data.toString()+c.data):a.data&&c.data?a.eb(1):a.eb(0):a.Qo()&&(a.data=c.Qo()?a.data+c.data:a.data+(Math.round(1E10*c.data)/1E10).toString());this.Z.oc()};a.prototype.ZB=function(a){this.first.get(a);var c=this.Z.Ac();this.Nc.get(c);a.Jc()&&c.Jc()&&(a.data||c.data?a.eb(1):a.eb(0));this.Z.oc()};
a.prototype.LB=function(a){this.first.get(a);a.data?this.Nc.get(a):this.Wp.get(a)};a.prototype.NB=function(a){this.first.get(a);var c=this.Z.Ac();this.Nc.get(c);a.eb(a.data===c.data?1:0);this.Z.oc()};a.prototype.YB=function(a){this.first.get(a);var c=this.Z.Ac();this.Nc.get(c);a.eb(a.data!==c.data?1:0);this.Z.oc()};a.prototype.UB=function(a){this.first.get(a);var c=this.Z.Ac();this.Nc.get(c);a.eb(a.data<c.data?1:0);this.Z.oc()};a.prototype.VB=function(a){this.first.get(a);var c=this.Z.Ac();this.Nc.get(c);
a.eb(a.data<=c.data?1:0);this.Z.oc()};a.prototype.QB=function(a){this.first.get(a);var c=this.Z.Ac();this.Nc.get(c);a.eb(a.data>c.data?1:0);this.Z.oc()};a.prototype.RB=function(a){this.first.get(a);var c=this.Z.Ac();this.Nc.get(c);a.eb(a.data>=c.data?1:0);this.Z.oc()};a.prototype.OB=function(a){var c=this.Zi.Co();ia(c)?a.ja(c):a.Od(c)};Vb=a;c.prototype.kk=function(){return this.type===Zb.Lj};c.prototype.Jc=function(){return this.type===Zb.Qj||this.type===Zb.Lj};c.prototype.Qo=function(){return this.type===
Zb.String};c.prototype.Ck=function(){this.kk()||(this.Qo()&&(this.data=parseFloat(this.data)),this.type=Zb.Lj)};c.prototype.eb=function(a){this.type=Zb.Qj;this.data=Math.floor(a)};c.prototype.ja=function(a){this.type=Zb.Lj;this.data=a};c.prototype.Od=function(a){this.type=Zb.String;this.data=a};c.prototype.mE=function(a){ia(a)?(this.type=Zb.Lj,this.data=a):v(a)?(this.type=Zb.String,this.data=a.toString()):(this.type=Zb.Qj,this.data=0)};Yb=c;Zb={Qj:0,Lj:1,String:2}})();
function A(a){this.i=a;this.qe=[]}A.prototype.Bd=function(){var a={},c,b,d,g,e,f,n,k;a.waits=[];var h=a.waits,l;c=0;for(b=this.qe.length;c<b;c++){f=this.qe[c];l={t:f.time,st:f.nE,s:f.jy,ev:f.Gl.Na,sm:[],sols:{}};f.Gl.uf[f.Te]&&(l.act=f.Gl.uf[f.Te].Na);d=0;for(g=f.fc.length;d<g;d++)l.sm.push(f.fc[d].Na);for(e in f.me)if(f.me.hasOwnProperty(e)){n=this.i.ba[parseInt(e,10)];k={sa:f.me[e].cy,insts:[]};d=0;for(g=f.me[e].dj.length;d<g;d++)k.insts.push(f.me[e].dj[d].uid);l.sols[n.Na.toString()]=k}h.push(l)}return a};
A.prototype.ge=function(a){a=a.waits;var c,b,d,g,e,f,n,k,h,l,m;c=this.qe.length=0;for(b=a.length;c<b;c++)if(f=a[c],k=this.i.zv[f.ev.toString()]){h=-1;d=0;for(g=k.uf.length;d<g;d++)if(k.uf[d].Na===f.act){h=d;break}if(-1!==h){n={me:{},fc:[],Sv:!1};n.time=f.t;n.nE=f.st||"";n.jy=!!f.s;n.Gl=k;n.Te=h;d=0;for(g=f.sm.length;d<g;d++)(k=this.i.Bo(f.sm[d]))&&n.fc.push(k);for(e in f.sols)if(f.sols.hasOwnProperty(e)&&(k=this.i.Bo(parseInt(e,10)))){h=f.sols[e];l={cy:h.sa,dj:[]};d=0;for(g=h.insts.length;d<g;d++)(m=
this.i.ek(h.insts[d]))&&l.dj.push(m);n.me[k.index.toString()]=l}this.qe.push(n)}}};
(function(){function a(){}function c(){}function b(){}var d=A.prototype;a.prototype.iz=function(){return!0};a.prototype.Hu=function(){return!0};a.prototype.Hz=function(){return!0};a.prototype.hz=function(a){var b=this.i.dw(),c=b.X.Every_lastTime||0,d=this.i.ai.Oc;"undefined"===typeof b.X.Every_seconds&&(b.X.Every_seconds=a);var e=b.X.Every_seconds;if(d>=c+e)return b.X.Every_lastTime=c+e,d>=b.X.Every_lastTime+.04&&(b.X.Every_lastTime=d),b.X.Every_seconds=a,!0;d<c-.1&&(b.X.Every_lastTime=d);return!1};
a.prototype.gz=function(){var a=this.i.ae();return a.Ar?!1:!a.fj};a.prototype.Iu=function(){return!0};a.prototype.Bz=function(){return!0};a.prototype.Eq=function(){return!0};a.prototype.Iz=function(){return!0};a.prototype.Dq=function(){return!0};a.prototype.Sy=function(a,b,c){return Oa(w(a),w(c))<=w(b)};a.prototype.rz=function(a,b){return Qa(w(a),w(b))};a.prototype.qz=function(a,b,c){a=Ka(a);b=Ka(b);c=Ka(c);return Qa(c,b)?Qa(a,b)&&!Qa(a,c):!(!Qa(a,b)&&Qa(a,c))};d.W=new a;c.prototype.ez=function(a,
b,c,d){if(b&&a&&(b=this.i.Ov(a,b,c,d))){this.i.Ff++;var e;this.i.trigger(Object.getPrototypeOf(a.Nb).W.Cq,b);if(b.Ce)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],this.i.trigger(Object.getPrototypeOf(e.type.Nb).W.Cq,e);this.i.Ff--;a=a.jb();a.zb=!1;a.F.length=1;a.F[0]=b;if(b.Ce)for(c=0,d=b.siblings.length;c<d;c++)e=b.siblings[c],a=e.type.jb(),a.zb=!1,a.F.length=1,a.F[0]=e}};c.prototype.aA=function(a,b){0===a.hq?ia(b)?a.Aj(b):a.Aj(parseFloat(b)):1===a.hq&&a.Aj(b.toString())};c.prototype.Ry=function(a,
b){0===a.hq?ia(b)?a.Aj(a.Co()+b):a.Aj(a.Co()+parseFloat(b)):1===a.hq&&a.Aj(a.Co()+b.toString())};var g=[],e=[];c.prototype.Zz=function(a,b){if(a){var c=va(b),d=wa(b),e=ya(b);if(a.Sd[0]!==c||a.Sd[1]!==d||a.Sd[2]!==e)a.Sd[0]=c,a.Sd[1]=d,a.Sd[2]=e,this.i.bb=!0}};d.sb=new c;b.prototype["int"]=function(a,b){v(b)?(a.eb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.eb(b)};b.prototype["float"]=function(a,b){v(b)?(a.ja(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.ja(b)};b.prototype.random=function(a,b,c){void 0===
c?a.ja(Math.random()*b):a.ja(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.ja(Math.sqrt(b))};b.prototype.abs=function(a,b){a.ja(Math.abs(b))};b.prototype.round=function(a,b){a.eb(Math.round(b))};b.prototype.floor=function(a,b){a.eb(Math.floor(b))};b.prototype.ceil=function(a,b){a.eb(Math.ceil(b))};b.prototype.sin=function(a,b){a.ja(Math.sin(w(b)))};b.prototype.cos=function(a,b){a.ja(Math.cos(w(b)))};b.prototype.tan=function(a,b){a.ja(Math.tan(w(b)))};b.prototype.asin=function(a,b){a.ja(Ga(Math.asin(b)))};
b.prototype.acos=function(a,b){a.ja(Ga(Math.acos(b)))};b.prototype.atan=function(a,b){a.ja(Ga(Math.atan(b)))};b.prototype.exp=function(a,b){a.ja(Math.exp(b))};b.prototype.log10=function(a,b){a.ja(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<d;c++)e=arguments[c],"number"===typeof e&&b<e&&(b=e);a.ja(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,e;c=2;for(d=arguments.length;c<
d;c++)e=arguments[c],"number"===typeof e&&b>e&&(b=e);a.ja(b)};b.prototype.za=function(a){a.ja(this.i.za)};b.prototype.Bi=function(a){a.ja(this.i.Bi)};b.prototype.time=function(a){a.ja(this.i.ai.Oc)};b.prototype.mf=function(a){a.eb(this.i.mf)};b.prototype.rp=function(a){a.eb(this.i.rp)};b.prototype.uo=function(a){a.eb(this.i.uo)};b.prototype.Zg=function(a,b,c,d,e){a.ja(Ra(b,c,d,e))};b.prototype.N=function(a,b,c,d,e){a.ja(Ga(Na(b,c,d,e)))};b.prototype.aD=function(a){a.eb(this.i.yb.width)};b.prototype.find=
function(a,b,c){v(b)&&v(c)?a.eb(b.search(new RegExp(cb(c),"i"))):a.eb(-1)};b.prototype.left=function(a,b,c){a.Od(v(b)?b.substr(0,c):"")};b.prototype.right=function(a,b,c){a.Od(v(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){v(b)&&v(c)&&v(d)?a.Od(b.replace(new RegExp(cb(c),"gi"),d)):a.Od(v(b)?b:"")};b.prototype.trim=function(a,b){a.Od(v(b)?b.trim():"")};b.prototype.VA=function(a){var b=pa(Math.random()*(arguments.length-1));a.mE(arguments[b+1])};b.prototype.dE=function(a,b,c,d){a.eb(ua(b,
c,d))};b.prototype.lr=function(a){a.ja(this.i.lr/1E3)};b.prototype.sk=function(a){a.ja(this.i.sk)};d.uc=new b;d.eE=function(){var a,b,c,d,l,m,q=this.i.ae();a=0;for(c=this.qe.length;a<c;a++){d=this.qe[a];if(-1===d.time){if(!d.jy)continue}else if(d.time>this.i.ai.Oc)continue;q.zf=d.Gl;q.Te=d.Te;q.Fd=0;for(b in d.me)d.me.hasOwnProperty(b)&&(l=this.i.ba[parseInt(b,10)].jb(),m=d.me[b],l.zb=m.cy,Ba(l.F,m.dj),l=m,l.dj.length=0,e.push(l));d.Gl.cE();this.i.er(d.fc);d.Sv=!0}b=a=0;for(c=this.qe.length;a<c;a++)d=
this.qe[a],this.qe[b]=d,d.Sv?(Wa(d.me),d.fc.length=0,g.push(d)):b++;this.qe.length=b}})();
(function(){mb=function(a,b){var d=a[1],g=a[3],e=a[4],f=a[5],n=a[6],k=a[7],h=a[8];b.W||(b.W={});b.sb||(b.sb={});b.uc||(b.uc={});var l=b.W,m=b.sb,q=b.uc;g&&(l.az=function(a,b){return $b(this.x,a,b)},l.SE=function(a,b){return $b(this.y,a,b)},l.XE=function(){var a=this.Q;this.fb();var b=this.Qb;return!(b.right<a.lb||b.bottom<a.mb||b.left>a.Bb||b.top>a.Ab)},l.YE=function(){this.fb();var a=this.Qb,b=this.i.yb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},l.mF=function(a,b,c){var d=this.jb(),
e=d.Bf();if(!e.length)return!1;var m=e[0],f=m,h=Ra(m.x,m.y,b,c),g,k,l;g=1;for(k=e.length;g<k;g++)if(m=e[g],l=Ra(m.x,m.y,b,c),0===a&&l<h||1===a&&l>h)h=l,f=m;d.Lm(f);return!0},m.GF=function(a){this.x!==a&&(this.x=a,this.gb())},m.HF=function(a){this.y!==a&&(this.y=a,this.gb())},m.BF=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.gb()},m.CF=function(a,b){var c=a.rC(this);if(c){var d;c.gg?(d=c.gg(b,!0),c=c.gg(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.gb()}},
m.eF=function(a){0!==a&&(this.x+=Math.cos(this.N)*a,this.y+=Math.sin(this.N)*a,this.gb())},m.dF=function(a,b){0!==b&&(this.x+=Math.cos(w(a))*b,this.y+=Math.sin(w(a))*b,this.gb())},q.oA=function(a){a.ja(this.x)},q.pA=function(a){a.ja(this.y)},q.za=function(a){a.ja(this.i.zo(this))});e&&(l.RE=function(a,b){return $b(this.width,a,b)},l.Zy=function(a,b){return $b(this.height,a,b)},m.bA=function(a){this.width!==a&&(this.width=a,this.gb())},m.Yz=function(a){this.height!==a&&(this.height=a,this.gb())},m.DF=
function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.gb()},q.MF=function(a){a.ja(this.width)},q.pz=function(a){a.ja(this.height)},q.LE=function(a){this.fb();a.ja(this.Qb.left)},q.NE=function(a){this.fb();a.ja(this.Qb.top)},q.ME=function(a){this.fb();a.ja(this.Qb.right)},q.KE=function(a){this.fb();a.ja(this.Qb.bottom)});f&&(l.Sy=function(a,b){return Oa(this.N,w(b))<=w(a)},l.rz=function(a){return Qa(this.N,w(a))},l.qz=function(a,b){var c=Ka(a),d=Ka(b),e=Ia(this.N);return Qa(d,
c)?Qa(e,c)&&!Qa(e,d):!(!Qa(e,c)&&Qa(e,d))},m.Bn=function(a){a=w(Ha(a));isNaN(a)||this.N===a||(this.N=a,this.gb())},m.sF=function(a){0===a||isNaN(a)||(this.N+=w(a),this.N=Ia(this.N),this.gb())},m.tF=function(a){0===a||isNaN(a)||(this.N-=w(a),this.N=Ia(this.N),this.gb())},m.uF=function(a,b){var c=Pa(this.N,w(b),w(a));isNaN(c)||this.N===c||(this.N=c,this.gb())},m.vF=function(a,b,c){a=Pa(this.N,Math.atan2(c-this.y,b-this.x),w(a));isNaN(a)||this.N===a||(this.N=a,this.gb())},m.EF=function(a,b){var c=Math.atan2(b-
this.y,a-this.x);isNaN(c)||this.N===c||(this.N=c,this.gb())},q.EE=function(a){a.ja(Ja(this.N))});d||(l.PE=function(a,b,c){return $b(this.wc[a],b,c)},l.VE=function(a){return this.wc[a]},l.nF=function(a,b){var c=this.jb(),d=c.Bf();if(!d.length)return!1;var e=d[0],m=e,f=e.wc[b],h,g,k;h=1;for(g=d.length;h<g;h++)if(e=d[h],k=e.wc[b],0===a&&k<f||1===a&&k>f)f=k,m=e;c.Lm(m);return!0},l.lF=function(a){var b,c,d,e,m;if(this.i.dw().ds){m=this.jb();if(m.zb)for(m.zb=!1,m.F.length=0,m.Ya.length=0,d=this.F,b=0,c=
d.length;b<c;b++)e=d[b],e.uid===a?m.Ya.push(e):m.F.push(e);else{d=b=0;for(c=m.F.length;b<c;b++)e=m.F[b],m.F[d]=e,e.uid===a?m.Ya.push(e):d++;m.F.length=d}this.Tg();return!!m.F.length}e=this.i.ek(a);if(!e)return!1;m=this.jb();if(!m.zb&&-1===m.F.indexOf(e))return!1;if(this.la)for(a=e.type.Mb,b=0,c=a.length;b<c;b++){if(a[b]===this)return m.Lm(e),this.Tg(),!0}else if(e.type===this)return m.Lm(e),this.Tg(),!0;return!1},l.Cq=function(){return!0},l.Cz=function(){return!0},m.zF=function(a,b){var c=this.wc;
ia(c[a])?c[a]=ia(b)?b:parseFloat(b):v(c[a])&&(c[a]=v(b)?b:b.toString())},m.Oy=function(a,b){var c=this.wc;ia(c[a])?c[a]=ia(b)?c[a]+b:c[a]+parseFloat(b):v(c[a])&&(c[a]=v(b)?c[a]+b:c[a]+b.toString())},m.IF=function(a,b){var c=this.wc;ia(c[a])&&(c[a]=ia(b)?c[a]-b:c[a]-parseFloat(b))},m.wF=function(a,b){this.wc[a]=b?1:0},m.KF=function(a){this.wc[a]=1-this.wc[a]},m.kd=function(){this.i.Ei(this)},m.uz||(m.uz=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.i.$o(this,b,!0);this.Rg&&this.Rg();
if(this.ya)for(a=0,b=this.ya.length;a<b;++a)c=this.ya[a],c.Rg&&c.Rg()}),q.TE=function(a){var b=a.Jk.F.length,c,d,e;c=0;for(d=this.i.yf.length;c<d;c++)e=this.i.yf[c],a.Jk.la?0<=e.type.Mb.indexOf(a.Jk)&&b++:e.type===a.Jk&&b++;a.eb(b)},q.pF=function(a){a.eb(a.Jk.jb().Bf().length)},q.LF=function(a){a.eb(this.uid)},q.UE=function(a){a.eb(this.Rl())},q.Ty||(q.Ty=function(a){a.Od(JSON.stringify(this.i.Lt(this,!0)))}));n&&(l.$E=function(){return this.visible},m.FF=function(a){!a!==!this.visible&&(this.visible=
a,this.i.bb=!0)},l.QE=function(a,b){return $b(ib(100*this.opacity),a,b)},m.AF=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.i.bb=!0)},q.Opacity=function(a){a.ja(ib(100*this.opacity))});k&&(l.WE=function(a){return a?this.Q===a:!1},l.oF=function(a){var b=this.jb(),c=b.Bf();if(!c.length)return!1;var d=c[0],e=d,m,f;m=1;for(f=c.length;m<f;m++)if(d=c[m],0===a){if(d.Q.index>e.Q.index||d.Q.index===e.Q.index&&d.hg()>e.hg())e=d}else if(d.Q.index<e.Q.index||d.Q.index===e.Q.index&&
d.hg()<e.hg())e=d;b.Lm(e);return!0},m.hF=function(){var a=this.Q,b=a.F;b.length&&b[b.length-1]===this||(a.Pk(this,!1),a.yl(this,!1),this.i.bb=!0)},m.fF=function(){var a=this.Q,b=a.F;b.length&&b[0]===this||(a.Pk(this,!1),a.XD(this),this.i.bb=!0)},m.gF=function(a){a&&a!=this.Q&&(this.Q.Pk(this,!0),this.Q=a,a.yl(this,!0),this.i.bb=!0)},m.OF=function(a,b){var c=0===a;if(b){var d=b.gw(this);d&&d.uid!==this.uid&&(this.Q.index!==d.Q.index&&(this.Q.Pk(this,!0),this.Q=d.Q,d.Q.yl(this,!0)),this.Q.ID(this,d,
c),this.i.bb=!0)}},q.bF=function(a){a.eb(this.Q.wx)},q.aF=function(a){a.Od(this.Q.name)},q.NF=function(a){a.eb(this.hg())});h&&(m.xF=function(a,b){if(this.i.Y){var c=this.type.Mr(b);if(!(0>c)){var d=1===a;this.Nh[c]!==d&&(this.Nh[c]=d,this.Ch(),this.i.bb=!0)}}},m.yF=function(a,b,c){if(this.i.Y){var d=this.type.Mr(a);0>d||(a=this.type.ua[d],d=this.Sb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.i.Y.vC(a.Tc,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Pb&&(this.i.bb=!0))))}})};Fb=function(){this.Zq=this.Gn=!0;
this.type.En=!0;this.i.bb=!0;var a,b,d=this.Xq;a=0;for(b=d.length;a<b;++a)d[a](this);this.Q.Sf&&this.fb()};Gb=function(a){a&&this.Xq.push(a)};Ib=function(){if(this.Gn){var a=this.Qb,b=this.Zb;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.de*this.width,-this.ee*this.height);this.N?(a.offset(-this.x,-this.y),b.gy(a,this.N),b.offset(this.x,this.y),b.Av(a)):b.Bj(a);a.normalize();this.Gn=!1;this.zE()}};var a=new sa(0,0,0,0);Jb=function(){if(this.Q.Sf){var c=this.Q.le,b=this.Qb;
a.set(c.ve(b.left),c.we(b.top),c.ve(b.right),c.we(b.bottom));this.Nd.ho(a)||(this.Nd.right<this.Nd.left?c.update(this,null,a):c.update(this,this.Nd,a),this.Nd.Wn(a),this.Q.zh=!0)}};Kb=function(){if(this.Zq&&this.Ti){this.fb();var c=this.type.Rn,b=this.Qb;a.set(c.ve(b.left),c.we(b.top),c.ve(b.right),c.we(b.bottom));this.Qh.ho(a)||(this.Qh.right<this.Qh.left?c.update(this,null,a):c.update(this,this.Qh,a),this.Qh.Wn(a),this.Zq=!1)}};Hb=function(a,b){return this.Qb.ze(a,b)&&this.Zb.ze(a,b)?this.Rb&&!this.Rb.Po()?
(this.Rb.Nn(this.width,this.height,this.N),this.Rb.ze(a-this.x,b-this.y)):!0:!1};Bb=function(){this.type.fq();return this.bj};Lb=function(){this.Q.fu();return this.Uf};Mb=function(){this.Ua.length=0;var a,b;a=0;for(b=this.Nh.length;a<b;a++)this.Nh[a]&&this.Ua.push(this.type.ua[a]);this.Hy=!!this.Ua.length};Cb=function(){return"Inst"+this.Sx};pb=function(a){if(a&&a.Ce&&a.type!=this){var b,d,g;b=0;for(d=a.siblings.length;b<d;b++)if(g=a.siblings[b],g.type==this)return g}a=this.jb().Bf();return a.length?
a[0]:null};qb=function(a){var b=this.jb().Bf();return b.length?b[a.Rl()%b.length]:null};ob=function(){if(this.Uk&&!this.la){var a,b;a=0;for(b=this.F.length;a<b;a++)this.F[a].bj=a;var d=a,g=this.i.yf;a=0;for(b=g.length;a<b;++a)g[a].type===this&&(g[a].bj=d++);this.Uk=!1}};zb=function(a){if(a<this.F.length)return this.F[a];a-=this.F.length;var b=this.i.yf,d,g;d=0;for(g=b.length;d<g;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};rb=function(){return this.Ai[this.Yg]};sb=function(){this.Yg++;
this.Yg===this.Ai.length?this.Ai.push(new nb(this)):this.Ai[this.Yg].zb=!0};tb=function(){this.Yg++;this.Yg===this.Ai.length&&this.Ai.push(new nb(this));var a=this.Ai[this.Yg],b=this.Ai[this.Yg-1];b.zb?a.zb=!0:(a.zb=!1,Ba(a.F,b.F),Ba(a.Ya,b.Ya))};ub=function(){this.Yg--};vb=function(a){var b,d,g,e,f,n=0;if(!this.la)for(b=0,d=this.Mb.length;b<d;b++)for(f=this.Mb[b],g=0,e=f.jc.length;g<e;g++){if(a===f.jc[g].name)return this.X.lastBehIndex=n,f.jc[g];n++}b=0;for(d=this.jc.length;b<d;b++){if(a===this.jc[b].name)return this.X.lastBehIndex=
n,this.jc[b];n++}return null};wb=function(a){return this.yo(a)?this.X.lastBehIndex:-1};xb=function(a){var b,d;b=0;for(d=this.ua.length;b<d;b++)if(this.ua[b].name===a)return b;return-1};yb=function(){if(this.Ce&&!this.la){var a,b,d,g,e,f,n;this.fq();f=this.jb();var k=f.zb,h=(a=this.i.ae())&&a.zf&&a.zf.vg;a=0;for(b=this.Zd.length;a<b;a++)if(e=this.Zd[a],e!==this&&(e.fq(),n=e.jb(),n.zb=k,!k)){n.F.length=f.F.length;d=0;for(g=f.F.length;d<g;d++)n.F[d]=e.hw(f.F[d].bj);if(h)for(n.Ya.length=f.Ya.length,d=
0,g=f.Ya.length;d<g;d++)n.Ya[d]=e.hw(f.Ya[d].bj)}}};Ab=function(){return"Type"+this.Na};$b=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();
var ic={vignette:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float vignetteStart;\nuniform mediump float vignetteEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nfront.rgb /= front.a;\nlowp float d = distance(vTex, vec2(0.5, 0.5));\nfront.rgb *= smoothstep(vignetteEnd, vignetteStart, d);\nfront.rgb *= front.a;\ngl_FragColor = front;\n}",lo:0,mo:0,qr:!1,Vq:!1,xa:[["vignetteStart",0,1],["vignetteEnd",0,1]]}};
function mc(a){this.i=a}
(function(){function a(){}function c(){}var b=mc.prototype;b.Eb=function(a){this.Nb=a;this.i=a.i};b.Eb.prototype.Ma=function(){};b.hb=function(a){this.type=a;this.i=a.i};b.hb.prototype.Ma=function(){var a=this;window.addEventListener("resize",function(){a.i.trigger(mc.prototype.W.Nz,a)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){a.i.trigger(mc.prototype.W.Kz,a)}),window.addEventListener("offline",function(){a.i.trigger(mc.prototype.W.Jz,a)}));"undefined"!==
typeof window.applicationCache&&(window.applicationCache.addEventListener("updateready",function(){a.i.sk=1;a.i.trigger(mc.prototype.W.Pu,a)}),window.applicationCache.addEventListener("progress",function(b){a.i.sk=b.loaded/b.total}));this.i.ig||(document.addEventListener("appMobi.device.update.available",function(){a.i.trigger(mc.prototype.W.Pu,a)}),document.addEventListener("backbutton",function(){a.i.trigger(mc.prototype.W.Bq,a)}),document.addEventListener("menubutton",function(){a.i.trigger(mc.prototype.W.Ju,
a)}),document.addEventListener("searchbutton",function(){a.i.trigger(mc.prototype.W.Oz,a)}),document.addEventListener("tizenhwkey",function(b){var c;switch(b.keyName){case "back":c=a.i.trigger(mc.prototype.W.Bq,a);!c&&window.tizen&&window.tizen.application.getCurrentApplication().exit();break;case "menu":(c=a.i.trigger(mc.prototype.W.Ju,a))||b.preventDefault()}}));this.i.Mo&&(WinJS.Application.onbackclick=function(){return!!a.i.trigger(mc.prototype.W.Bq,a)});this.i.EA(function(b){b?a.i.trigger(mc.prototype.W.Lz,
a):a.i.trigger(mc.prototype.W.Mz,a)})};a.prototype.Kz=function(){return!0};a.prototype.Jz=function(){return!0};a.prototype.Pu=function(){return!0};a.prototype.Mz=function(){return!0};a.prototype.Lz=function(){return!0};a.prototype.Nz=function(){return!0};a.prototype.Bq=function(){return!0};a.prototype.Ju=function(){return!0};a.prototype.Oz=function(){return!0};b.W=new a;b.sb=new function(){};c.prototype.URL=function(a){a.Od(this.i.lc?"":window.location.toString())};b.uc=new c})();
function nc(a){this.i=a}
(function(){function a(a){this.Z=a;this.Pb=!1;this.N=this.speed=this.y=this.x=0;this.opacity=1;this.Oh=this.gk=this.size=this.Ho=0}function c(){}var b=nc.prototype;b.Eb=function(a){this.Nb=a;this.i=a.i};var d=b.Eb.prototype;d.Ma=function(){this.la||(this.gc=new Image,this.gc.mr=this.Xt,this.Xa=null,this.i.mu(this.gc,this.Wt))};d.Hm=function(){this.la||(this.Xa=null)};d.tp=function(){this.la||!this.F.length||this.Xa||(this.Xa=this.i.Y.cp(this.gc,!0,this.i.Ra,this.Yt))};d.Gs=function(){this.la||this.Xa||
!this.i.Y||(this.Xa=this.i.Y.cp(this.gc,!0,this.i.Ra,this.Yt))};d.cu=function(){this.la||this.F.length||!this.Xa||(this.i.Y.deleteTexture(this.Xa),this.Xa=null)};d.ut=function(a){a.drawImage(this.gc,0,0)};a.prototype.init=function(){var a=this.Z;this.x=a.x-a.lq/2+Math.random()*a.lq;this.y=a.y-a.mq/2+Math.random()*a.mq;this.speed=a.as-a.Np/2+Math.random()*a.Np;this.N=a.N-a.Op/2+Math.random()*a.Op;this.opacity=a.Zr;this.size=a.$r-a.Lp/2+Math.random()*a.Lp;this.Ho=a.Qr-a.Io/2+Math.random()*a.Io;this.Oh=
this.gk=0};a.prototype.Cd=function(a){var b=this.Z;this.x+=Math.cos(this.N)*this.speed*a;this.y+=Math.sin(this.N)*this.speed*a;this.y+=this.gk*a;this.speed+=b.Rq*a;this.size+=this.Ho*a;this.gk+=b.xo*a;this.Oh+=a;1>this.size?this.Pb=!1:(0!==b.fm&&(this.N+=Math.random()*b.fm*a-b.fm*a/2),0!==b.hm&&(this.speed+=Math.random()*b.hm*a-b.hm*a/2),0!==b.gm&&(this.opacity+=Math.random()*b.gm*a-b.gm*a/2,0>this.opacity?this.opacity=0:1<this.opacity&&(this.opacity=1)),1>=b.Yj&&this.Oh>=b.timeout&&(this.Pb=!1),
2===b.Yj&&0>=this.speed&&(this.Pb=!1))};a.prototype.Ae=function(a){var b=this.Z.opacity*this.opacity;if(0!==b){0===this.Z.Yj&&(b*=1-this.Oh/this.Z.timeout);a.globalAlpha=b;var b=this.x-this.size/2,c=this.y-this.size/2;this.Z.i.zg&&(b=b+.5|0,c=c+.5|0);a.drawImage(this.Z.type.gc,b,c,this.size,this.size)}};a.prototype.Hd=function(a){var b=this.Z.opacity*this.opacity;0===this.Z.Yj&&(b*=1-this.Oh/this.Z.timeout);var c=this.size,d=c*this.Z.Hx,h=this.x-c/2,g=this.y-c/2;this.Z.i.zg&&(h=h+.5|0,g=g+.5|0);1>
d||0===b||(d<a.GD||d>a.gt?(a.wi(b),a.zj(h,g,h+c,g,h+c,g+c,h,g+c)):a.TD(this.x,this.y,d,b))};a.prototype.left=function(){return this.x-this.size/2};a.prototype.right=function(){return this.x+this.size/2};a.prototype.top=function(){return this.y-this.size/2};a.prototype.bottom=function(){return this.y+this.size/2};b.hb=function(a){this.type=a;this.i=a.i};var d=b.hb.prototype,g=[];d.Ma=function(){var a=this.Da;this.Ep=a[0];this.Op=w(a[1]);this.Sk=a[2];this.Tt=!0;this.as=a[3];this.$r=a[4];this.Zr=a[5]/
100;this.Qr=a[6];this.lq=a[7];this.mq=a[8];this.Np=a[9];this.Lp=a[10];this.Io=a[11];this.Rq=a[12];this.xo=a[13];this.fm=a[14];this.hm=a[15];this.gm=a[16];this.Yj=a[17];this.timeout=a[18];this.xj=0;this.Hx=1;this.vp=this.x;this.xp=this.y;this.wp=this.x;this.up=this.y;this.FA(function(a){a.Qb.set(a.vp,a.xp,a.wp,a.up);a.Zb.Bj(a.Qb);a.Gn=!1;a.gu()});this.Md||(this.Ad=[]);this.i.Yp(this);this.type.Gs();if(1===this.Sk)for(a=0;a<this.Ep;a++)this.Sq().opacity=0;this.qo=!0};d.Bd=function(){var a={r:this.Ep,
sc:this.Op,st:this.Sk,s:this.Tt,isp:this.as,isz:this.$r,io:this.Zr,gr:this.Qr,xr:this.lq,yr:this.mq,spr:this.Np,szr:this.Lp,grnd:this.Io,acc:this.Rq,g:this.xo,lar:this.fm,lsr:this.hm,lor:this.gm,dm:this.Yj,to:this.timeout,pcc:this.xj,ft:this.qo,p:[]},b,c,d,h=a.p;b=0;for(c=this.Ad.length;b<c;b++)d=this.Ad[b],h.push([d.x,d.y,d.speed,d.N,d.opacity,d.Ho,d.size,d.gk,d.Oh]);return a};d.ge=function(a){this.Ep=a.r;this.Op=a.sc;this.Sk=a.st;this.Tt=a.s;this.as=a.isp;this.$r=a.isz;this.Zr=a.io;this.Qr=a.gr;
this.lq=a.xr;this.mq=a.yr;this.Np=a.spr;this.Lp=a.szr;this.Io=a.grnd;this.Rq=a.acc;this.xo=a.g;this.fm=a.lar;this.hm=a.lsr;this.gm=a.lor;this.Yj=a.dm;this.timeout=a.to;this.xj=a.pcc;this.qo=a.ft;g.push.apply(g,this.Ad);this.Ad.length=0;var b,c,d,h=a.p;a=0;for(b=h.length;a<b;a++)c=this.Sq(),d=h[a],c.x=d[0],c.y=d[1],c.speed=d[2],c.N=d[3],c.opacity=d[4],c.Ho=d[5],c.size=d[6],c.gk=d[7],c.Oh=d[8]};d.oi=function(){g.push.apply(g,this.Ad);this.Ad.length=0};d.Sq=function(){var b;g.length?(b=g.pop(),b.Z=this):
b=new a(this);this.Ad.push(b);b.Pb=!0;return b};d.Cd=function(){var a=this.i.zo(this),b,c,d,h;if(0===this.Sk&&this.Tt)for(this.xj+=a*this.Ep,c=pa(this.xj),this.xj-=c,b=0;b<c;b++)d=this.Sq(),d.init();this.vp=this.x;this.xp=this.y;this.wp=this.x;this.up=this.y;h=b=0;for(c=this.Ad.length;b<c;b++)d=this.Ad[b],this.Ad[h]=d,this.i.bb=!0,1===this.Sk&&this.qo&&d.init(),d.Cd(a),d.Pb?(d.left()<this.vp&&(this.vp=d.left()),d.right()>this.wp&&(this.wp=d.right()),d.top()<this.xp&&(this.xp=d.top()),d.bottom()>this.up&&
(this.up=d.bottom()),h++):g.push(d);this.Ad.length=h;this.gb();this.qo=!1;1===this.Sk&&0===this.Ad.length&&this.i.Ei(this)};d.Ae=function(a){var b,c,d,h=this.Q;b=0;for(c=this.Ad.length;b<c;b++)d=this.Ad[b],d.right()>=h.lb&&d.bottom()>=h.mb&&d.left()<=h.Bb&&d.top()<=h.Ab&&d.Ae(a)};d.Hd=function(a){this.Hx=this.Q.be();a.Cc(this.type.Xa);var b,c,d,h=this.Q;b=0;for(c=this.Ad.length;b<c;b++)d=this.Ad[b],d.right()>=h.lb&&d.bottom()>=h.mb&&d.left()<=h.Bb&&d.top()<=h.Ab&&d.Hd(a)};b.W=new function(){};c.prototype.Iq=
function(a){this.xo=a};b.sb=new c;b.uc=new function(){}})();function lc(a){this.i=a}
(function(){function a(){if(0===this.sr.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Tk?b.drawImage(this.gc,this.Kk,this.Lk,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.gc,0,0,this.width,this.height);this.sr=a.toDataURL("image/png")}return this.sr}function c(){}function b(){}var d=lc.prototype;d.Eb=function(a){this.Nb=a;this.i=a.i};var g=d.Eb.prototype;g.Ma=function(){if(!this.la){var b,c,d,e,f,g,k,n,y;
this.vf=[];this.Tl=!1;b=0;for(c=this.Rd.length;b<c;b++){f=this.Rd[b];k={};k.name=f[0];k.speed=f[1];k.loop=f[2];k.Ft=f[3];k.Fp=f[4];k.Jx=f[5];k.Na=f[6];k.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],n={},n.Wt=g[0],n.Xt=g[1],n.Kk=g[2],n.Lk=g[3],n.width=g[4],n.height=g[5],n.duration=g[6],n.de=g[7],n.ee=g[8],n.Ur=g[9],n.zp=g[10],n.Kx=g[11],n.Tk=0!==n.width,n.sr="",n.UF=a,y={left:0,top:0,right:1,bottom:1},n.St=y,n.Xa=null,(y=this.i.gC(g[0]))?n.gc=y:(n.gc=new Image,n.gc.XA=g[0],n.gc.mr=g[1],n.gc.RA=
null,this.i.mu(n.gc,g[0])),k.frames.push(n),this.vf.push(n);this.Rd[b]=k}}};g.Ey=function(){var a,b,c;a=0;for(b=this.F.length;a<b;a++)c=this.F[a],c.Zn=c.We.Xa};g.Hm=function(){if(!this.la){var a,b,c;a=0;for(b=this.vf.length;a<b;++a)c=this.vf[a],c.gc.RA=null,c.Xa=null;this.Tl=!1;this.Ey()}};g.tp=function(){if(!this.la&&this.F.length){var a,b,c;a=0;for(b=this.vf.length;a<b;++a)c=this.vf[a],c.Xa=this.i.Y.cp(c.gc,!1,this.i.Ra,c.Kx);this.Ey()}};g.Gs=function(){if(!this.la&&!this.Tl&&this.i.Y){var a,b,
c;a=0;for(b=this.vf.length;a<b;++a)c=this.vf[a],c.Xa=this.i.Y.cp(c.gc,!1,this.i.Ra,c.Kx);this.Tl=!0}};g.cu=function(){if(!this.la&&!this.F.length&&this.Tl){var a,b,c;a=0;for(b=this.vf.length;a<b;++a)c=this.vf[a],this.i.Y.deleteTexture(c.Xa),c.Xa=null;this.Tl=!1}};var e=[];g.ut=function(a){var b,c,d;b=e.length=0;for(c=this.vf.length;b<c;++b)d=this.vf[b].gc,-1===e.indexOf(d)&&(a.drawImage(d,0,0),e.push(d))};d.hb=function(a){this.type=a;this.i=a.i;a=this.type.Rd[0].frames[0].zp;this.Md?this.Rb.Tm(a):
this.Rb=new db(a)};var f=d.hb.prototype;f.Ma=function(){this.visible=0===this.Da[0];this.Wr=this.ks=!1;this.Ti=0!==this.Da[3];1===this.type.Rd.length&&1===this.type.Rd[0].frames.length||0===this.type.Rd[0].speed||(this.i.Yp(this),this.ks=!0);this.tb=this.cw(this.Da[1])||this.type.Rd[0];this.da=this.Da[2];0>this.da&&(this.da=0);this.da>=this.tb.frames.length&&(this.da=this.tb.frames.length-1);var a=this.tb.frames[this.da];this.Rb.Tm(a.zp);this.de=a.de;this.ee=a.ee;this.El=this.tb.speed;this.Md?this.$f.reset():
this.$f=new bb;this.dh=this.$f.Oc;this.Qi=!0;this.Sg=0;this.Pi=!0;this.Qn=this.pv="";this.Iv=0;this.cr=-1;this.type.Gs();var b,c,d,e,f,g,k,a=0;for(b=this.type.Rd.length;a<b;a++)for(e=this.type.Rd[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.gc.width,f.height=f.gc.height),f.Tk&&(k=f.gc,g=f.St,g.left=f.Kk/k.width,g.top=f.Lk/k.height,g.right=(f.Kk+f.width)/k.width,g.bottom=(f.Lk+f.height)/k.height,0===f.Kk&&0===f.Lk&&f.width===k.width&&f.height===k.height&&(f.Tk=!1));this.We=
this.tb.frames[this.da];this.Zn=this.We.Xa};f.Bd=function(){var a={a:this.tb.Na,f:this.da,cas:this.El,fs:this.dh,ar:this.Sg,at:this.$f.Oc};this.Qi||(a.ap=this.Qi);this.Pi||(a.af=this.Pi);return a};f.ge=function(a){var b=this.jC(a.a);b&&(this.tb=b);this.da=a.f;0>this.da&&(this.da=0);this.da>=this.tb.frames.length&&(this.da=this.tb.frames.length-1);this.El=a.cas;this.dh=a.fs;this.Sg=a.ar;this.$f.reset();this.$f.Oc=a.at;this.Qi=a.hasOwnProperty("ap")?a.ap:!0;this.Pi=a.hasOwnProperty("af")?a.af:!0;this.We=
this.tb.frames[this.da];this.Zn=this.We.Xa;this.Rb.Tm(this.We.zp);this.de=this.We.de;this.ee=this.We.ee};f.Wq=function(a){this.da=a?0:this.tb.frames.length-1;this.Qi=!1;this.pv=this.tb.name;this.Wr=!0;this.i.trigger(lc.prototype.W.Az,this);this.i.trigger(lc.prototype.W.zz,this);this.Wr=!1;this.Sg=0};f.WF=function(){return this.$f.Oc};f.Cd=function(){this.$f.add(this.i.zo(this));this.Qn.length&&this.Tv();0<=this.cr&&this.dB();var a=this.$f.Oc,b=this.tb,c=b.frames[this.da],d=c.duration/this.El;this.Qi&&
a>=this.dh+d&&(this.Pi?this.da++:this.da--,this.dh+=d,this.da>=b.frames.length&&(b.Jx?(this.Pi=!1,this.da=b.frames.length-2):b.loop?this.da=b.Fp:(this.Sg++,this.Sg>=b.Ft?this.Wq(!1):this.da=b.Fp)),0>this.da&&(b.Jx?(this.da=1,this.Pi=!0,b.loop||(this.Sg++,this.Sg>=b.Ft&&this.Wq(!0))):b.loop?this.da=b.Fp:(this.Sg++,this.Sg>=b.Ft?this.Wq(!0):this.da=b.Fp)),0>this.da?this.da=0:this.da>=b.frames.length&&(this.da=b.frames.length-1),a>this.dh+b.frames[this.da].duration/this.El&&(this.dh=a),a=b.frames[this.da],
this.Rj(c,a),this.i.bb=!0)};f.cw=function(a){var b,c,d;b=0;for(c=this.type.Rd.length;b<c;b++)if(d=this.type.Rd[b],jb(d.name,a))return d;return null};f.jC=function(a){var b,c,d;b=0;for(c=this.type.Rd.length;b<c;b++)if(d=this.type.Rd[b],d.Na===a)return d;return null};f.Tv=function(){var a=this.tb.frames[this.da],b=this.cw(this.Qn);this.Qn="";!b||jb(b.name,this.tb.name)&&this.Qi||(this.tb=b,this.El=b.speed,0>this.da&&(this.da=0),this.da>=this.tb.frames.length&&(this.da=this.tb.frames.length-1),1===this.Iv&&
(this.da=0),this.Qi=!0,this.dh=this.$f.Oc,this.Pi=!0,this.Rj(a,this.tb.frames[this.da]),this.i.bb=!0)};f.dB=function(){var a=this.tb.frames[this.da],b=this.da;this.da=pa(this.cr);0>this.da&&(this.da=0);this.da>=this.tb.frames.length&&(this.da=this.tb.frames.length-1);b!==this.da&&(this.Rj(a,this.tb.frames[this.da]),this.dh=this.$f.Oc,this.i.bb=!0);this.cr=-1};f.Rj=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.de=b.de;this.ee=b.ee;
this.Rb.Tm(b.zp);this.gb();this.We=b;this.Zn=b.Xa;c=0;for(d=this.ya.length;c<d;c++)e=this.ya[c],e.QD&&e.QD(a,b);this.i.trigger(lc.prototype.W.Rj,this)};f.Ae=function(a){a.globalAlpha=this.opacity;var b=this.We,c=b.Tk,d=b.gc,e=this.x,f=this.y,g=this.width,k=this.height;if(0===this.N&&0<=g&&0<=k)e-=this.de*g,f-=this.ee*k,this.i.zg&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.Kk,b.Lk,b.width,b.height,e,f,g,k):a.drawImage(d,e,f,g,k);else{this.i.zg&&(e=Math.round(e),f=Math.round(f));a.save();var n=
0<g?1:-1,z=0<k?1:-1;a.translate(e,f);1===n&&1===z||a.scale(n,z);a.rotate(this.N*n*z);e=0-this.de*ma(g);f=0-this.ee*ma(k);c?a.drawImage(d,b.Kk,b.Lk,b.width,b.height,e,f,ma(g),ma(k)):a.drawImage(d,e,f,ma(g),ma(k));a.restore()}};f.Hd=function(a){a.Cc(this.Zn);a.wi(this.opacity);var b=this.We,c=this.Zb;if(this.i.zg){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Tk?a.ri(c.Uc+d,c.Vc+e,c.oe+d,c.pe+e,c.Wd+d,c.Xd+e,c.Td+d,c.Ud+e,b.St):a.zj(c.Uc+d,c.Vc+e,c.oe+d,c.pe+e,c.Wd+d,c.Xd+e,c.Td+d,c.Ud+
e)}else b.Tk?a.ri(c.Uc,c.Vc,c.oe,c.pe,c.Wd,c.Xd,c.Td,c.Ud,b.St):a.zj(c.Uc,c.Vc,c.oe,c.pe,c.Wd,c.Xd,c.Td,c.Ud)};f.oC=function(a){var b=this.We,c,d;c=0;for(d=b.Ur.length;c<d;c++)if(jb(a,b.Ur[c][0]))return c;return-1};f.gg=function(a,b){var c=this.We,d=c.Ur,e;e=v(a)?this.oC(a):a-1;e=pa(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.de)*this.width,d=d[e][2],d=(d-c.ee)*this.height,c=Math.cos(this.N);e=Math.sin(this.N);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,d=d+this.y;return b?f:d};var n=new ca,
k=!1;new sa(0,0,0,0);g.finish=function(a){if(k){if(a){var b=this.i.ae().zf.vg;a=null.jb();var c=n.Oe(),d,e;if(a.zb){a.zb=!1;a.F.length=c.length;d=0;for(e=c.length;d<e;d++)a.F[d]=c[d];if(b)for(d=a.Ya.length=0,e=null.F.length;d<e;d++)c=null.F[d],n.contains(c)||a.Ya.push(c)}else if(b)for(b=a.F.length,a.F.length=b+c.length,d=0,e=c.length;d<e;d++)a.F[b+d]=c[d],Fa(a.Ya,c[d]);else Ba(a.F,c);null.Tg()}n.clear();k=!1}};c.prototype.zz=function(a){return jb(this.pv,a)};c.prototype.Az=function(){return!0};c.prototype.Rj=
function(){return!0};d.W=new c;b.prototype.Vz=function(a,b){this.Qn=a;this.Iv=b;this.ks||(this.i.Yp(this),this.ks=!0);this.Wr||this.Tv()};d.sb=new b;d.uc=new function(){}})();function oc(a){this.i=a}
(function(){function a(){return n.length?n.pop():{}}function c(a){var b,c;b=0;for(c=a.length;b<c;b++)n.push(a[b]);a.length=0}function b(){}function d(){}var g=oc.prototype;g.Ma=function(){g.sb.bA=function(a){this.width!==a&&(this.width=a,this.Dj=!0,this.gb())}};g.Eb=function(a){this.Nb=a;this.i=a.i};var e=g.Eb.prototype;e.Ma=function(){};e.Hm=function(){if(!this.la){var a,b,c;a=0;for(b=this.F.length;a<b;a++)c=this.F[a],c.ug=null,c.wj=null,c.je=null}};g.hb=function(a){this.type=a;this.i=a.i;this.Md?
this.gi.length=0:this.gi=[];this.Dj=!0};e=g.hb.prototype;e.Ma=function(){this.text=this.Da[0];this.visible=0===this.Da[1];this.font=this.Da[2];this.color=this.Da[3];this.Jo=this.Da[4];this.gq=this.Da[5];this.ou=0===this.Da[7];this.xs=this.Wo=this.width;this.Vo=this.height;this.Es=this.Da[8];this.so=this.ak="";this.qy=this.ry=this.Pm=0;this.RD();this.je=this.wj=this.ug=null;this.tx=!1;this.em=this.i.mf;this.Md?this.Ok.set(0,0,1,1):this.Ok=new sa(0,0,1,1);this.i.Y&&this.i.Yp(this)};e.RD=function(){var a=
this.font.split(" "),b;for(b=0;b<a.length;b++)if("pt"===a[b].substr(a[b].length-2,2)){this.Pm=parseInt(a[b].substr(0,a[b].length-2));this.At=Math.ceil(this.Pm/72*96)+4;0<b&&(this.so=a[b-1]);this.ak=a[b+1];for(b+=2;b<a.length;b++)this.ak+=" "+a[b];break}};e.Bd=function(){return{t:this.text,f:this.font,c:this.color,ha:this.Jo,va:this.gq,wr:this.ou,lho:this.Es,fn:this.ak,fs:this.so,ps:this.Pm,pxh:this.At,tw:this.ry,th:this.qy,lrt:this.em}};e.ge=function(a){this.text=a.t;this.font=a.f;this.color=a.c;
this.Jo=a.ha;this.gq=a.va;this.ou=a.wr;this.Es=a.lho;this.ak=a.fn;this.so=a.fs;this.Pm=a.ps;this.At=a.pxh;this.ry=a.tw;this.qy=a.th;this.em=a.lrt;this.Dj=!0;this.xs=this.Wo=this.width;this.Vo=this.height};e.Cd=function(){if(this.i.Y&&this.je&&300<=this.i.mf-this.em){var a=this.Q;this.fb();var b=this.Qb;if(b.right<a.lb||b.bottom<a.mb||b.left>a.Bb||b.top>a.Ab)this.i.Y.deleteTexture(this.je),this.ug=this.wj=this.je=null}};e.oi=function(){this.ug=this.wj=null;this.i.Y&&this.je&&this.i.Y.deleteTexture(this.je);
this.je=null};e.hG=function(){this.font=this.so+" "+this.Pm.toString()+"pt "+this.ak;this.Dj=!0;this.i.bb=!0};e.Ae=function(a,b){a.font=this.font;a.textBaseline="top";a.fillStyle=this.color;a.globalAlpha=b?1:this.opacity;var c=1;b&&(c=this.Q.be(),a.save(),a.scale(c,c));if(this.Dj||this.width!==this.xs)this.type.Nb.lA(this.text,this.gi,a,this.width,this.ou),this.Dj=!1,this.xs=this.width;this.fb();var c=b?0:this.Zb.Uc,d=b?0:this.Zb.Vc;this.i.zg&&(c=c+.5|0,d=d+.5|0);0===this.N||b||(a.save(),a.translate(c,
d),a.rotate(this.N),d=c=0);var e=d+this.height,f=this.At,f=f+this.Es,g,n;1===this.gq?d+=Math.max(this.height/2-this.gi.length*f/2,0):2===this.gq&&(d+=Math.max(this.height-this.gi.length*f-2,0));for(n=0;n<this.gi.length&&!(g=c,1===this.Jo?g=c+(this.width-this.gi[n].width)/2:2===this.Jo&&(g=c+(this.width-this.gi[n].width)),a.fillText(this.gi[n].text,g,d),d+=f,d>=e-f);n++);(0!==this.N||b)&&a.restore();this.em=this.i.mf};e.Hd=function(a){if(!(1>this.width||1>this.height)){var b=this.Dj||this.tx;this.tx=
!1;var c=this.Q.be(),d=this.Q.Be(),e=this.Ok,f=c*this.width,g=c*this.height,n=Math.ceil(f),s=Math.ceil(g),y=this.i.Ia/2,z=this.i.Ha/2;this.wj||(this.ug=document.createElement("canvas"),this.ug.width=n,this.ug.height=s,this.Wo=n,this.Vo=s,b=!0,this.wj=this.ug.getContext("2d"));if(n!==this.Wo||s!==this.Vo)this.ug.width=n,this.ug.height=s,this.je&&(a.deleteTexture(this.je),this.je=null),b=!0;b&&(this.wj.clearRect(0,0,n,s),this.Ae(this.wj,!0),this.je||(this.je=a.xf(n,s,this.i.Ra,this.i.jg)),a.lu(this.ug,
this.je,this.i.jg));this.Wo=n;this.Vo=s;a.Cc(this.je);a.wi(this.opacity);a.Dg();a.translate(-y,-z);a.Kg();var x=this.Zb,b=this.Q.xc(x.Uc,x.Vc,!0),y=this.Q.xc(x.Uc,x.Vc,!1),z=this.Q.xc(x.oe,x.pe,!0),C=this.Q.xc(x.oe,x.pe,!1),D=this.Q.xc(x.Wd,x.Xd,!0),E=this.Q.xc(x.Wd,x.Xd,!1),B=this.Q.xc(x.Td,x.Ud,!0),x=this.Q.xc(x.Td,x.Ud,!1);if(this.i.zg||0===this.N&&0===d)var G=(b+.5|0)-b,F=(y+.5|0)-y,b=b+G,y=y+F,z=z+G,C=C+F,D=D+G,E=E+F,B=B+G,x=x+F;0===this.N&&0===d?(z=b+n,C=y,D=z,E=y+s,B=b,x=E,e.right=1,e.bottom=
1):(e.right=f/n,e.bottom=g/s);a.ri(b,y,z,C,D,E,B,x,e);a.Dg();a.scale(c,c);a.Ht(-this.Q.Be());a.translate((this.Q.lb+this.Q.Bb)/-2,(this.Q.mb+this.Q.Ab)/-2);a.Kg();this.em=this.i.mf}};var f=[];g.iA=function(a){f.length=0;for(var b="",c,d=0;d<a.length;)if(c=a.charAt(d),"\n"===c)b.length&&(f.push(b),b=""),f.push("\n"),++d;else if(" "===c||"\t"===c||"-"===c){do b+=a.charAt(d),d++;while(d<a.length&&(" "===a.charAt(d)||"\t"===a.charAt(d)));f.push(b);b=""}else d<a.length&&(b+=c,d++);b.length&&f.push(b)};
var n=[];g.lA=function(b,d,e,f,g){if(b&&b.length)if(2>=f)c(d);else{if(100>=b.length&&-1===b.indexOf("\n")){var n=e.measureText(b).width;if(n<=f){c(d);d.push(a());d[0].text=b;d[0].width=n;return}}this.mA(b,d,e,f,g)}else c(d)};g.mA=function(b,c,d,e,g){g&&(this.iA(b),b=f);var p="",u,t,s,y=0;for(s=0;s<b.length;s++)"\n"===b[s]?(y>=c.length&&c.push(a()),t=c[y],t.text=p,t.width=d.measureText(p).width,y++,p=""):(u=p,p+=b[s],t=d.measureText(p).width,t>=e&&(y>=c.length&&c.push(a()),t=c[y],t.text=u,t.width=
d.measureText(u).width,y++,p=b[s],g||" "!==p||(p="")));p.length&&(y>=c.length&&c.push(a()),t=c[y],t.text=p,t.width=d.measureText(p).width,y++);for(s=y;s<c.length;s++)n.push(c[s]);c.length=y};g.W=new function(){};b.prototype.$z=function(a){ia(a)&&1E9>a&&(a=Math.round(1E10*a)/1E10);a=a.toString();this.text!==a&&(this.text=a,this.Dj=!0,this.i.bb=!0)};g.sb=new b;d.prototype.Text=function(a){a.Od(this.text)};g.uc=new d})();function pc(a){this.i=a}
(function(){function a(a){h=a.x;l=a.y;m=a.z}function c(a){q=a.x;p=a.y;u=a.z}function b(a,b,c,e){var f;f=t.length?t.pop():new d;f.init(a,b,c,e);return f}function d(){this.Wm=this.id=this.y=this.x=this.Rp=this.Qp=this.ws=this.time=this.Vt=0;this.$m=this.cq=!1}function g(){}function e(){}var f=pc.prototype;f.Eb=function(a){this.Nb=a;this.i=a.i};f.Eb.prototype.Ma=function(){};f.hb=function(a){this.type=a;this.i=a.i;this.touches=[];this.it=!1};var n=f.hb.prototype,k={left:0,top:0};n.Kl=function(a){var b,
c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var h=0,l=0,m=0,q=0,p=0,u=0,t=[];d.prototype.init=function(a,b,c,d){var e=Xa();this.Vt=this.ws=this.time=e;this.Qp=a;this.Rp=b;this.x=a;this.y=b;this.id=c;this.Wm=d;this.$m=this.cq=!1};d.prototype.update=function(a,b,c){this.ws=this.time;this.time=a;this.x=b;this.y=c;!this.$m&&15<=Ra(this.Qp,this.Rp,this.x,this.y)&&(this.$m=!0)};d.prototype.CD=function(a,b){!this.cq&&500<=Xa()-this.Vt&&!this.$m&&15>Ra(this.Qp,this.Rp,
this.x,this.y)&&(this.cq=!0,a.Jg=this.Wm,a.Vk=this.id,a.fk=b,a.i.trigger(pc.prototype.W.Fz,a),a.Wg=this.x,a.Xg=this.y,a.i.trigger(pc.prototype.W.Gz,a),a.fk=0)};var s=-1E3,y=-1E3,z=-1E4;d.prototype.nx=function(a,b){if(!this.cq){var c=Xa();333>=c-this.Vt&&!this.$m&&15>Ra(this.Qp,this.Rp,this.x,this.y)&&(a.Jg=this.Wm,a.Vk=this.id,a.fk=b,666>=c-z&&25>Ra(s,y,this.x,this.y)?(a.i.trigger(pc.prototype.W.Dz,a),a.Wg=this.x,a.Xg=this.y,a.i.trigger(pc.prototype.W.Ez,a),y=s=-1E3,z=-1E4):(a.i.trigger(pc.prototype.W.Pz,
a),a.Wg=this.x,a.Xg=this.y,a.i.trigger(pc.prototype.W.Qz,a),s=this.x,y=this.y,z=c),a.fk=0)}};n.Ma=function(){this.XC=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.fk=this.Vk=this.Jg=this.Xg=this.Wg=this.jv=this.iv=this.hv=this.CA=this.BA=this.AA=this.Km=this.Jm=this.Im=0;this.BE=0!==this.Da[0];var b=0<this.i.$d?document:this.i.canvas,d=document;this.i.ig?d=b=window.Canvas:this.i.bf&&(d=b=window);var e=this;window.navigator.pointerEnabled?(b.addEventListener("pointerdown",
function(a){e.Bx(a)},!1),b.addEventListener("pointermove",function(a){e.Ax(a)},!1),d.addEventListener("pointerup",function(a){e.sp(a,!1)},!1),d.addEventListener("pointercancel",function(a){e.sp(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),this.i.canvas.addEventListener("gesturehold",function(a){a.preventDefault()},!1),document.addEventListener("gesturehold",
function(a){a.preventDefault()},!1))):window.navigator.msPointerEnabled?(b.addEventListener("MSPointerDown",function(a){e.Bx(a)},!1),b.addEventListener("MSPointerMove",function(a){e.Ax(a)},!1),d.addEventListener("MSPointerUp",function(a){e.sp(a,!1)},!1),d.addEventListener("MSPointerCancel",function(a){e.sp(a,!0)},!1),this.i.canvas&&(this.i.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},!1))):(b.addEventListener("touchstart",
function(a){e.Dx(a)},!1),b.addEventListener("touchmove",function(a){e.Cx(a)},!1),d.addEventListener("touchend",function(a){e.ot(a,!1)},!1),d.addEventListener("touchcancel",function(a){e.ot(a,!0)},!1));if(this.XC){var f=function(a){a=a.reading;e.hv=a.accelerationX;e.iv=a.accelerationY;e.jv=a.accelerationZ},m=function(a){a=a.reading;e.Im=a.yawDegrees;e.Jm=a.pitchDegrees;e.Km=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),
g.addEventListener("readingchanged",f));var h=Windows.Devices.Sensors.Inclinometer.getDefault();h&&(h.reportInterval=Math.max(h.minimumReportInterval,16),h.addEventListener("readingchanged",m));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",f),h&&h.removeEventListener("readingchanged",m)):(g&&g.addEventListener("readingchanged",f),h&&h.addEventListener("readingchanged",m))},!1)}else window.addEventListener("deviceorientation",
function(a){e.Im=a.alpha||0;e.Jm=a.beta||0;e.Km=a.gamma||0},!1),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(e.AA=a.accelerationIncludingGravity.x||0,e.BA=a.accelerationIncludingGravity.y||0,e.CA=a.accelerationIncludingGravity.z||0);a.acceleration&&(e.hv=a.acceleration.x||0,e.iv=a.acceleration.y||0,e.jv=a.acceleration.z||0)},!1);this.BE&&!this.i.lc&&(jQuery(document).mousemove(function(a){e.OD(a)}),jQuery(document).mousedown(function(a){e.ND(a)}),jQuery(document).mouseup(function(a){e.PD(a)}));
this.i.Wl&&!this.i.ig&&AppMobi.accelerometer.watchAcceleration(a,{frequency:40,adjustForRotation:!0});this.i.Df&&navigator.accelerometer&&navigator.accelerometer.watchAcceleration&&navigator.accelerometer.watchAcceleration(c,null,{frequency:40});this.i.ty(this)};n.Ax=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&a.preventDefault();var b=this.Kl(a.pointerId),c=Xa();if(0<=b){var d=this.i.lc?k:jQuery(this.i.canvas).offset(),b=this.touches[b];2>c-b.time||
b.update(c,a.pageX-d.left,a.pageY-d.top)}}};n.Bx=function(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&kb(a)&&a.preventDefault();var c=this.i.lc?k:jQuery(this.i.canvas).offset(),d=a.pageX-c.left,c=a.pageY-c.top;Xa();this.Jg=this.touches.length;this.Vk=a.pointerId;this.touches.push(b(d,c,a.pointerId,this.Jg));this.i.Yh=!0;this.i.trigger(pc.prototype.W.Lu,this);this.i.trigger(pc.prototype.W.Ou,this);this.Wg=d;this.Xg=c;this.i.trigger(pc.prototype.W.Nu,this);
this.i.Yh=!1}};n.sp=function(a,b){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType){a.preventDefault&&kb(a)&&a.preventDefault();var c=this.Kl(a.pointerId);this.Jg=0<=c?this.touches[c].Wm:-1;this.Vk=0<=c?this.touches[c].id:-1;this.i.Yh=!0;this.i.trigger(pc.prototype.W.Ku,this);this.i.trigger(pc.prototype.W.Mu,this);0<=c&&(b||this.touches[c].nx(this,c),100>t.length&&t.push(this.touches[c]),this.touches.splice(c,1));this.i.Yh=!1}};n.Cx=function(a){a.preventDefault&&a.preventDefault();
var b=Xa(),c,d,e,f;c=0;for(d=a.changedTouches.length;c<d;c++)if(e=a.changedTouches[c],f=this.Kl(e.identifier),0<=f){var m=this.i.lc?k:jQuery(this.i.canvas).offset();f=this.touches[f];2>b-f.time||f.update(b,e.pageX-m.left,e.pageY-m.top)}};n.Dx=function(a){a.preventDefault&&kb(a)&&a.preventDefault();var c=this.i.lc?k:jQuery(this.i.canvas).offset();Xa();this.i.Yh=!0;var d,e,f,m;d=0;for(e=a.changedTouches.length;d<e;d++)if(f=a.changedTouches[d],m=this.Kl(f.identifier),-1===m){m=f.pageX-c.left;var g=f.pageY-
c.top;this.Jg=this.touches.length;this.Vk=f.identifier;this.touches.push(b(m,g,f.identifier,this.Jg));this.i.trigger(pc.prototype.W.Lu,this);this.i.trigger(pc.prototype.W.Ou,this);this.Wg=m;this.Xg=g;this.i.trigger(pc.prototype.W.Nu,this)}this.i.Yh=!1};n.ot=function(a,b){a.preventDefault&&kb(a)&&a.preventDefault();this.i.Yh=!0;var c,d,e;c=0;for(d=a.changedTouches.length;c<d;c++)e=a.changedTouches[c],e=this.Kl(e.identifier),0<=e&&(this.Jg=this.touches[e].Wm,this.Vk=this.touches[e].id,this.i.trigger(pc.prototype.W.Ku,
this),this.i.trigger(pc.prototype.W.Mu,this),b||this.touches[e].nx(this,e),100>t.length&&t.push(this.touches[e]),this.touches.splice(e,1));this.i.Yh=!1};n.SF=function(){return this.i.Wl&&0===this.Im&&0!==m?90*m:this.i.Df&&0===this.Im&&0!==u?90*u:this.Im};n.TF=function(){return this.i.Wl&&0===this.Jm&&0!==l?-90*l:this.i.Df&&0===this.Jm&&0!==p?90*p:this.Jm};n.VF=function(){return this.i.Wl&&0===this.Km&&0!==h?90*h:this.i.Df&&0===this.Km&&0!==q?90*q:this.Km};n.ND=function(a){a.preventDefault&&this.i.Rr&&
!this.i.jg&&a.preventDefault();this.Dx({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.it=!0};n.OD=function(a){this.it&&this.Cx({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};n.PD=function(a){a.preventDefault&&this.i.Rr&&!this.i.jg&&a.preventDefault();this.i.Rr=!0;this.ot({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.it=!1};n.Ej=function(){var a,b,c,d=Xa();a=0;for(b=this.touches.length;a<b;++a)c=this.touches[a],c.time<=d-50&&(c.ws=d),c.CD(this,
a)};g.prototype.Ou=function(){return!0};g.prototype.Mu=function(){return!0};g.prototype.Nu=function(a){return a?this.i.Tp(a,this.Wg,this.Xg):!1};var x=[];g.prototype.sz=function(a){if(!a)return!1;var b=a.jb(),c=b.Bf(),d,e,f,m,g,h;f=0;for(m=c.length;f<m;f++){var k=c[f];k.fb();g=0;for(h=this.touches.length;g<h;g++)if(e=this.touches[g],d=k.Q.sd(e.x,e.y,!0),e=k.Q.sd(e.x,e.y,!1),k.ze(d,e)){x.push(k);break}}return x.length?(b.zb=!1,Ba(b.F,x),a.Tg(),x.length=0,!0):!1};g.prototype.Lu=function(a){a=Math.floor(a);
return a===this.Jg};g.prototype.Ku=function(a){a=Math.floor(a);return a===this.Jg};g.prototype.Fz=function(){return!0};g.prototype.Pz=function(){return!0};g.prototype.Dz=function(){return!0};g.prototype.Gz=function(a){return a?this.i.Tp(a,this.Wg,this.Xg):!1};g.prototype.Qz=function(a){return a?this.i.Tp(a,this.Wg,this.Xg):!1};g.prototype.Ez=function(a){return a?this.i.Tp(a,this.Wg,this.Xg):!1};f.W=new g;e.prototype.oA=function(a,b){var c=this.fk;if(0>c||c>=this.touches.length)a.ja(0);else{var d,
e,f,m,g;ha(b)?(d=this.i.Pl(0),e=d.scale,f=d.Fh,m=d.wg,g=d.N,d.scale=1,d.Fh=1,d.wg=1,d.N=0,a.ja(d.sd(this.touches[c].x,this.touches[c].y,!0)),d.scale=e,d.Fh=f,d.wg=m,d.N=g):(d=ia(b)?this.i.Pl(b):this.i.Nr(b))?a.ja(d.sd(this.touches[c].x,this.touches[c].y,!0)):a.ja(0)}};e.prototype.pA=function(a,b){var c=this.fk;if(0>c||c>=this.touches.length)a.ja(0);else{var d,e,f,m,g;ha(b)?(d=this.i.Pl(0),e=d.scale,f=d.Fh,m=d.xg,g=d.N,d.scale=1,d.Fh=1,d.xg=1,d.N=0,a.ja(d.sd(this.touches[c].x,this.touches[c].y,!1)),
d.scale=e,d.Fh=f,d.xg=m,d.N=g):(d=ia(b)?this.i.Pl(b):this.i.Nr(b))?a.ja(d.sd(this.touches[c].x,this.touches[c].y,!1)):a.ja(0)}};f.uc=new e})();function qc(a){this.i=a}
(function(){function a(a){a%=m.length;0>a&&(a+=m.length);return a}function c(){var b,c,d,e;b=0;for(c=m.length;b<c;++b)d=m[b],(e=m[a(b-1)])&&!d&&(p=b),!e&&d&&(t=b)}var b=qc.prototype;b.Eb=function(a){this.Nb=a;this.i=a.i};var d=b.Eb.prototype,g=!1,e=null,f=null;d.Ma=function(){this.la||g||(g=!0,e=new Image,e.mr=15E3,this.i.mu(e,"penumbra.png"))};d.Hm=function(){if(!this.la){this.ke=this.Xa=null;var a,b,c;a=0;for(b=this.F.length;a<b;++a)c=this.F[a],c.Xa=null,c.ke=null}};d.tp=function(){if(!this.la){var a,
b;a=0;for(b=this.F.length;a<b;++a)this.F[a].Pv()}};b.hb=function(a){this.type=a;this.i=a.i};d=b.hb.prototype;d.Ma=function(){if(!f){var a=e.width,b=e.height,c=document.createElement("canvas");c.width=a;c.height=b;c=c.getContext("2d");c.clearRect(0,0,a,b);c.drawImage(e,0,0,a,b);f=c.getImageData(0,0,a,b).data}this.ei=this.x;this.fi=this.y;this.Mw=this.Da[0];this.Ke=1E3;this.qk=this.Da[1];this.Gv=this.Da[2];this.tag=this.Da[3];this.Bs=this.Cs=this.Ds=0;this.bi=this.x;this.ci=this.y;this.ke=this.Xa=null;
this.i.Y?this.Pv():this.qk=0;this.i.ty(this)};d.Hv=function(a){return 1===this.Gv?jb(this.tag,a):2===this.Gv?!jb(this.tag,a):!0};d.Ej=function(){if(this.bi!==this.x||this.ci!==this.y)this.ei=this.x,this.fi=this.y;var a=this.Q,b=(a.lb+a.Bb)/2,c=(a.mb+a.Ab)/2,d=a.Bb-a.lb,e=a.Ab-a.mb;if(b!==this.x||c!==this.y||d!==this.width||e!==this.height)this.x=b,this.y=c,this.width=d,this.height=e,this.gb();this.bi=this.x;this.ci=this.y;this.Ke=1.5*Ra(a.lb,a.mb,a.Bb,a.Ab)};d.oi=function(){this.i.Y&&(this.Xa&&(this.i.Y.deleteTexture(this.Xa),
this.Xa=null),this.ke&&(this.i.Y.deleteTexture(this.ke),this.ke=null))};d.Bd=function(){return{}};d.ge=function(){};var n=[],k=[];d.lw=function(){this.i.Pt&&(this.i.wC(this.Q,this.i.Pt.jt,this.Qb,n),Ya(n))};var h=[],l=0,m=[],q=[],p=-1,u=-1,t=-1,s=-1,y=0,z=0,x=[],C=0,D=0,E=0,B=0,G=0,F=0,H=0,W=0,M=new db([]);d.Ae=function(a){this.lw();a.save();a.fillStyle="rgba("+this.Ds+","+this.Cs+","+this.Bs+","+this.opacity+")";var b,c,d,e,f,g,h,l,q,p;b=0;for(c=n.length;b<c;++b)if(d=n[b],d.X.shadowcasterEnabled&&
this.Hv(d.X.shadowcasterTag))if(d.fb(),h=d.X.shadowcasterHeight,d.Fj){d.mC(this.Qb,k);l=d.x;q=d.y;d=0;for(e=k.length;d<e;++d){f=k[d];p=f.Ux;f.Ag?(f=f.Ag,g=p.left,p=p.top):(M.Bj(p,0,0),f=M,p=g=0);this.Pn(f,l+g,q+p,h);a.beginPath();a.moveTo(x[0],x[1]);f=2;for(g=x.length;f<g;f+=2)a.lineTo(x[f],x[f+1]);a.closePath();a.fill();m.length=0;x.length=0}k.length=0}else{d.Rb&&!d.Rb.Po()?(d.Rb.Nn(d.width,d.height,d.N),f=d.Rb):(M.fy(d.Zb,d.x,d.y,d.width,d.height),f=M);this.Pn(f,d.x,d.y,h);a.beginPath();a.moveTo(x[0],
x[1]);d=2;for(e=x.length;d<e;d+=2)a.lineTo(x[d],x[d+1]);a.closePath();a.fill();m.length=0;x.length=0}a.restore();n.length=0};d.sC=function(a,b,c){l=a.qi;h.length=0;var d,e=a.Pf;z=y=0;var f;for(f=0;f<l;++f)d=2*f,a=e[d]+b,d=e[d+1]+c,h.push(a),h.push(d),y+=a,z+=d;y/=l;z/=l};d.Pn=function(a,b,d,e){this.sC(a,b,d);var f;m.length=0;q.length=0;x.length=0;s=u=t=p=-1;d=this.ei;var g=this.fi;if(0<this.qk)this.Yq(-this.qk),c(),Ba(q,m),u=p,s=t,m.length=0,t=p=-1,this.Yq(this.qk),c(),-1!==p&&-1!==t&&-1!==u&&-1!==
s&&this.TA();else for(this.Yq(0),c(),a=0;a<l;++a)f=2*a,b=h[f],f=h[f+1],this.SA(a,d,g,b,f,e)};d.SA=function(b,c,d,e,f,g){var h;h=m[a(b-1)];var k=b===p,l=b===t;m[b]||h?(b=Na(c,d,e,f),h=Ra(c,d,e,f),g=this.UA(c,d,e,f,g),c+=Math.cos(b)*(h+g),d+=Math.sin(b)*(h+g)):(c=e,d=f);l&&(x.push(e),x.push(f));x.push(c);x.push(d);k&&(x.push(e),x.push(f))};d.Yq=function(a){var b=this.ei,c=this.fi,d=b,e=c,f,g,k,n,q;for(f=0;f<l;++f)g=2*f,k=f+1,k=k===l?0:2*k,n=h[g],g=h[g+1],q=h[k],k=h[k+1],0!==a&&(e=Na(b,c,y,z)-Math.PI/
2,d=b+Math.cos(e)*a,e=c+Math.sin(e)*a),m.push(Oa(Na(n,g,d,e),Na(n,g,q,k)-Math.PI/2)>=Math.PI/2)};var Q=0,N=0;d.TA=function(){for(var a=u,b,c,d;a%=l,b=2*a,c=h[b],d=h[b+1],x.push(c),x.push(d),a!==t;++a);var e=this.qk,f=Na(this.ei,this.fi,y,z),a=this.ei+Math.cos(f-Math.PI/2)*e,m=this.fi+Math.sin(f-Math.PI/2)*e,f=Na(a,m,c,d),g=Ra(a,m,c,d),a=a+Math.cos(f)*(g+this.Ke),m=m+Math.sin(f)*(g+this.Ke);b=2*u;var k=h[b];b=h[b+1];var f=Na(this.ei,this.fi,y,z),n=this.ei+Math.cos(f+Math.PI/2)*e,q=this.fi+Math.sin(f+
Math.PI/2)*e,f=Na(n,q,k,b),g=Ra(n,q,k,b),e=n+Math.cos(f)*(g+this.Ke),f=q+Math.sin(f)*(g+this.Ke);G=c;F=d;C=k;D=b;var p,s,M,g=a-c,n=m-d;p=e-k;s=f-b;M=-p*n+g*s;0===M?c=!1:(q=(-n*(c-k)+g*(d-b))/M,M=-p*n+g*s,0===M?c=!1:(k=(p*(d-b)-s*(c-k))/M,0<=q&&1>=q&&0<=k&&1>=k?(Q=c+k*g,N=d+k*n,c=!0):c=!1));c?(x.push(Q),x.push(N),H=Q,W=N,E=Q,B=N):(x.push(a),x.push(m),x.push(e),x.push(f),H=a,W=m,E=e,B=f)};d.UA=function(a,b,c,d,e){if(e>=this.Mw)return this.Ke;if(0>=e)return 0;a=Ra(a,b,c,d);a=Math.atan(a/(this.Mw-e));
e*=Math.tan(a);e>=this.Ke&&(e=this.Ke);0>e&&(e=0);return e};d.Hd=function(a){a.wi(this.opacity);this.lw();var b,c,d,e,f,g,h,l,q,y;b=0;for(c=n.length;b<c;++b)if(d=n[b],d.X.shadowcasterEnabled&&this.Hv(d.X.shadowcasterTag))if(d.fb(),f=d.X.shadowcasterHeight,d.Fj){d.mC(this.Qb,k);h=d.x;l=d.y;d=0;for(e=k.length;d<e;++d)g=k[d],q=g.Ux,g.Ag?(g=g.Ag,y=q.left,q=q.top):(M.Bj(q,0,0),g=M,q=y=0),this.Pn(g,h+y,l+q,f),6>x.length||(a.Cc(this.Xa),a.Nv(x),-1<p&&-1<u&&(a.Cc(this.ke),this.fo(a,!0)),-1<t&&-1<s&&(a.Cc(this.ke),
this.fo(a,!1)),m.length=0,x.length=0);k.length=0}else d.Rb&&!d.Rb.Po()?(d.Rb.Nn(d.width,d.height,d.N),g=d.Rb):(M.fy(d.Zb,d.x,d.y,d.width,d.height),g=M),this.Pn(g,d.x,d.y,f),6>x.length||(a.Cc(this.Xa),a.Nv(x),-1<p&&-1<u&&(a.Cc(this.ke),this.fo(a,!0)),-1<t&&-1<s&&(a.Cc(this.ke),this.fo(a,!1)),m.length=0,x.length=0);n.length=0};d.fo=function(a,b){var c=this.ei,d=this.fi,e,f,m,g,k,l;b?(m=C,g=D,k=E,l=B):(m=G,g=F,k=H,l=W);var n=this.qk,q=Na(c,d,y,z),x=Math.PI/2;b&&(x=-x);c+=Math.cos(q+x)*n;d+=Math.sin(q+
x)*n;n=!1;if(b){if(n=p!==u)e=h[2*p],f=h[2*p+1]}else if(n=t!==s)e=h[2*s],f=h[2*s+1];var q=n?Na(e,f,m,g):Na(c,d,m,g),x=m+Math.cos(q)*this.Ke,M=g+Math.sin(q)*this.Ke,N,Q,xa,Gc=xa=0,Hc=1;n&&(xa=Na(c,d,e,f),N=e+Math.cos(xa)*this.Ke,Q=f+Math.sin(xa)*this.Ke,c=Na(m,g,k,l),xa=Oa(q,xa)/Oa(c,xa),q=Ra(e,f,m,g),q/=q+this.Ke,c=Na(0,1,xa,0),d=Ra(0,1,xa,0),Gc+=Math.cos(c)*q*d,Hc+=Math.sin(c)*q*d);a.Tx(m,g,k,l,x,M,x,M,Gc,Hc,1,xa,xa);n&&a.Tx(e,f,x,M,N,Q,N,Q,0,1,xa,0,0)};d.Pv=function(){this.i.Y&&(this.Xa&&(this.i.Y.deleteTexture(this.Xa),
this.Xa=null),this.ke&&(this.i.Y.deleteTexture(this.ke),this.ke=null),this.YA(),this.aB())};d.YA=function(){var a=document.createElement("canvas");a.width=16;a.height=16;var b=a.getContext("2d");b.fillStyle="rgb("+this.Ds+","+this.Cs+","+this.Bs+")";b.fillRect(0,0,16,16);this.Xa=this.i.Y.xf(16,16,!1,!1,!0);this.i.Y.lu(a,this.Xa)};d.aB=function(){var a=e.width,b=e.height,c=this.Ds,d=this.Cs,m=this.Bs,g=f,h=document.createElement("canvas");h.width=a;h.height=b;var k=h.getContext("2d"),l=k.createImageData(a,
b),n=l.data,q,p;q=0;for(p=n.length;q<p;q+=4)n[q]=c,n[q+1]=d,n[q+2]=m,n[q+3]=g[q+3];k.putImageData(l,0,0);this.ke=this.i.Y.xf(a,b,this.i.Ra,!1,!1);this.i.Y.lu(h,this.ke)};b.W=new function(){};b.sb=new function(){};b.uc=new function(){}})();function I(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}
if(navigator.isCocoonJS&&"undefined"!==typeof window.cr_cjs_accelerated_physics)ea("Using CocoonJS native physics"),window.ext&&"undefined"!==typeof window.ext.IDTK_SRV_BOX2D?function(){function a(a,b,d,e){this.type=c.Zj;this.ob=new l;this.pb=new l;this.Tf=null;void 0!==a&&(this.K=a);void 0!==b&&(this.M=b);void 0!==d&&this.ob.H(d);void 0!==e&&this.pb.H(e);this.Hk=this.mx=this.hu=this.Ls=this.Cg=0;this.$j=this.Yi=!1}function c(a){this.K=a.K;this.M=a.M;this.Tf=a.Tf;this.type=a.type;this.next=null}function b(a,
b){this.gp=[];this.xb=[];this.oj=[];this.lh=null;this.pD=[];this.Jb=window.ext.IDTK_SRV_BOX2D.makeCall("createWorld",a.x,a.y,b)}function d(){}function g(a,b,c){this.Fb=a;this.wb=b;this.wD=c}function e(a,b){var c=a.Tf;a.Tf=null;this.Ca=b;this.C=new k(a.position,h.Mj(a.N));this.wm=[];this.rm=a.Pb;a.type===e.xe&&(a.Af=0);this.cc=window.ext.IDTK_SRV_BOX2D.makeCall("createBody",b.Jb,a);a.Tf=c}function f(a,b,c,d){this.um=a;this.Qs=c;this.sh={};this.sh.vd=l.A(0,0);this.jp=!1;this.hp=d.Af;this.Ss=d.fg;this.$s=
d.Eg;this.jp=d.js}function n(){}function k(a,b){this.position=l.A(0,0);this.q=new h;void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.H(a),this.q.rf(b))}function h(){this.j=l.A(0,0);this.k=l.A(0,0);this.Lh()}function l(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b}K=l;l.Qg=[];l.A=function(a,b){if(0<K.Qg.length){var c=K.Qg.pop();c.Set(a,b);return c}return new K(a,b)};l.Xb=function(a){1E4>K.Qg.length&&K.Qg.push(a)};l.prototype.ga=function(){this.y=this.x=0};l.prototype.Set=function(a,
b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};l.prototype.H=function(a){this.x=a.x;this.y=a.y};l.cF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return l.A(a,b)};l.prototype.hc=function(){return l.A(this.x,this.y)};l.prototype.Mg=function(a){this.x+=a.x;this.y+=a.y};l.prototype.Mq=function(a){this.x-=a.x;this.y-=a.y};l.prototype.od=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a};l.prototype.Yf=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};l.prototype.An=function(){return this.x*
this.x+this.y*this.y};l.prototype.qd=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};l.prototype.Aq=function(){this.x=-this.x;this.y=-this.y};O=h;h.Mj=function(a){void 0===a&&(a=0);var b=new h;b.Set(a);return b};h.Xf=function(a,b){var c=new h;c.Kq(a,b);return c};h.prototype.Set=function(a){void 0===a&&(a=0);var b=Math.cos(a);a=Math.sin(a);this.j.x=b;this.k.x=-a;this.j.y=a;this.k.y=b};h.prototype.Kq=function(a,b){this.j.H(a);
this.k.H(b)};h.prototype.hc=function(){var a=new h;a.rf(this);return a};h.prototype.rf=function(a){this.j.H(a.j);this.k.H(a.k)};h.prototype.hn=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.k.x+=a.k.x;this.k.y+=a.k.y};h.prototype.Lh=function(){this.j.x=1;this.k.x=0;this.j.y=0;this.k.y=1};h.prototype.ga=function(){this.j.x=0;this.k.x=0;this.j.y=0;this.k.y=0};h.prototype.md=function(){return Math.atan2(this.j.y,this.j.x)};h.prototype.tq=function(a){var b=this.j.x,c=this.k.x,d=this.j.y,e=this.k.y,
f=b*e-c*d;0!==f&&(f=1/f);a.j.x=f*e;a.k.x=-f*c;a.j.y=-f*d;a.k.y=f*b;return a};h.prototype.Mh=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.j.x,e=this.k.x,f=this.j.y,g=this.k.y,h=d*g-e*f;0!==h&&(h=1/h);a.x=h*(g*b-e*c);a.y=h*(d*c-f*b);return a};h.prototype.Lg=function(){this.j.Lg();this.k.Lg()};rc=k;k.prototype.Yb=function(a,b){this.position.H(a);this.q.rf(b)};k.prototype.Lh=function(){this.position.ga();this.q.Lh()};k.prototype.Set=function(a){this.position.H(a.position);this.q.rf(a.q)};
k.prototype.Bn=function(){return Math.atan2(this.q.j.y,this.q.j.x)};P=n;n.zn=function(a){void 0===a&&(a=0);return isFinite(a)};n.Cb=function(a,b){return a.x*b.x+a.y*b.y};n.Di=function(a,b){return a.x*b.y-a.y*b.x};n.Ng=function(a,b){void 0===b&&(b=0);return l.A(b*a.y,-b*a.x)};n.pq=function(a,b){void 0===a&&(a=0);return l.A(-a*b.y,a*b.x)};n.Ob=function(a,b){return l.A(a.j.x*b.x+a.k.x*b.y,a.j.y*b.x+a.k.y*b.y)};n.Og=function(a,b){return l.A(n.Cb(b,a.j),n.Cb(b,a.k))};n.qc=function(a,b){var c=n.Ob(a.q,
b);c.x+=a.position.x;c.y+=a.position.y;return c};n.yq=function(a,b){var c=n.nb(b,a.position),d=c.x*a.q.j.x+c.y*a.q.j.y;c.y=c.x*a.q.k.x+c.y*a.q.k.y;c.x=d;return c};n.cl=function(a,b){return l.A(a.x+b.x,a.y+b.y)};n.nb=function(a,b){return l.A(a.x-b.x,a.y-b.y)};n.fz=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};n.vu=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};n.wz=function(a,b){void 0===a&&(a=0);return l.A(a*b.x,a*b.y)};n.Py=function(a,b){return h.Xf(n.cl(a.j,b.j),n.cl(a.k,
b.k))};n.xz=function(a,b){return h.Xf(n.Ob(a,b.j),n.Ob(a,b.k))};n.yz=function(a,b){var c=l.A(n.Cb(a.j,b.j),n.Cb(a.k,b.j)),d=l.A(n.Cb(a.j,b.k),n.Cb(a.k,b.k));return h.Xf(c,d)};n.Lg=function(a){void 0===a&&(a=0);return 0<a?a:-a};n.$k=function(a){return l.A(n.Lg(a.x),n.Lg(a.y))};n.My=function(a){return h.Xf(n.$k(a.j),n.$k(a.k))};n.Fu=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};n.Gu=function(a,b){return l.A(n.Fu(a.x,b.x),n.Fu(a.y,b.y))};n.Du=function(a,b){void 0===a&&(a=0);void 0===
b&&(b=0);return a>b?a:b};n.Eu=function(a,b){return l.A(n.Du(a.x,b.x),n.Du(a.y,b.y))};n.rb=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};n.Uy=function(a,b,c){return n.Eu(b,n.Gu(a,c))};n.JF=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};n.qF=function(){return 2*Math.random()-1};n.rF=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=Math.random();return(b-a)*c+a};n.iF=function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;
a|=a>>8&16777215;return(a|a>>16&65535)+1};n.ZE=function(a){void 0===a&&(a=0);return 0<a&&0===(a&a-1)};n.NA=new l(0,0);n.MA=h.Xf(new l(1,0),new l(0,1));n.PF=new k(n.NA,n.MA);S=function(){this.position=l.A(0,0);this.Fs=l.A(0,0);this.Tf=null;this.N=0;this.Fs.Set(0,0);this.Oi=this.hj=this.ov=0;this.rv=this.nv=!0;this.Si=this.Dr=!1;this.type=e.xe;this.Pb=!0;this.qw=1};sc=f;f.prototype.Oa=function(){return this.um};f.prototype.pc=function(){console.log("fixture.GetShape not yet supported in CocoonJS Box2D binding");
return null};f.prototype.Ii=function(){return this.jp};tc=e;e.prototype.Kj=function(a){var b=a.Tf;a.Tf=null;var c=window.ext.IDTK_SRV_BOX2D.makeCall("createFixture",this.Ca.Jb,this.cc,a);a.Tf=b;a=new f(this,0,c,a);this.Ca.oj[c]=a;this.wm.push(a);return a};e.prototype.sq=function(){return 0===this.wm.length?null:this.wm[0]};e.prototype.uu=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteFixture",this.Ca.Jb,a.Qs);delete this.Ca.oj[a.Qs]};e.prototype.sl=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("setBodyTransform",
this.Ca.Jb,this.cc,a.x,a.y,b);this.C.q.Set(b);this.C.position.H(a)};e.prototype.Jq=function(a){this.sl(a,this.md())};e.prototype.Ih=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLinearVelocity",this.Ca.Jb,this.cc);return l.A(a[0],a[1])};e.prototype.Oj=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getWorldCenter",this.Ca.Jb,this.cc);return l.A(a[0],a[1])};e.prototype.Fi=function(){var a=window.ext.IDTK_SRV_BOX2D.makeCall("getLocalCenter",this.Ca.Jb,this.cc);return l.A(a[0],a[1])};
e.prototype.Yc=function(a){return n.yq(this.C,a)};e.prototype.jn=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyImpulse",this.Ca.Jb,this.cc,a.x,a.y,b.x,b.y,c)};e.prototype.Nj=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getMass",this.Ca.Jb,this.cc)};e.prototype.Zc=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("isAwake",this.Ca.Jb,this.cc)};e.prototype.tn=function(){return window.ext.IDTK_SRV_BOX2D.makeCall("getAngularVelocity",this.Ca.Jb,this.cc)};e.prototype.rc=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAwake",
this.Ca.Jb,this.cc,a)};e.prototype.Ki=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setLinearVelocity",this.Ca.Jb,this.cc,a.x,a.y)};e.prototype.pf=function(a,b,c){window.ext.IDTK_SRV_BOX2D.makeCall("applyForce",this.Ca.Jb,this.cc,a.x,a.y,b.x,b.y,c)};e.prototype.kn=function(a,b){window.ext.IDTK_SRV_BOX2D.makeCall("applyTorque",this.Ca.Jb,this.cc,a,b)};e.prototype.ql=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setAngularVelocity",this.Ca.Jb,this.cc,a)};e.prototype.Hi=function(){return this.rm};
e.prototype.md=function(){return this.C.q.md()};e.prototype.Bn=function(a){void 0===a&&(a=0);this.sl(this.C.position,a)};e.prototype.Hh=function(){for(var a=window.ext.IDTK_SRV_BOX2D.makeCall("getObjectContacts",this.Ca.Jb,this.cc),b=[],c=0;c<a.length;c++)b.push(this.Ca.gp[a[c]]);return b};tc.xe=0;tc.tv=1;tc.ic=2;g.prototype.wq=function(){return this.wD};uc=d;d.prototype.ln=function(){};uc.sv=new d;vc=function(){};wc=b;b.prototype.Wu=function(a){this.lh=a};b.prototype.Vu=function(a){var b=this;window.ext.IDTK_SRV_BOX2D.makeCall("setContactFilter",
this.Jb,function(c,d){return a.Li(b.oj[c],b.oj[d])})};b.prototype.oq=function(a){a=new e(a,this);return this.gp[a.cc]=a};b.prototype.qn=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("deleteBody",this.Jb,a.cc);delete this.gp[a.cc];for(var b=0;b<a.wm.length;++b)delete this.oj[a.wm[b].Qs]};b.prototype.pn=function(a){if(a.K.cc!==a.M.cc){var b=a.K,d=a.M;a.K=b.cc;a.M=d.cc;var e="createDistanceJoint";a.type===c.Zj&&(e="createRevoluteJoint");var f=new c(a);f.oD=window.ext.IDTK_SRV_BOX2D.makeCall(e,this.Jb,
a);a.K=b;a.M=d;this.pD.push(f);return f}};b.prototype.rn=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("destroyJoint",this.Jb,a.oD)};b.prototype.Iq=function(a){window.ext.IDTK_SRV_BOX2D.makeCall("setGravity",this.Jb,a.x,a.y)};b.prototype.Pg=function(a,b,c){c=window.ext.IDTK_SRV_BOX2D.makeCall("step",this.Jb,a,b,c);b=c[0];for(a=1;a<=4*b;a+=4){var d=this.gp[c[a+0]];if(null===d)break;d.C.position.Set(c[a+1],c[a+2]);d.C.q.Set(c[a+3])}if(null!==this.lh)for(c=window.ext.IDTK_SRV_BOX2D.makeCall("getLastContacts",
this.Jb),b=c[0],a=1;a<=3*b;a+=3){var d=c[a+2],e=this.oj[c[a+0]],f=this.oj[c[a+1]];"undefined"===typeof e||"undefined"===typeof f?console.log("One of the fixtures in a contact DOESN'T EXIST!!"):this.lh.ln(new g(e,f,d))}};b.prototype.tu=function(){window.ext.IDTK_SRV_BOX2D.makeCall("clearForces",this.Jb)};xc=function(a){this.Cp=a;this.type="circle"};U=function(){};U.prototype.Cn=function(a,b){this.type="box";this.width=a;this.height=b};U.prototype.Tu=function(){this.type="edge"};U.prototype.rl=function(a,
b){this.type="polygon";this.Jy=[];for(var c=0;c<b;c++)this.Jy.push(a[c].x),this.Jy.push(a[c].y)};yc=function(){this.Tf=this.shape=null;this.fg=.2;this.Af=this.Eg=0;this.js=!1;this.filter={Wj:1,Dk:65535,Vh:0}};Y=c;c.prototype.gl=function(){return this.K};c.prototype.rq=function(){return this.M};c.prototype.Ec=function(){return this.type};c.ur=0;c.Zj=1;zc=function(a,b,d,e){this.type=c.ur;this.ob=l.A(0,0);this.pb=l.A(0,0);this.Tf=null;void 0!==a&&(this.K=a);void 0!==b&&(this.M=b);void 0!==d&&this.ob.H(d);
void 0!==e&&this.pb.H(e);void 0!==d&&void 0!==e&&(a=e.x-d.x,d=e.y-d.y,this.length=Math.sqrt(a*a+d*d));this.ao=this.wo=0};a.prototype.Yb=function(a,b,c){this.K=a;this.M=b;this.ob=this.K.Yc(c);this.pb=this.M.Yc(c);this.Cg=this.M.md()-this.K.md()};Ac=a}():console.log("The CocoonJS binding for Box2D has been ignored because ext.IDTK_SRV_BOX2D is not available");else{var P={},Bc=2/180*Math.PI,Cc=8/180*Math.PI,Dc=.5*Math.PI,Ec=Dc*Dc,Fc=2/180*Math.PI,Ic=Number.MIN_VALUE*Number.MIN_VALUE;P.Cb=function(a,
c){return a.x*c.x+a.y*c.y};P.Di=function(a,c){return a.x*c.y-a.y*c.x};P.Ng=function(a,c){return K.A(c*a.y,-c*a.x)};P.pq=function(a,c){return K.A(-a*c.y,a*c.x)};P.Ob=function(a,c){return K.A(a.j.x*c.x+a.k.x*c.y,a.j.y*c.x+a.k.y*c.y)};P.Og=function(a,c){return K.A(P.Cb(c,a.j),P.Cb(c,a.k))};P.qc=function(a,c){var b=P.Ob(a.q,c);b.x+=a.position.x;b.y+=a.position.y;return b};P.yq=function(a,c){var b=P.nb(c,a.position),d=b.x*a.q.j.x+b.y*a.q.j.y;b.y=b.x*a.q.k.x+b.y*a.q.k.y;b.x=d;return b};P.cl=function(a,
c){return K.A(a.x+c.x,a.y+c.y)};P.nb=function(a,c){return K.A(a.x-c.x,a.y-c.y)};P.fz=function(a,c){return Math.sqrt(P.vu(a,c))};P.vu=function(a,c){var b=a.x-c.x,d=a.y-c.y;return b*b+d*d};P.wz=function(a,c){return K.A(a*c.x,a*c.y)};P.Py=function(a,c){return O.Xf(P.cl(a.j,c.j),P.cl(a.k,c.k))};P.xz=function(a,c){return O.Xf(P.Ob(a,c.j),P.Ob(a,c.k))};P.yz=function(a,c){var b=K.A(P.Cb(a.j,c.j),P.Cb(a.k,c.j)),d=K.A(P.Cb(a.j,c.k),P.Cb(a.k,c.k));return O.Xf(b,d)};P.$k=function(a){return K.A(Math.abs(a.x),
Math.abs(a.y))};P.My=function(a){return O.Xf(P.$k(a.j),P.$k(a.k))};P.rb=function(a,c,b){return a<c?c:a>b?b:a};P.Uy=function(a,c,b){return K.A(P.rb(a.x,c.x,b.x),P.rb(a.y,c.y,b.y))};var O=function(){this.j=K.A(0,0);this.k=K.A(0,0);this.Lh()};O.Mj=function(a){var c=new O;c.Set(a);return c};O.Xf=function(a,c){var b=new O;b.Kq(a,c);return b};r=O.prototype;r.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.j.Set(c,a);this.k.Set(-a,c)};r.Kq=function(a,c){this.j.H(a);this.k.H(c)};r.hc=function(){var a=
new O;a.rf(this);return a};r.rf=function(a){this.j.H(a.j);this.k.H(a.k)};r.hn=function(a){this.j.Mg(a.j);this.k.Mg(a.k)};r.Lh=function(){this.j.Set(1,0);this.k.Set(0,1)};r.ga=function(){this.j.Set(0,0);this.k.Set(0,0)};r.md=function(){return Math.atan2(this.j.y,this.j.x)};r.tq=function(a){var c=this.j.x*this.k.y-this.k.x*this.j.y;0!==c&&(c=1/c);a.j.x=c*this.k.y;a.k.x=-c*this.k.x;a.j.y=-c*this.j.y;a.k.y=c*this.j.x;return a};r.Mh=function(a,c,b){var d=this.j.x*this.k.y-this.k.x*this.j.y;0!==d&&(d=1/
d);a.x=d*(this.k.y*c-this.k.x*b);a.y=d*(this.j.x*b-this.j.y*c);return a};r.Lg=function(){this.j.Lg();this.k.Lg()};var Kc=function(a,c,b){this.j=new Jc(0,0,0);this.k=new Jc(0,0,0);this.oa=new Jc(0,0,0);a&&this.j.H(a);c&&this.k.H(c);b&&this.oa.H(b)};r=Kc.prototype;r.hc=function(){return new Kc(this.j,this.k,this.oa)};r.rf=function(a){this.j.H(a.j);this.k.H(a.k);this.oa.H(a.oa)};r.hn=function(a){this.j.x+=a.j.x;this.j.y+=a.j.y;this.j.z+=a.j.z;this.k.x+=a.k.x;this.k.y+=a.k.y;this.k.z+=a.k.z;this.oa.x+=
a.oa.x;this.oa.y+=a.oa.y;this.oa.z+=a.oa.z};r.Lh=function(){this.j.Set(1,0,0);this.k.Set(0,1,0);this.oa.Set(0,0,1)};r.ga=function(){this.j.Set(0,0,0);this.k.Set(0,0,0);this.oa.Set(0,0,0)};r.Sj=function(a,c,b){var d=this.j.x,g=this.k.x,e=this.j.y,f=this.k.y,n=d*f-g*e;0!=n&&(n=1/n);a.x=n*(f*c-g*b);a.y=n*(d*b-e*c);return a};r.tl=function(a,c,b,d){var g=this.j.x,e=this.j.y,f=this.j.z,n=this.k.x,k=this.k.y,h=this.k.z,l=this.oa.x,m=this.oa.y,q=this.oa.z,p=g*(k*q-h*m)+e*(h*l-n*q)+f*(n*m-k*l);0!=p&&(p=1/
p);a.x=p*(c*(k*q-h*m)+b*(h*l-n*q)+d*(n*m-k*l));a.y=p*(g*(b*q-d*m)+e*(d*l-c*q)+f*(c*m-b*l));a.z=p*(g*(k*d-h*b)+e*(h*c-n*d)+f*(n*b-k*c));return a};var Lc=function(){this.P=K.A(0,0);this.Hc=K.A(0,0);this.B=K.A(0,0)};Lc.prototype.Set=function(a){this.P.H(a.P);this.Hc.H(a.Hc);this.B.H(a.B);this.Se=a.Se;this.L=a.L;this.jd=a.jd};Lc.prototype.hc=function(){var a=new Lc;a.P.H(this.P);a.Hc.H(this.Hc);a.B.H(this.B);a.Se=this.Se;a.L=this.L;a.jd=this.jd;return a};Lc.prototype.Pd=function(a,c){void 0===c&&(c=0);
a.position.x=(1-c)*this.Hc.x+c*this.B.x;a.position.y=(1-c)*this.Hc.y+c*this.B.y;a.q.Set((1-c)*this.Se+c*this.L);var b=a.q;a.position.x-=b.j.x*this.P.x+b.k.x*this.P.y;a.position.y-=b.j.y*this.P.x+b.k.y*this.P.y};Lc.prototype.Gh=function(a){void 0===a&&(a=0);if(this.jd<a&&1-this.jd>Number.MIN_VALUE){var c=(a-this.jd)/(1-this.jd);this.Hc.x=(1-c)*this.Hc.x+c*this.B.x;this.Hc.y=(1-c)*this.Hc.y+c*this.B.y;this.Se=(1-c)*this.Se+c*this.L;this.jd=a}};var rc=function(a,c){this.position=K.A(0,0);this.q=new O;
a&&this.position.H(a);c&&this.q.rf(c)};rc.prototype.Yb=function(a,c){this.position.H(a);this.q.rf(c)};rc.prototype.Lh=function(){this.position.ga();this.q.Lh()};rc.prototype.Set=function(a){this.position.H(a.position);this.q.rf(a.q)};rc.prototype.md=function(){return Math.atan2(this.q.j.y,this.q.j.x)};var K=function(a,c){this.x=a;this.y=c};K.Qg=[];K.A=function(a,c){if(0<K.Qg.length){var b=K.Qg.pop();b.Set(a,c);return b}return new K(a,c)};K.Xb=function(a){K.Qg.push(a)};r=K.prototype;r.ga=function(){this.y=
this.x=0};r.Set=function(a,c){this.x=a;this.y=c};r.H=function(a){this.x=a.x;this.y=a.y};r.Jh=function(){return K.A(-this.x,-this.y)};r.Aq=function(){this.x=-this.x;this.y=-this.y};r.hc=function(){return K.A(this.x,this.y)};r.Mg=function(a){this.x+=a.x;this.y+=a.y};r.Mq=function(a){this.x-=a.x;this.y-=a.y};r.od=function(a){this.x*=a;this.y*=a};r.Ng=function(a){var c=this.x;this.x=a*this.y;this.y=-a*c};r.pq=function(a){var c=this.x;this.x=-a*this.y;this.y=a*c};r.Gu=function(a){this.x=Math.min(this.x,
a.x);this.y=Math.min(this.y,a.y)};r.Eu=function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y)};r.Lg=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y)};r.Yf=function(){return Math.sqrt(this.An())};r.An=function(){return this.x*this.x+this.y*this.y};r.qd=function(){var a=this.Yf();if(a<Number.MIN_VALUE)return 0;var c=1/a;this.x*=c;this.y*=c;return a};r.zn=function(){return isFinite(this.x)&&isFinite(this.y)};var Jc=function(a,c,b){this.x=a;this.y=c;this.z=b};r=Jc.prototype;r.ga=
function(){this.z=this.y=this.x=0};r.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};r.H=function(a){this.x=a.x;this.y=a.y;this.z=a.z};r.Jh=function(){return new Jc(-this.x,-this.y,-this.z)};r.Aq=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};r.hc=function(){return new Jc(this.x,this.y,this.z)};r.Mg=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};r.Mq=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};r.od=function(a){this.x*=a;this.y*=a;this.z*=a};var Mc=function(){this.Qa=.005};r=Mc.prototype;
r.Gi=function(){};r.hc=function(){};r.Set=function(a){this.Qa=a.Qa};r.Jj=function(){};r.dl=function(){};r.on=function(){};r.Hq=function(){};var xc=function(a){this.Qa=.005;this.Qa=a;this.Ak=a*a;this.Za=K.A(0,0)};I(xc,Mc);r=xc.prototype;r.Gi=function(){return xc.qf};r.hc=function(){var a=new xc(this.Qa);a.Set(this);return a};r.Set=function(a){Mc.prototype.Set.call(this,a);a instanceof xc&&this.Za.H(a.Za)};r.Jj=function(a,c){var b=c.q,d=c.position.x+(b.j.x*this.Za.x+b.k.x*this.Za.y),b=c.position.y+
(b.j.y*this.Za.x+b.k.y*this.Za.y);a.Aa.Set(d-this.Qa,b-this.Qa);a.Ba.Set(d+this.Qa,b+this.Qa)};r.dl=function(a,c){a.tg=c*Math.PI*this.Ak;a.Ug.H(this.Za);a.Pj=a.tg*(.5*this.Ak+(this.Za.x*this.Za.x+this.Za.y*this.Za.y))};r.on=function(a,c,b,d){b=P.qc(b,this.Za);var g=-(P.Cb(a,b)-c);if(g<-this.Qa+Number.MIN_VALUE)return 0;if(g>this.Qa)return d.H(b),Math.PI*this.Ak;c=g*g;g=this.Ak*(Math.asin(g/this.Qa)+Math.PI/2)+g*Math.sqrt(this.Ak-c);c=-2/3*Math.pow(this.Ak-c,1.5)/g;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return g};
r.Hq=function(a){a.J=[this.Za];a.ma=1;a.Qa=this.Qa};xc.qf="b2CircleShape";var Nc=function(a,c){this.Qa=.005;this.na=a;this.Fa=c;this.nj=K.A(this.Fa.x-this.na.x,this.Fa.y-this.na.y);this.Us=this.nj.qd();this.ra=K.A(this.nj.y,-this.nj.x);K.A(-.04*(this.ra.x-this.nj.x)+this.na.x,-.04*(this.ra.y-this.nj.y)+this.na.y);K.A(-.04*(this.ra.x+this.nj.x)+this.Fa.x,-.04*(this.ra.y+this.nj.y)+this.Fa.y);K.A(-this.ra.x,-this.ra.y)};I(Nc,Mc);Nc.prototype.Gi=function(){return"b2EdgeShape"};Nc.prototype.Jj=function(a,
c){var b=c.q,d=c.position.x+(b.j.x*this.na.x+b.k.x*this.na.y),g=c.position.y+(b.j.y*this.na.x+b.k.y*this.na.y),e=c.position.x+(b.j.x*this.Fa.x+b.k.x*this.Fa.y),b=c.position.y+(b.j.y*this.Fa.x+b.k.y*this.Fa.y);d<e?(a.Aa.x=d,a.Ba.x=e):(a.Aa.x=e,a.Ba.x=d);g<b?(a.Aa.y=g,a.Ba.y=b):(a.Aa.y=b,a.Ba.y=g)};Nc.prototype.dl=function(a){a.tg=0;a.Ug.H(this.na);a.Pj=0};Nc.prototype.on=function(a,c,b,d){void 0===c&&(c=0);var g=K.A(a.x*c,a.y*c),e=P.qc(b,this.na);b=P.qc(b,this.Fa);var f=P.Cb(a,e)-c;a=P.Cb(a,b)-c;if(0<
f){if(0<a)return 0;e.x=-a/(f-a)*e.x+f/(f-a)*b.x;e.y=-a/(f-a)*e.y+f/(f-a)*b.y}else 0<a&&(b.x=-a/(f-a)*e.x+f/(f-a)*b.x,b.y=-a/(f-a)*e.y+f/(f-a)*b.y);d.x=(g.x+e.x+b.x)/3;d.y=(g.y+e.y+b.y)/3;return.5*((e.x-g.x)*(b.y-g.y)-(e.y-g.y)*(b.x-g.x))};var Oc=function(){this.tg=0;this.Ug=K.A(0,0);this.Pj=0},U=function(){this.Qa=.005;this.vd=K.A(0,0);this.J=[];this.ta=[]};I(U,Mc);U.prototype.Gi=function(){return U.qf};U.prototype.hc=function(){var a=new U;a.Set(this);return a};U.prototype.Set=function(a){Mc.prototype.Set.call(this,
a);if(a instanceof U){this.vd.H(a.vd);this.Ka=a.Ka;this.pl(this.Ka);for(var c=0;c<this.Ka;c++)this.J[c].H(a.J[c]),this.ta[c].H(a.ta[c])}};U.prototype.rl=function(a){this.Uu(a)};U.FE=function(a){var c=new U;c.rl(a);return c};U.prototype.Uu=function(a){var c=a.length;this.Ka=c;this.pl(c);for(c=c=0;c<this.Ka;c++)this.J[c].H(a[c]);for(c=0;c<this.Ka;++c)a=P.nb(this.J[c+1<this.Ka?c+1:0],this.J[c]),this.ta[c].H(P.Ng(a,1)),this.ta[c].qd();this.vd=U.cz(this.J,this.Ka)};U.JE=function(a){var c=new U;c.Uu(a);
return c};U.prototype.Cn=function(a,c){this.Ka=4;this.pl(4);this.J[0].Set(-a,-c);this.J[1].Set(a,-c);this.J[2].Set(a,c);this.J[3].Set(-a,c);this.ta[0].Set(0,-1);this.ta[1].Set(1,0);this.ta[2].Set(0,1);this.ta[3].Set(-1,0);this.vd.ga()};U.GE=function(a,c){var b=new U;b.Cn(a,c);return b};U.prototype.Wz=function(a,c,b,d){this.Ka=4;this.pl(4);this.J[0].Set(-a,-c);this.J[1].Set(a,-c);this.J[2].Set(a,c);this.J[3].Set(-a,c);this.ta[0].Set(0,-1);this.ta[1].Set(1,0);this.ta[2].Set(0,1);this.ta[3].Set(-1,0);
this.vd=b;a=new O;a.Set(d);b=new rc(b,a);for(d=0;d<this.Ka;++d)this.J[d]=P.qc(b,this.J[d]),this.ta[d]=P.Ob(b.q,this.ta[d])};U.IE=function(a,c,b,d){var g=new U;g.Wz(a,c,b,d);return g};U.prototype.Tu=function(a,c){this.Ka=2;this.pl(2);this.J[0].H(a);this.J[1].H(c);this.vd.x=.5*(a.x+c.x);this.vd.y=.5*(a.y+c.y);this.ta[0]=P.Ng(P.nb(c,a),1);this.ta[0].qd();this.ta[1].x=-this.ta[0].x;this.ta[1].y=-this.ta[0].y};U.HE=function(a,c){var b=new U;b.Tu(a,c);return b};r=U.prototype;r.Jj=function(a,c){for(var b=
c.q,d=this.J[0],g=c.position.x+(b.j.x*d.x+b.k.x*d.y),e=c.position.y+(b.j.y*d.x+b.k.y*d.y),f=g,n=e,k=1;k<this.Ka;++k)var d=this.J[k],h=c.position.x+(b.j.x*d.x+b.k.x*d.y),d=c.position.y+(b.j.y*d.x+b.k.y*d.y),g=g<h?g:h,e=e<d?e:d,f=f>h?f:h,n=n>d?n:d;a.Aa.x=g-this.Qa;a.Aa.y=e-this.Qa;a.Ba.x=f+this.Qa;a.Ba.y=n+this.Qa};r.dl=function(a,c){if(2==this.Ka)a.Ug.x=.5*(this.J[0].x+this.J[1].x),a.Ug.y=.5*(this.J[0].y+this.J[1].y),a.tg=0,a.Pj=0;else{for(var b=0,d=0,g=0,e=0,f=1/3,n=0;n<this.Ka;++n)var k=this.J[n],
h=n+1<this.Ka?this.J[n+1]:this.J[0],l=k.x-0,m=k.y-0,q=h.x-0,p=h.y-0,u=l*p-m*q,t=.5*u,g=g+t,b=b+t*f*(0+k.x+h.x),d=d+t*f*(0+k.y+h.y),k=l,e=e+u*(f*(.25*(k*k+q*k+q*q)+(0*k+0*q))+0+(f*(.25*(m*m+p*m+p*p)+(0*m+0*p))+0));a.tg=c*g;a.Ug.Set(1/g*b,1/g*d);a.Pj=c*e}};r.on=function(a,c,b,d){var g=P.Og(b.q,a),e=c-P.Cb(a,b.position),f=[],n=0,k=-1;c=-1;var h=!1;for(a=a=0;a<this.Ka;++a){f[a]=P.Cb(g,this.J[a])-e;var l=f[a]<-Number.MIN_VALUE;0<a&&(l?h||(k=a-1,n++):h&&(c=a-1,n++));h=l}switch(n){case 0:return h?(a=new Oc,
this.dl(a,1),d.H(P.qc(b,a.Ug)),a.tg):0;case 1:-1==k?k=this.Ka-1:c=this.Ka-1}a=(k+1)%this.Ka;g=(c+1)%this.Ka;e=(0-f[k])/(f[a]-f[k]);f=(0-f[c])/(f[g]-f[c]);k=K.A(this.J[k].x*(1-e)+this.J[a].x*e,this.J[k].y*(1-e)+this.J[a].y*e);c=K.A(this.J[c].x*(1-f)+this.J[g].x*f,this.J[c].y*(1-f)+this.J[g].y*f);f=0;e=K.A(0,0);for(n=this.J[a];a!=g;)a=(a+1)%this.Ka,h=a==g?c:this.J[a],l=.5*((n.x-k.x)*(h.y-k.y)-(n.y-k.y)*(h.x-k.x)),f+=l,e.x+=l*(k.x+n.x+h.x)/3,e.y+=l*(k.y+n.y+h.y)/3,n=h;e.od(1/f);d.H(P.qc(b,e));return f};
r.Hq=function(a){a.J=this.J;a.ma=this.Ka;a.Qa=this.Qa};r.wn=function(a){for(var c=0,b=this.J[0].x*a.x+this.J[0].y*a.y,d=1;d<this.Ka;++d){var g=this.J[d].x*a.x+this.J[d].y*a.y;g>b&&(c=d,b=g)}return c};r.jl=function(a){for(var c=0,b=this.J[0].x*a.x+this.J[0].y*a.y,d=1;d<this.Ka;++d){var g=this.J[d].x*a.x+this.J[d].y*a.y;g>b&&(c=d,b=g)}return this.J[c]};r.pl=function(a){this.J=[];this.ta=[];for(var c=this.J.length;c<a;c++)this.J[c]=K.A(0,0),this.ta[c]=K.A(0,0)};U.cz=function(a,c){for(var b=K.A(0,0),
d=0,g=1/3,e=0;e<c;++e){var f=a[e],n=e+1<c?a[e+1]:a[0],k=.5*((f.x-0)*(n.y-0)-(f.y-0)*(n.x-0)),d=d+k;b.x+=k*g*(0+f.x+n.x);b.y+=k*g*(0+f.y+n.y)}b.x*=1/d;b.y*=1/d;return b};U.aG=new O;U.qf="b2PolygonShape";var Pc=function(){this.Pq=this.Oq=this.Qq=this.rd=0};r=Pc.prototype;r.Ji=function(a){this.rd=a;this.Qq=this.rd&255;this.Oq=(this.rd&65280)>>8&255;this.Pq=(this.rd&16711680)>>16&255;this.gv=(this.rd&4278190080)>>24&255};r.Set=function(a){this.Ji(a.rd)};r.Zu=function(a){this.Qq=a;this.rd=this.rd&4294967040|
this.Qq&255};r.Xu=function(a){this.Oq=a;this.rd=this.rd&4294902015|this.Oq<<8&65280};r.Yu=function(a){this.Pq=a;this.rd=this.rd&4278255615|this.Pq<<16&16711680};r.Xz=function(a){this.gv=a;this.rd=this.rd&16777215|this.gv<<24&4278190080};r.hc=function(){var a=new Pc;a.Set(this);return a};var Qc=function(){this.Ne=K.A(0,0);this.id=new Pc};Qc.prototype.Set=function(a){this.Ne.H(a.Ne);this.id.Set(a.id)};var Rc=function(){this.Aa=K.A(0,0);this.Ba=K.A(0,0)},Sc=[],Tc=function(){if(0<Sc.length){var a=Sc.pop();
a.ga();return a}return new Rc};r=Rc.prototype;r.ga=function(){this.Aa.Set(0,0);this.Ba.Set(0,0)};r.zn=function(){return 0>this.Ba.x-this.Aa.x||0>this.Ba.y-this.Aa.y?!1:this.Aa.zn()&&this.Ba.zn()};r.lz=function(){return K.A((this.Aa.x+this.Ba.x)/2,(this.Aa.y+this.Ba.y)/2)};r.nq=function(a){var c;return c=(c=(c=(c=this.Aa.x<=a.Aa.x)&&this.Aa.y<=a.Aa.y)&&a.Ba.x<=this.Ba.x)&&a.Ba.y<=this.Ba.y};r.ul=function(a){return 0<a.Aa.x-this.Ba.x||0<a.Aa.y-this.Ba.y||0<this.Aa.x-a.Ba.x||0<this.Aa.y-a.Ba.y?!1:!0};
r.nn=function(a,c){this.Aa.x=Math.min(a.Aa.x,c.Aa.x);this.Aa.y=Math.min(a.Aa.y,c.Aa.y);this.Ba.x=Math.max(a.Ba.x,c.Ba.x);this.Ba.y=Math.max(a.Ba.y,c.Ba.y)};var Uc=function(a,c,b,d){var g=0,e=c[0].Ne,f=c[1].Ne,n=b.x*e.x+b.y*e.y-d;b=b.x*f.x+b.y*f.y-d;0>=n&&a[g++].Set(c[0]);0>=b&&a[g++].Set(c[1]);0>n*b&&(b=n/(n-b),d=a[g].Ne,d.x=e.x+b*(f.x-e.x),d.y=e.y+b*(f.y-e.y),a[g].id=0<n?c[0].id:c[1].id,g++);return g},Vc=function(a,c,b,d,g){for(var e=c.q.j.x*a.ta[b].x+c.q.k.x*a.ta[b].y,f=c.q.j.y*a.ta[b].x+c.q.k.y*
a.ta[b].y,n=g.q.j.x*e+g.q.j.y*f,k=g.q.k.x*e+g.q.k.y*f,h=0,l=Number.MAX_VALUE,m=0;m<d.Ka;m++){var q=d.J[m].x*n+d.J[m].y*k;q<l&&(l=q,h=m)}return(g.position.x+(g.q.j.x*d.J[h].x+g.q.k.x*d.J[h].y)-(c.position.x+(c.q.j.x*a.J[b].x+c.q.k.x*a.J[b].y)))*e+(g.position.y+(g.q.j.y*d.J[h].x+g.q.k.y*d.J[h].y)-(c.position.y+(c.q.j.y*a.J[b].x+c.q.k.y*a.J[b].y)))*f},Wc=function(a,c,b,d){for(var g=d.position.x+(d.q.j.x*b.vd.x+d.q.k.x*b.vd.y),e=d.position.y+(d.q.j.y*b.vd.x+d.q.k.y*b.vd.y),g=g-(c.position.x+(c.q.j.x*
a.vd.x+c.q.k.x*a.vd.y)),e=e-(c.position.y+(c.q.j.y*a.vd.x+c.q.k.y*a.vd.y)),f=g*c.q.j.x+e*c.q.j.y,e=g*c.q.k.x+e*c.q.k.y,g=0,n=-Number.MAX_VALUE,k=0;k<a.Ka;++k){var h=a.ta[k].x*f+a.ta[k].y*e;h>n&&(n=h,g=k)}f=Vc(a,c,g,b,d);e=g-1;0>e&&(e=a.Ka-1);n=Vc(a,c,e,b,d);k=g+1;k>=a.Ka&&(k=0);var h=Vc(a,c,k,b,d),l=0,m=0;if(n>f&&n>h)for(l=e,m=n;;)if(g=l-1,0>g&&(g=a.Ka-1),f=Vc(a,c,g,b,d),f>m)l=g,m=f;else break;else if(h>f)for(l=k,m=h;;)if(g=l+1,g>=a.Ka&&(g=0),f=Vc(a,c,g,b,d),f>m)l=g,m=f;else break;else l=g,m=f;return{yv:l,
Hp:m}},Yc=function(a,c,b){var d=new Xc;d.Sz(c,b.xh,b.aq,b.yh,b.bq);for(var g=0;20>g;){for(var e=[],f=0;f<d.ma;f++)e[f]={},e[f].$b=d.J[f].$b,e[f].ac=d.J[f].ac;2==d.ma?d.dA():3==d.ma&&d.eA();if(3==d.ma)break;f=d.nz();if(f.An()<Ic)break;var n=f.Jh();d.J[d.ma].$b=b.xh.wn(P.Og(b.aq.q,n));d.J[d.ma].Wc=P.qc(b.aq,b.xh.Qc(d.J[d.ma].$b));d.J[d.ma].ac=b.yh.wn(P.Og(b.bq.q,f));d.J[d.ma].of=P.qc(b.bq,b.yh.Qc(d.J[d.ma].ac));d.J[d.ma].Pc=P.nb(d.J[d.ma].of,d.J[d.ma].Wc);K.Xb(f);K.Xb(n);g++;n=!1;for(f=0;f<e.length;f++)if(d.J[d.ma].$b==
e[f].$b&&d.J[d.ma].ac==e[f].ac){n=!0;break}if(n)break;d.ma++}d.oz(a.Nf,a.Of);a.Zg=P.nb(a.Nf,a.Of).Yf();d.nA(c);b.Gy&&(c=b.xh.Qa,b=b.yh.Qa,a.Zg>c+b&&a.Zg>Number.MIN_VALUE?(a.Zg-=c+b,d=P.nb(a.Of,a.Nf),d.qd(),a.Nf.x+=c*d.x,a.Nf.y+=c*d.y,a.Of.x-=b*d.x,a.Of.y-=b*d.y,K.Xb(d)):(b=K.A(0,0),b.x=.5*(a.Nf.x+a.Of.x),b.y=.5*(a.Nf.y+a.Of.y),a.Nf.x=a.Of.x=b.x,a.Nf.y=a.Of.y=b.y,a.Zg=0,K.Xb(b)))},Zc=function(){},$c=function(){this.Nf=K.A(0,0);this.Of=K.A(0,0);this.Zg=0},ad=function(){};ad.prototype.Set=function(a){a.Hq(this)};
ad.prototype.wn=function(a){for(var c=0,b=this.J[0].x*a.x+this.J[0].y*a.y,d=1;d<this.ma;d++){var g=this.J[d].x*a.x+this.J[d].y*a.y;g>b&&(c=d,b=g)}return c};ad.prototype.jl=function(a){return this.J[this.wn(a)]};ad.prototype.Qc=function(a){void 0===a&&(a=0);return this.J[a]};var bd=function(){this.sg=null};r=bd.prototype;r.el=function(a,c){var b=cd(c);b.Pa.Aa.x=a.Aa.x-.1;b.Pa.Aa.y=a.Aa.y-.1;b.Pa.Ba.x=a.Ba.x+.1;b.Pa.Ba.y=a.Ba.y+.1;this.Bu(b);return b};r.fl=function(a){this.Qu(a);a.kd()};r.xq=function(a,
c,b){if(a.Pa.nq(c))return!1;this.Qu(a);var d=.1+2*Math.abs(b.x);b=.1+2*Math.abs(b.y);a.Pa.Aa.x=c.Aa.x-d;a.Pa.Aa.y=c.Aa.y-b;a.Pa.Ba.x=c.Ba.x+d;a.Pa.Ba.y=c.Ba.y+b;this.Bu(a);return!0};r.hl=function(a){return a.Pa};r.Fq=function(a,c){if(null!==this.sg){var b=[];for(b.push(this.sg);0<b.length;){var d=b.pop();if(d.Pa.ul(c))if(d.Cu()){if(!a(d.Ze))break}else b.push(d.Yd),b.push(d.bg)}}};r.Bu=function(a){if(null===this.sg)this.sg=a,this.sg.parent=null;else{var c=this.kz(a),b=c.parent,d=cd();d.parent=b;d.Pa.nn(a.Pa,
c.Pa);if(b)for(c.parent.Yd==c?b.Yd=d:b.bg=d,d.Yd=c,d.bg=a,c.parent=d,a.parent=d;b&&!b.Pa.nq(d.Pa);)b.Pa.nn(b.Yd.Pa,b.bg.Pa),d=b,b=b.parent;else d.Yd=c,d.bg=a,c.parent=d,this.sg=a.parent=d}};r.kz=function(a){a=a.Pa.lz();for(var c=this.sg;!c.Cu();)var b=c.Yd,c=c.bg,d=Math.abs((b.Pa.Aa.x+b.Pa.Ba.x)/2-a.x)+Math.abs((b.Pa.Aa.y+b.Pa.Ba.y)/2-a.y),g=Math.abs((c.Pa.Aa.x+c.Pa.Ba.x)/2-a.x)+Math.abs((c.Pa.Aa.y+c.Pa.Ba.y)/2-a.y),c=d<g?b:c;K.Xb(a);return c};r.Qu=function(a){if(a==this.sg)this.sg=null;else{var c=
a.parent,b=c.parent;a=c.Yd==a?c.bg:c.Yd;if(b)for(b.Yd==c?b.Yd=a:b.bg=a,a.parent=b;b;){a=b.Pa;b.Pa.nn(b.Yd.Pa,b.bg.Pa);if(a.nq(b.Pa))break;b=b.parent}else this.sg=a,a.parent=null;c.kd()}};var dd=function(){this.uh=new bd;this.np=[]};r=dd.prototype;r.el=function(a,c){var b=this.uh.el(a,c);this.su(b);return b};r.fl=function(a){this.jA(a);this.uh.fl(a)};r.xq=function(a,c,b){this.uh.xq(a,c,b)&&this.su(a)};r.ul=function(a,c){return this.uh.hl(a).ul(this.uh.hl(c))};r.hl=function(a){return this.uh.hl(a)};
r.kA=function(a){for(var c=[];0<this.np.length;){var b=this.np.pop();this.uh.Fq(function(a){a!=b.Ze&&c.push(new ed(b.Ze,a));return!0},this.uh.hl(b))}for(var d=0;d<c.length;){var g=c[d];a(g.Ll,g.Ml);for(d++;d<c.length;){var e=c[d];if(!(e.Ll==g.Ll&&e.Ml==g.Ml||e.Ll==g.Ml&&e.Ml==g.Ll))break;d++}}};r.Fq=function(a,c){this.uh.Fq(a,c)};r.su=function(a){this.np.push(a)};r.jA=function(a){Fa(this.np,a)};var fd=function(a){this.Pa=Tc();this.Ze=this.parent=this.bg=this.Yd=null;"undefined"!=typeof a&&(this.Ze=
a)},gd=[],cd=function(a){if(0<gd.length){var c=gd.pop();"undefined"!=typeof a&&(c.Ze=a);c.Pa.ga();return c}return new fd(a)};fd.prototype.kd=function(){this.Ze=this.parent=this.bg=this.Yd=null;gd.push(this)};fd.prototype.Cu=function(){return null===this.Yd};var ed=function(a,c){this.Ll=a;this.Ml=c},id=function(){this.La=this.Ub=0;this.ka=[];for(var a=0;2>a;a++)this.ka[a]=new hd;this.Kc=K.A(0,0);this.qa=K.A(0,0)};id.prototype.Fc=function(){for(var a=0;2>a;a++)this.ka[a].Fc();this.Kc.ga();this.qa.ga();
this.Ub=this.La=0};id.prototype.Set=function(a){this.Ub=a.Ub;for(var c=0;2>c;c++)this.ka[c].Set(a.ka[c]);this.Kc.H(a.Kc);this.qa.H(a.qa);this.La=a.La};id.prototype.hc=function(){var a=new id;a.Set(this);return a};var hd=function(){this.qa=K.A(0,0);this.ff=new Pc;this.Fc()};hd.prototype.Fc=function(){this.qa.ga();this.uj=this.qj=0;this.ff.Ji(0)};hd.prototype.Set=function(a){this.qa.H(a.qa);this.qj=a.qj;this.uj=a.uj;this.ff.Set(a.ff)};var jd=function(){this.qa=K.A(0,0);this.S=K.A(0,0)};jd.prototype.Yb=
function(a,c,b,d,g){this.li=c;this.mi=d;var e,f,n,k=n=f=0,h=0;d=c=0;var l,m,k=0;1==a.count?(this.La=kd,e=this.li.Qc(a.$b[0]),a=this.mi.Qc(a.ac[0]),m=e,l=b.q,f=b.position.x+(l.j.x*m.x+l.k.x*m.y),n=b.position.y+(l.j.y*m.x+l.k.y*m.y),m=a,l=g.q,k=g.position.x+(l.j.x*m.x+l.k.x*m.y),h=g.position.y+(l.j.y*m.x+l.k.y*m.y),this.S.x=k-f,this.S.y=h-n,this.S.qd()):(a.ac[0]==a.ac[1]?(this.La=ld,c=this.li.Qc(a.$b[0]),d=this.li.Qc(a.$b[1]),a=this.mi.Qc(a.ac[0]),this.qa.x=.5*(c.x+d.x),this.qa.y=.5*(c.y+d.y),this.S=
P.Ng(P.nb(d,c),1),this.S.qd(),m=this.S,l=b.q,c=l.j.x*m.x+l.k.x*m.y,d=l.j.y*m.x+l.k.y*m.y,m=this.qa,l=b.q,f=b.position.x+(l.j.x*m.x+l.k.x*m.y),n=b.position.y+(l.j.y*m.x+l.k.y*m.y),m=a,l=g.q,k=g.position.x+(l.j.x*m.x+l.k.x*m.y),h=g.position.y+(l.j.y*m.x+l.k.y*m.y),k=(k-f)*c+(h-n)*d):a.$b[0]==a.$b[0]?(this.La=md,f=this.mi.Qc(a.ac[0]),n=this.mi.Qc(a.ac[1]),e=this.li.Qc(a.$b[0]),this.qa.x=.5*(f.x+n.x),this.qa.y=.5*(f.y+n.y),this.S=P.Ng(P.nb(n,f),1),this.S.qd(),m=this.S,l=g.q,c=l.j.x*m.x+l.k.x*m.y,d=l.j.y*
m.x+l.k.y*m.y,m=this.qa,l=g.q,k=g.position.x+(l.j.x*m.x+l.k.x*m.y),h=g.position.y+(l.j.y*m.x+l.k.y*m.y),m=e,l=b.q,f=b.position.x+(l.j.x*m.x+l.k.x*m.y),n=b.position.y+(l.j.y*m.x+l.k.y*m.y),k=(f-k)*c+(n-h)*d):(c=this.li.Qc(a.$b[0]),d=this.li.Qc(a.$b[1]),f=this.mi.Qc(a.ac[0]),n=this.mi.Qc(a.ac[1]),k=P.Ob(b.q,P.nb(d,c)),h=P.Ob(g.q,P.nb(n,f)),g=k.x*k.x+k.y*k.y,b=h.x*h.x+h.y*h.y,e=P.nb(h,k),a=k.x*e.x+k.y*e.y,e=h.x*e.x+h.y*e.y,h=k.x*h.x+k.y*h.y,l=g*b-h*h,k=0,0!=l&&(k=P.rb((h*e-a*b)/l,0,1)),0>(h*k+e)/b&&
(k=P.rb((h-a)/g,0,1)),e=K.A(0,0),e.x=c.x+k*(d.x-c.x),e.y=c.y+k*(d.y-c.y),a=K.A(0,0),a.x=f.x+k*(n.x-f.x),a.y=f.y+k*(n.y-f.y),0==k||1==k?(this.La=md,this.S=P.Ng(P.nb(n,f),1),this.S.qd(),this.qa=a):(this.La=ld,this.S=P.Ng(P.nb(d,c),1),this.qa=e)),0>k&&this.S.Aq())};jd.prototype.Wf=function(a,c){var b,d,g=0;switch(this.La){case kd:b=P.Og(a.q,this.S);d=P.Og(c.q,this.S.Jh());b=this.li.jl(b);d=this.mi.jl(d);b=P.qc(a,b);d=P.qc(c,d);g=(d.x-b.x)*this.S.x+(d.y-b.y)*this.S.y;break;case ld:g=P.Ob(a.q,this.S);
b=P.qc(a,this.qa);d=P.Og(c.q,g.Jh());d=this.mi.jl(d);d=P.qc(c,d);g=(d.x-b.x)*g.x+(d.y-b.y)*g.y;break;case md:g=P.Ob(c.q,this.S),d=P.qc(c,this.qa),b=P.Og(a.q,g.Jh()),b=this.li.jl(b),b=P.qc(a,b),g=(b.x-d.x)*g.x+(b.y-d.y)*g.y}return g};var kd=1,ld=2,md=4,Xc=function(){this.na=new nd;this.Fa=new nd;this.he=new nd;this.J=[this.na,this.Fa,this.he]};r=Xc.prototype;r.Sz=function(a,c,b,d,g){var e,f;this.ma=a.count;for(var n=this.J,k=0;k<this.ma;k++){var h=n[k];h.$b=a.$b[k];h.ac=a.ac[k];e=c.Qc(h.$b);f=d.Qc(h.ac);
h.Wc=P.qc(b,e);h.of=P.qc(g,f);h.Pc=P.nb(h.of,h.Wc);h.L=0}1<this.ma&&(a=a.ED,e=this.Au(),e<.5*a||2*a<e||e<Number.MIN_VALUE)&&(this.ma=0);0==this.ma&&(h=n[0],h.$b=0,h.ac=0,e=c.Qc(0),f=d.Qc(0),h.Wc=P.qc(b,e),h.of=P.qc(g,f),h.Pc=P.nb(h.of,h.Wc),this.ma=1)};r.nA=function(a){a.ED=this.Au();a.count=this.ma;for(var c=this.J,b=0;b<this.ma;b++)a.$b[b]=c[b].$b,a.ac[b]=c[b].ac};r.nz=function(){if(1==this.ma)return this.na.Pc.Jh();if(2==this.ma){var a=P.nb(this.Fa.Pc,this.na.Pc);return 0<P.Di(a,this.na.Pc.Jh())?
P.pq(1,a):P.Ng(a,1)}return K.A(0,0)};r.oz=function(a,c){1==this.ma?(a.H(this.na.Wc),c.H(this.na.of)):2==this.ma?(a.x=this.na.L*this.na.Wc.x+this.Fa.L*this.Fa.Wc.x,a.y=this.na.L*this.na.Wc.y+this.Fa.L*this.Fa.Wc.y,c.x=this.na.L*this.na.of.x+this.Fa.L*this.Fa.of.x,c.y=this.na.L*this.na.of.y+this.Fa.L*this.Fa.of.y):3==this.ma&&(c.x=a.x=this.na.L*this.na.Wc.x+this.Fa.L*this.Fa.Wc.x+this.he.L*this.he.Wc.x,c.y=a.y=this.na.L*this.na.Wc.y+this.Fa.L*this.Fa.Wc.y+this.he.L*this.he.Wc.y)};r.Au=function(){return 1==
this.ma?0:2==this.ma?P.nb(this.na.Pc,this.Fa.Pc).Yf():3==this.ma?P.Di(P.nb(this.Fa.Pc,this.na.Pc),P.nb(this.he.Pc,this.na.Pc)):0};r.dA=function(){var a=this.na.Pc,c=this.Fa.Pc,b=P.nb(c,a),a=-(a.x*b.x+a.y*b.y);0>=a?this.ma=this.na.L=1:(c=c.x*b.x+c.y*b.y,0>=c?(this.ma=this.Fa.L=1,this.na.Set(this.Fa)):(b=1/(c+a),this.na.L=c*b,this.Fa.L=a*b,this.ma=2))};r.eA=function(){var a=this.na.Pc,c=this.Fa.Pc,b=this.he.Pc,d=P.nb(c,a),g=P.Cb(c,d),e=-P.Cb(a,d),f=P.nb(b,a),n=P.Cb(b,f),k=-P.Cb(a,f),h=P.nb(b,c),l=P.Cb(b,
h),h=-P.Cb(c,h),f=P.Di(d,f),d=f*P.Di(c,b),b=f*P.Di(b,a),a=f*P.Di(a,c);0>=e&&0>=k?this.ma=this.na.L=1:0<g&&0<e&&0>=a?(n=1/(g+e),this.na.L=g*n,this.Fa.L=e*n,this.ma=2):0<n&&0<k&&0>=b?(g=1/(n+k),this.na.L=n*g,this.he.L=k*g,this.ma=2,this.Fa.Set(this.he)):0>=g&&0>=h?(this.ma=this.Fa.L=1,this.na.Set(this.Fa)):0>=n&&0>=l?(this.ma=this.he.L=1,this.na.Set(this.he)):0<l&&0<h&&0>=d?(g=1/(l+h),this.Fa.L=l*g,this.he.L=h*g,this.ma=2,this.na.Set(this.he)):(g=1/(d+b+a),this.na.L=d*g,this.Fa.L=b*g,this.he.L=a*g,
this.ma=3)};var od=function(){this.$b=[0,0,0];this.ac=[0,0,0]},nd=function(){};nd.prototype.Set=function(a){this.Wc.H(a.Wc);this.of.H(a.of);this.Pc.H(a.Pc);this.L=a.L;this.$b=a.$b;this.ac=a.ac};var pd=function(){this.xh=new ad;this.yh=new ad;this.my=new Lc;this.ny=new Lc},qd=function(){this.ra=K.A(0,0);this.ka=[];for(var a=this.Ub=0;2>a;a++)this.ka[a]=K.A(0,0)};qd.prototype.Yb=function(a,c,b,d,g){if(0!=a.Ub){var e=0,f,n,k=0,h=0,l=0,m=0,q=0;f=0;switch(a.La){case 1:n=c.q;f=a.qa;e=c.position.x+n.j.x*
f.x+n.k.x*f.y;c=c.position.y+n.j.y*f.x+n.k.y*f.y;n=d.q;f=a.ka[0].qa;a=d.position.x+n.j.x*f.x+n.k.x*f.y;d=d.position.y+n.j.y*f.x+n.k.y*f.y;f=a-e;n=d-c;k=f*f+n*n;k>Ic?(k=Math.sqrt(k),this.ra.x=f/k,this.ra.y=n/k):(this.ra.x=1,this.ra.y=0);f=c+b*this.ra.y;d-=g*this.ra.y;this.ka[0].x=.5*(e+b*this.ra.x+(a-g*this.ra.x));this.ka[0].y=.5*(f+d);break;case 2:n=c.q;f=a.Kc;k=n.j.x*f.x+n.k.x*f.y;h=n.j.y*f.x+n.k.y*f.y;n=c.q;f=a.qa;l=c.position.x+n.j.x*f.x+n.k.x*f.y;m=c.position.y+n.j.y*f.x+n.k.y*f.y;this.ra.x=k;
this.ra.y=h;for(e=0;e<a.Ub;e++)n=d.q,f=a.ka[e].qa,q=d.position.x+n.j.x*f.x+n.k.x*f.y,f=d.position.y+n.j.y*f.x+n.k.y*f.y,this.ka[e].x=q+.5*(b-(q-l)*k-(f-m)*h-g)*k,this.ka[e].y=f+.5*(b-(q-l)*k-(f-m)*h-g)*h;break;case 4:for(n=d.q,f=a.Kc,k=n.j.x*f.x+n.k.x*f.y,h=n.j.y*f.x+n.k.y*f.y,n=d.q,f=a.qa,l=d.position.x+n.j.x*f.x+n.k.x*f.y,m=d.position.y+n.j.y*f.x+n.k.y*f.y,this.ra.x=-k,this.ra.y=-h,e=0;e<a.Ub;e++)n=c.q,f=a.ka[e].qa,q=c.position.x+n.j.x*f.x+n.k.x*f.y,f=c.position.y+n.j.y*f.x+n.k.y*f.y,this.ka[e].x=
q+.5*(g-(q-l)*k-(f-m)*h-b)*k,this.ka[e].y=f+.5*(g-(q-l)*k-(f-m)*h-b)*h}}};var tc=function(a,c){this.nd="Body"+tc.zq++;this.C=new rc;this.C.position.H(a.position);this.C.q.Set(a.N);this.n=new Lc;this.n.P.ga();this.n.jd=1;this.n.Se=this.n.L=a.N;this.n.B.x=this.C.q.j.x*this.n.P.x+this.C.q.k.x*this.n.P.y;this.n.B.y=this.C.q.j.y*this.n.P.x+this.C.q.k.y*this.n.P.y;this.n.B.x+=this.C.position.x;this.n.B.y+=this.C.position.y;this.n.Hc.H(this.n.B);this.u=a.Fs.hc();this.nh=K.A(0,0);this.vk=a.Si;this.jD=a.Dr;
this.Ns=a.nv;this.Os=a.rv;this.rm=a.Pb;this.Ca=c;this.xb=null;this.Gd=new rd;this.Vi=new sd;this.G=a.ov;this.qD=a.hj;this.eD=a.Oi;this.Cm=this.vj=0;this.La=a.type;this.T=this.La==S.ic?1:0;this.I=this.La==S.ic?1:0;this.R=this.df=0;this.nD=a.qw;this.dk=new td;this.lp=[]};r=tc.prototype;r.Kj=function(a){a=new sc(this,this.C,a);this.rm&&a.el(this.Ca.wd.uk,this.C);this.dk.Ny(a);a.um=this;0<a.hp&&this.Su();this.Ca.Zs=!0;return a};r.kd=function(){K.Xb(this.u);K.Xb(this.nh)};r.uu=function(a){this.dk.Tz(a);
for(var c=this.Gd.Ga(ud);c;c=c.next)a!=c.tc.Fb&&a!=c.tc.wb||this.Ca.wd.kd(c.tc);this.rm&&a.fl(this.Ca.wd.uk);a.kd();a.um=null;this.Su()};r.sl=function(a,c){this.C.q.Set(c);this.C.position.H(a);var b=this.C.q,d=this.n.P;this.n.B.x=b.j.x*d.x+b.k.x*d.y;this.n.B.y=b.j.y*d.x+b.k.y*d.y;this.n.B.x+=this.C.position.x;this.n.B.y+=this.C.position.y;this.n.Hc.H(this.n.B);this.n.Se=this.n.L=c;b=this.Ca.wd.uk;for(d=this.dk.Ga();d;d=d.next)d.Ze.$u(b,this.C,this.C);this.Ca.wd.sn()};r.Pd=function(){return this.C};
r.Jq=function(a){this.sl(a,this.md())};r.md=function(){return this.n.L};r.Bn=function(a){this.sl(this.C.position,a)};r.Oj=function(){return this.n.B};r.Fi=function(){return this.n.P};r.Ki=function(a){this.La!=S.xe&&this.u.H(a)};r.Ih=function(){return this.u};r.ql=function(a){void 0===a&&(a=0);this.La!=S.xe&&(this.G=a)};r.tn=function(){return this.G};r.pf=function(a,c){this.La==S.ic&&(this.rc(!0),this.nh.x+=a.x,this.nh.y+=a.y,this.vj+=(c.x-this.n.B.x)*a.y-(c.y-this.n.B.y)*a.x)};r.kn=function(a){void 0===
a&&(a=0);this.La==S.ic&&(this.rc(!0),this.vj+=a)};r.jn=function(a,c){this.La==S.ic&&(this.rc(!0),this.u.x+=this.I*a.x,this.u.y+=this.I*a.y,this.G+=this.R*((c.x-this.n.B.x)*a.y-(c.y-this.n.B.y)*a.x))};r.Nj=function(){return this.T};r.zu=function(a){a||(a=new Oc);a.tg=this.T;a.Pj=this.df;a.Ug.H(this.n.P);return a};r.Su=function(){this.R=this.df=this.I=this.T=0;this.n.P.ga();if(this.La!=S.xe&&this.La!=S.tv){for(var a=K.A(0,0),c=this.dk.Ga();c;c=c.next){var b=c.Ze;0!=b.hp&&(b=b.zu(),this.T+=b.tg,a.x+=
b.Ug.x*b.tg,a.y+=b.Ug.y*b.tg,this.df+=b.Pj)}0<this.T?(this.I=1/this.T,a.x*=this.I,a.y*=this.I):this.I=this.T=1;0<this.df&&!this.jD?(this.df-=this.T*(a.x*a.x+a.y*a.y),this.df*=this.nD,this.R=1/this.df):this.R=this.df=0;c=this.n.B.hc();this.n.P.H(a);this.n.Hc.H(P.qc(this.C,this.n.P));this.n.B.H(this.n.Hc);this.u.x+=this.G*-(this.n.B.y-c.y);this.u.y+=this.G*+(this.n.B.x-c.x);K.Xb(a);K.Xb(c)}};r.xn=function(a){var c=this.C.q;a=K.A(c.j.x*a.x+c.k.x*a.y,c.j.y*a.x+c.k.y*a.y);a.x+=this.C.position.x;a.y+=this.C.position.y;
return a};r.vq=function(a){return P.Ob(this.C.q,a)};r.Yc=function(a){return P.yq(this.C,a)};r.uq=function(a){return P.Og(this.C.q,a)};r.mz=function(a){return K.A(this.u.x-this.G*(a.y-this.n.B.y),this.u.y+this.G*(a.x-this.n.B.x))};r.Ec=function(){return this.La};r.rc=function(a){if(this.Os!=a)for(this.Os=a,this.Cm=0,a||(this.u.ga(),this.G=0,this.nh.ga(),this.vj=0),a=0;a<this.lp.length;a++)this.lp[a].cv(this)};r.Zc=function(){return this.Os};r.Hi=function(){return this.rm};r.sq=function(){return this.dk};
r.al=function(a){this.Vi.al(a)};r.ol=function(a){this.Vi.ol(a)};r.Hh=function(){return this.Gd};r.av=function(){var a=tc.jE;a.q.Set(this.n.Se);var c=a.q,b=this.n.P;a.position.x=this.n.Hc.x-(c.j.x*b.x+c.k.x*b.y);a.position.y=this.n.Hc.y-(c.j.y*b.x+c.k.y*b.y);c=this.Ca.wd.uk;for(b=this.dk.Ga();b;b=b.next)b.Ze.$u(c,a,this.C)};r.Db=function(){this.C.q.Set(this.n.L);var a=this.C.q,c=this.n.P;this.C.position.x=this.n.B.x-(a.j.x*c.x+a.k.x*c.y);this.C.position.y=this.n.B.y-(a.j.y*c.x+a.k.y*c.y)};r.Li=function(a){if(this.La!=
S.ic&&a.La!=S.ic)return!1;for(var c=this.xb;c;c=c.next)if(c.Le==a&&0==c.ih.dx)return!1;return!0};r.Gh=function(a){this.n.Gh(a);this.n.B.H(this.n.Hc);this.n.L=this.n.Se;this.Db()};tc.zq=0;var S=function(){this.position=K.A(0,0);this.Fs=K.A(0,0);this.Oi=this.hj=this.ov=this.N=0;this.rv=this.nv=!0;this.Si=this.Dr=!1;this.type=S.xe;this.Pb=!0;this.qw=1};S.xe=0;S.tv=1;S.ic=2;var wd=function(){this.Jn=[];for(var a=0;a<=vd;a++)this.Jn[a]=null;this.Kn=[];for(a=0;a<=vd;a++)this.Kn[a]=null;this.Vj={}};r=wd.prototype;
r.Ga=function(a){return this.Jn[a]};r.Hj=function(a){var c=a.nd;null==this.Vj[c]&&(this.Vf(a,c,vd),this.cv(a),a.lp.push(this))};r.cv=function(a){var c=a.Ec(),b=a.nd,d=a.Zc(),g=a.Hi();c==S.ic?this.Vf(a,b,xd):this.Zf(b,xd);c!=S.xe?this.Vf(a,b,yd):this.Zf(b,yd);c!=S.xe&&g&&d?this.Vf(a,b,zd):this.Zf(b,zd);d?this.Vf(a,b,Ad):this.Zf(b,Ad);g?this.Vf(a,b,Bd):this.Zf(b,Bd)};r.nl=function(a){var c=a.nd;if(null!=this.Vj[c]){Fa(a.lp,this);for(a=0;a<=vd;a++)this.Zf(c,a);delete this.Vj[c]}};r.Zf=function(a,c){var b=
this.Vj[a];if(null!=b){var d=b[c];null!=d&&(b[c]=null,b=d.kf,d=d.next,null==b?this.Jn[c]=d:b.sf(d),null==d?this.Kn[c]=b:d.tf(b))}};r.Vf=function(a,c,b){var d=this.Vj[c];if(null==d){for(var d=[],g=0;g<=vd;g++)d[g]=null;this.Vj[c]=d}null==d[b]&&(d[b]=new Cd(a),a=this.Kn[b],null!=a?a.sf(d[b]):this.Jn[b]=d[b],d[b].tf(a),this.Kn[b]=d[b])};var xd=0,yd=1,Bd=2,zd=3,Ad=4,vd=5,Cd=function(a){this.body=a;this.kf=this.next=null};Cd.prototype.sf=function(a){this.next=a};Cd.prototype.tf=function(a){this.kf=a};
Cd.prototype.Oa=function(){return this.body};var vc=function(){};vc.prototype.Li=function(a,c){var b=a.yu(),d=c.yu();return b.Vh==d.Vh&&0!=b.Vh?0<b.Vh:0!=(b.Dk&d.Wj)&&0!=(b.Wj&d.Dk)};vc.OA=new vc;var Dd=function(){this.JD=[];this.rE=[]},uc=function(){};uc.prototype.ln=function(){};var Fd=function(a){this.Ca=a;this.Ps=vc.OA;this.lh=uc.sv;this.gx=new Ed;this.uk=new dd};Fd.prototype.Qy=function(a,c){var b=a.Oa(),d=c.Oa();if(b!=d&&d.Li(b)&&this.Ps.Li(a,c)){for(b=d.Gd.Ga(ud);b;b=b.next)if(d=b.tc.Fb,d==
a){if(d=b.tc.wb,d==c)return}else if(d==c&&(d=b.tc.wb,d==a))return;this.gx.Qe(a,c)}};Fd.prototype.sn=function(){var a=this;this.uk.kA(function(c,b){a.Qy(c,b)})};Fd.prototype.kd=function(a){0<a.Ie.Ub&&(a.Fb.Oa().rc(!0),a.wb.Oa().rc(!0));a.Uz();this.gx.kd(a)};Fd.prototype.Yy=function(){for(var a=this.Ca.Gd.Ga(ud);a;a=a.next){var c=a.tc,b=c.Fb,d=c.wb,g=b.Oa(),e=d.Oa();if(0!=g.Zc()||0!=e.Zc()){if(c.oo){if(0==e.Li(g)){this.kd(c);continue}if(0==this.Ps.Li(b,d)){this.kd(c);continue}c.Xy()}0==this.uk.ul(b.rj,
d.rj)?this.kd(c):c.bv(this.lh)}}};var Gd=function(){this.Wj=1;this.Dk=65535;this.Vh=0};Gd.prototype.hc=function(){var a=new Gd;a.Wj=this.Wj;a.Dk=this.Dk;a.Vh=this.Vh;return a};var sc=function(a,c,b){this.nd="Fixture"+sc.zq++;this.iD=b.filter.hc();this.mj=Tc();this.um=a;this.sh=b.shape.hc();this.hp=b.Af;this.Ss=b.fg;this.$s=b.Eg;this.jp=b.js};r=sc.prototype;r.pc=function(){return this.sh};r.Ii=function(){return this.jp};r.yu=function(){return this.iD.hc()};r.Oa=function(){return this.um};r.zu=function(a){a||
(a=new Oc);this.sh.dl(a,this.hp);return a};r.kd=function(){Sc.push(this.mj)};r.el=function(a,c){this.sh.Jj(this.mj,c);this.rj=a.el(this.mj,this)};r.fl=function(a){null!=this.rj&&(a.fl(this.rj),this.rj=null)};r.$u=function(a,c,b){if(this.rj){var d=Tc(),g=Tc();this.sh.Jj(d,c);this.sh.Jj(g,b);this.mj.nn(d,g);Sc.push(d);Sc.push(g);c=P.nb(b.position,c.position);a.xq(this.rj,this.mj,c);K.Xb(c)}};sc.zq=0;var yc=function(){this.filter=new Gd;this.filter.Wj=1;this.filter.Dk=65535;this.filter.Vh=0;this.shape=
null;this.fg=.2;this.Af=this.Eg=0;this.js=!1},td=function(){this.Fr=this.Er=null;this.ro={}};td.prototype.Ga=function(){return this.Er};td.prototype.Ny=function(a){var c=a.nd;if(null==this.ro[c]){a=new Hd(a);var b=this.Fr;null!=b?b.sf(a):this.Er=a;a.tf(b);this.Fr=a;this.ro[c]=a}};td.prototype.Tz=function(a){a=a.nd;var c=this.ro[a];if(null!=c){var b=c.kf,c=c.next;null==b?this.Er=c:b.sf(c);null==c?this.Fr=b:c.tf(b);delete this.ro[a]}};var Hd=function(a){this.Ze=a;this.kf=this.next=null};Hd.prototype.sf=
function(a){this.next=a};Hd.prototype.tf=function(a){this.kf=a};var Id=function(a,c){this.rD=a;this.Jf=c;this.mg=[];this.ip=[];this.ki=[];this.mh=[];this.fd=[]};r=Id.prototype;r.mn=function(){this.mg=[];this.ip=[];this.ki=[];this.mh=[];this.fd=[]};r.Mh=function(a,c,b){this.tA(a,c);this.Jf.Yb(a,this.mh,this.mh.length);this.zA(a);this.vA(a);this.wA(a);this.Ru(this.Jf.ng);b&&this.uA(a)};r.tA=function(a,c){for(var b=0;b<this.ip.length;b++){var d=this.ip[b];d.u.x+=a.za*(c.x+d.I*d.nh.x);d.u.y+=a.za*(c.y+
d.I*d.nh.y);d.G+=a.za*d.R*d.vj;d.u.od(P.rb(1-a.za*d.qD,0,1));d.G*=P.rb(1-a.za*d.eD,0,1)}};r.zA=function(a){this.Jf.Re(a);for(var c=0;c<this.fd.length;c++)this.fd[c].Re(a);for(c=0;c<a.en;c++){for(var b=0;b<this.fd.length;b++)this.fd[b].ue(a);this.Jf.ue()}for(a=0;a<this.fd.length;a++)this.fd[a].qq();this.Jf.qq()};r.vA=function(a){for(var c=0;c<this.ki.length;++c){var b=this.ki[c],d=a.za*b.u.x,g=a.za*b.u.y;4<d*d+g*g&&(b.u.qd(),b.u.x=2*b.u.x*a.fh,b.u.y=2*b.u.y*a.fh);d=a.za*b.G;d*d>Ec&&(b.G=0>b.G?-Dc*
a.fh:Dc*a.fh);b.n.Hc.H(b.n.B);b.n.Se=b.n.L;b.n.B.x+=a.za*b.u.x;b.n.B.y+=a.za*b.u.y;b.n.L+=a.za*b.G;b.Db()}};r.wA=function(a){for(var c=0;c<a.Nm;c++){for(var b=this.Jf.te(.2),d=!0,g=0;g<this.fd.length;g++)var e=this.fd[g].te(.2),d=d&&e;if(b&&d)break}};r.uA=function(a){for(var c=Number.MAX_VALUE,b=0;b<this.ki.length;b++){var d=this.ki[b];!d.Ns||Math.abs(d.G)>Fc||1E-4<P.Cb(d.u,d.u)?c=d.Cm=0:(d.Cm+=a.za,c=Math.min(c,d.Cm))}if(.5<=c)for(a=0;a<this.mg.length;a++)this.mg[a].rc(!1)};r.Lq=function(a){var c=
0,b=0;this.Jf.Yb(a,this.mh,this.mh.length);for(var d=this.Jf,c=0;c<this.fd.length;++c)this.fd[c].Re(a);for(c=0;c<a.en;++c)for(d.ue(),b=0;b<this.fd.length;++b)this.fd[b].ue(a);for(c=0;c<this.ki.length;++c){var b=this.ki[c],g=a.za*b.u.x,e=a.za*b.u.y;4<g*g+e*e&&(b.u.qd(),b.u.x=2*b.u.x*a.fh,b.u.y=2*b.u.y*a.fh);g=a.za*b.G;g*g>Ec&&(b.G=0>b.G?-Dc*a.fh:Dc*a.fh);b.n.Hc.H(b.n.B);b.n.Se=b.n.L;b.n.B.x+=a.za*b.u.x;b.n.B.y+=a.za*b.u.y;b.n.L+=a.za*b.G;b.Db()}for(c=0;c<a.Nm;++c){g=d.te(.75);e=!0;for(b=0;b<this.fd.length;++b)var f=
this.fd[b].te(.2),e=e&&f;if(g&&e)break}this.Ru(d.ng)};r.Ru=function(a){if(null!=this.rD)for(var c=0;c<this.mh.length;++c)for(var b=a[c],d=new Dd,g=0;g<b.jf;++g)d.JD[g]=b.Wb[g].Vb,d.rE[g]=b.Wb[g].Ig};r.Hj=function(a){this.mg.push(a);a.Ec()!=S.xe&&(this.ki.push(a),a.Ec()==S.ic&&this.ip.push(a))};r.Ij=function(a){this.mh.push(a)};r.qu=function(a){this.fd.push(a)};var Jd=function(a,c,b,d,g){this.za=a;var e=0;0<a&&(e=1/a);this.fh=e;this.kc=c;this.Nm=b;this.en=d;this.Dh=g},wc=function(a,c){this.wd=new Fd(this);
this.Jf=new Kd;this.Zs=!1;this.Gc=new wd;this.Gd=new rd;this.xb=null;this.Vi=new sd;this.kp=0;this.gD=this.xD=!0;this.Ns=c;this.Ts=a;this.hx=0;this.mD=this.oq(new S)};wc.vz=1-100*Number.MIN_VALUE;r=wc.prototype;r.Vu=function(a){this.wd.Ps=a};r.Wu=function(a){this.wd.lh=a};r.oq=function(a){a=new tc(a,this);this.Gc.Hj(a);return a};r.qn=function(a){for(var c=a.xb;c;){var b=c,c=c.next;this.rn(b.ih)}for(c=a.Vi.Ga();c;c=c.next)c.Mv.nl(a);for(c=a.Gd.Ga(ud);c;c=c.next)this.wd.kd(c.tc);for(c=a.sq().Ga();c;c=
c.next)a.uu(c.Ze);a.kd();this.Gc.nl(a)};r.pn=function(a){var c=Y.Qe(a);c.xk=null;if(c.ji=this.xb)this.xb.xk=c;this.xb=c;this.kp++;c.xd.ih=c;c.xd.Le=c.V;c.xd.prev=null;if(c.xd.next=c.U.xb)c.U.xb.prev=c.xd;c.U.xb=c.xd;c.yd.ih=c;c.yd.Le=c.U;c.yd.prev=null;if(c.yd.next=c.V.xb)c.V.xb.prev=c.yd;c.V.xb=c.yd;var b=a.K,d=a.M;if(!a.hr)for(a=d.Gd.Ga(ud);a;a=a.next)a.tc.vn(d)==b&&a.tc.wu();return c};r.rn=function(a){var c=a.dx;a.xk&&(a.xk.ji=a.ji);a.ji&&(a.ji.xk=a.xk);a==this.xb&&(this.xb=a.ji);var b=a.U,d=a.V;
b.rc(!0);d.rc(!0);a.xd.prev&&(a.xd.prev.next=a.xd.next);a.xd.next&&(a.xd.next.prev=a.xd.prev);a.xd==b.xb&&(b.xb=a.xd.next);a.xd.prev=null;a.xd.next=null;a.yd.prev&&(a.yd.prev.next=a.yd.next);a.yd.next&&(a.yd.next.prev=a.yd.prev);a.yd==d.xb&&(d.xb=a.yd.next);a.yd.prev=null;a.yd.next=null;this.kp--;if(!c)for(a=d.Gd.Ga(ud);a;a=a.next)a.tc.vn(d)==b&&a.tc.wu()};r.al=function(a){if(null!==a.Ca&&a.Ca!=this)throw Error("Controller can only be a member of one world");this.Vi.al(a);a.Ca=this;return a};r.ol=
function(a){this.Vi.ol(a);a.Ca=null;a.mn()};r.Iq=function(a){this.Ts=a};r.Pg=function(a,c,b){this.Zs&&(this.wd.sn(),this.Zs=!1);a=new Jd(a,this.hx*a,c,b,this.xD);this.wd.Yy();0<a.za&&(this.Mh(a),this.gD&&this.Lq(a),this.hx=a.fh)};r.tu=function(){for(var a=this.Gc.Ga(xd);a;a=a.next)a.body.nh.ga(),a.body.vj=0};r.Hh=function(){return this.Gd};var Ld=[];wc.prototype.Mh=function(a){for(var c=this.Vi.Ga();c;c=c.next)c.Mv.Pg(a);for(var c=new Id(this.wd.lh,this.Jf),b=this.Gc.Ga(vd);b;b=b.next)b.body.qb=!1;
for(var d=this.Gd.Ga(ud);d;d=d.next)d.tc.qb=!1;for(b=this.xb;b;b=b.ji)b.qb=!1;for(b=this.Gc.Ga(zd);b;b=b.next)if(d=b.body,!d.qb){c.mn();Ld.length=0;var g=Ld;g.push(d);for(d.qb=!0;0<g.length;){var e=g.pop();c.Hj(e);e.Zc()||e.rc(!0);if(e.Ec()!=S.xe){for(d=e.Gd.Ga(Md);d;d=d.next){var f=d.tc;f.qb||(c.Ij(f),f.qb=!0,f=f.vn(e),f.qb||(g.push(f),f.qb=!0))}for(d=e.xb;d;d=d.next)!d.ih.qb&&d.Le.Hi()&&(c.qu(d.ih),d.ih.qb=!0,d.Le.qb||(g.push(d.Le),d.Le.qb=!0))}}c.Mh(a,this.Ts,this.Ns)}for(b=this.Gc.Ga(zd);b;b=
b.next)b.body.av();this.wd.sn()};wc.prototype.Lq=function(a){for(var c=new Id(this.wd.lh,this.Jf),b=this.Gc.Ga(vd);b;b=b.next){var d=b.body;d.qb=!1;d.n.jd=0}for(var g=this.Gd.Ga(ud);g;g=g.next)g.tc.qb=!1,g.tc.Bk=null;for(b=this.xb;b;b=b.ji)b.qb=!1;for(;;){var b=this.xA(),e=b.FD,b=b.HD;if(null===e||wc.vz<b)break;g=e.Fb.Oa();d=e.wb.Oa();wc.ay.Set(g.n);wc.by.Set(d.n);g.Gh(b);d.Gh(b);e.bv(this.wd.lh);e.Bk=null;if(e.Gp||!e.enabled)g.n.Set(wc.ay),d.n.Set(wc.by),g.Db(),d.Db();else if(e.an){g.Ec()!=S.ic&&
(g=d);c.mn();Ld.length=0;e=Ld;e.push(g);for(g.qb=!0;0<e.length;)if(d=e.pop(),c.Hj(d),d.Zc()||d.rc(!0),d.Ec()==S.ic){for(g=d.Gd.Ga(Md);g&&32!=c.fD;g=g.next){var f=g.tc;f.qb||(c.Ij(f),f.qb=!0,f=f.vn(d),f.qb||(f.Ec()!=S.xe&&(f.Gh(b),f.rc(!0),e.push(f)),f.qb=!0))}for(d=d.xb;d;d=d.next)32!=c.kp&&!d.ih.qb&&d.Le.Hi()&&(c.qu(d.ih),d.ih.qb=!0,d.Le.qb||(d.Le.Ec()!=S.xe&&(d.Le.Gh(b),d.Le.rc(!0),e.push(d.Le)),d.Le.qb=!0))}c.Lq(new Jd((1-b)*a.za,0,a.en,a.Nm,!1));for(b=0;b<c.mg.length;b++)if(c.mg[b].qb=!1,c.mg[b].Zc()&&
c.mg[b].Ec()==S.ic)for(c.mg[b].av(),g=c.mg[b].Gd.Ga(ud);g;g=g.next)g.tc.Bk=null;for(b=0;b<c.fD;b++)c.mh[b].qb=!1,c.mh[b].Bk=null;for(b=0;b<c.kp;b++)c.fd[b].qb=!1;this.wd.sn()}}};wc.prototype.xA=function(){for(var a=null,c=1,b=this.Gd.Ga(Nd);b;b=b.next){var d=b.tc;if(!this.yA(d)){var g=1;if(null!=d.Bk)g=d.Bk;else{if(d.an)g=1;else{var g=d.Fb.Oa(),e=d.wb.Oa(),f=g.n.jd;g.n.jd<e.n.jd?(f=e.n.jd,g.n.Gh(f)):e.n.jd<g.n.jd&&(f=g.n.jd,e.n.Gh(f));g=d.dz(g.n,e.n);0<g&&1>g&&(g=(1-g)*f+g)}d.Bk=g}Number.MIN_VALUE<
g&&g<c&&(a=d,c=g)}}return{FD:a,HD:c}};wc.prototype.yA=function(a){var c=a.Fb.Oa();a=a.wb.Oa();return c.Ec()==S.ic&&c.Zc()||a.Ec()==S.ic&&a.Zc()?!1:!0};var Pd=function(a,c){this.nd="Contact"+Od++;this.Ie=new id;this.Am=new id;this.an=!1;var b=a.Oa(),d=c.Oa();this.ir=b.Ec()!=S.ic||b.vk||d.Ec()!=S.ic||d.vk;this.Gp=a.Ii()||c.Ii();this.oo=!1;this.Fb=a;this.wb=c;this.enabled=!0;this.Hn=b.Hh();this.In=d.Hh();this.kq=d.Ca.Hh();this.ru()};r=Pd.prototype;r.Fc=function(a,c){this.Ie.Fc();this.Am.Fc();this.an=
!1;var b=a.Oa(),d=c.Oa();this.ir=b.Ec()!=S.ic||b.vk||d.Ec()!=S.ic||d.vk;this.Gp=a.Ii()||c.Ii();this.oo=!1;this.Fb=a;this.wb=c;this.enabled=!0;this.Hn=b.Hh();this.In=d.Hh();this.kq=d.Ca.Hh();this.ru()};r.ru=function(){this.Hn.Ij(this);this.In.Ij(this);this.kq.Ij(this);this.dv()};r.dv=function(){var a=!1,c=!1;!this.Ii()&&this.yn()&&(this.wq()&&(a=!0),this.ir&&(c=!0));this.Hn.Nq(this,a,c);this.In.Nq(this,a,c);this.kq.Nq(this,a,c)};r.Uz=function(){this.Hn.Gq(this);this.In.Gq(this);this.kq.Gq(this)};r.wq=
function(){return this.an};r.Ii=function(){return this.Gp};r.yn=function(){return this.enabled};r.vn=function(a){var c=this.Fb.Oa();return c!=a?c:this.wb.Oa()};r.wu=function(){this.oo=!0};r.Xy=function(){this.oo=!1};r.bv=function(a){var c=this.Am;this.Am=this.Ie;this.Ie=c;this.enabled=!0;var b=!1,c=this.wq(),d=this.Fb.Oa(),g=this.wb.Oa(),e=this.Fb.mj.ul(this.wb.mj);if(this.Gp){if(e){var b=this.Fb.pc(),d=d.Pd(),e=this.wb.pc(),f=g.Pd(),g=new Zc;g.xh=new ad;g.xh.Set(b);g.yh=new ad;g.yh.Set(e);g.aq=d;
g.bq=f;g.Gy=!0;d=new od;d.count=0;b=new $c;Yc(b,d,g);b=b.Zg<10*Number.MIN_VALUE}this.Ie.Ub=0}else{this.ir=d.Ec()!=S.ic||d.vk||g.Ec()!=S.ic||g.vk?!0:!1;if(e)for(this.Wf(),b=0<this.Ie.Ub,e=0;e<this.Ie.Ub;e++){f=this.Ie.ka[e];f.qj=0;for(var n=f.uj=0;n<this.Am.Ub;n++){var k=this.Am.ka[n];if(k.ff.rd==f.ff.rd){f.qj=k.qj;f.uj=k.uj;break}}}else this.Ie.Ub=0;b!=c&&(d.rc(!0),g.rc(!0))}this.an=b;b!=c&&this.dv();!c&&b&&a.ln(this)};r.Wf=function(){};r.dz=function(a,c){Qd.xh.Set(this.Fb.pc());Qd.yh.Set(this.wb.pc());
Qd.my=a;Qd.ny=c;Qd.wE=.005;var b=Qd;Rd++;var d=b.xh,g=b.yh,e=b.my,f=b.ny,n=d.Qa+g.Qa,b=b.wE,k=0,h=0,l=0;Sd.count=0;for(Td.Gy=!1;;){e.Pd(Ud,k);f.Pd(Vd,k);Td.xh=d;Td.yh=g;Td.aq=Ud;Td.bq=Vd;Yc(Wd,Sd,Td);if(0>=Wd.Zg){k=1;break}Xd.Yb(Sd,d,Ud,g,Vd);var m=Xd.Wf(Ud,Vd);if(0>=m){k=1;break}0==h&&(l=m>n?Math.max(n-b,.75*n):Math.max(m-b,.02*n));if(m-l<.5*b){if(0==h){k=1;break}break}var q=k,p=k,u=1;e.Pd(Ud,u);f.Pd(Vd,u);var t=Xd.Wf(Ud,Vd);if(t>=l){k=1;break}for(var s=0;;){var y=0,y=s&1?p+(l-m)*(u-p)/(t-m):.5*
(p+u);e.Pd(Ud,y);f.Pd(Vd,y);var z=Xd.Wf(Ud,Vd);if(Math.abs(z-l)<.025*b){q=y;break}z>l?(p=y,m=z):(u=y,t=z);s++;Yd++;if(50==s)break}Zd=Math.max(Zd,s);if(q<(1+100*Number.MIN_VALUE)*k)break;k=q;h++;$d++;if(1E3==h)break}ae=Math.max(ae,h);return k};var Qd=new pd,Od=0,be=function(a,c){Pd.call(this,a,c)};I(be,Pd);be.prototype.Fc=function(a,c){Pd.prototype.Fc.call(this,a,c)};be.prototype.Wf=function(){var a=this.Ie,c=this.Fb.pc(),b=this.Fb.Oa().C,d=this.wb.pc(),g=this.wb.Oa().C;a.Ub=0;var e=g.position.x+(g.q.j.x*
d.Za.x+g.q.k.x*d.Za.y)-(b.position.x+(b.q.j.x*c.Za.x+b.q.k.x*c.Za.y)),b=g.position.y+(g.q.j.y*d.Za.x+g.q.k.y*d.Za.y)-(b.position.y+(b.q.j.y*c.Za.x+b.q.k.y*c.Za.y)),g=c.Qa+d.Qa;e*e+b*b>g*g||(a.La=1,a.qa.H(c.Za),a.Kc.ga(),a.Ub=1,a.ka[0].qa.H(d.Za),a.ka[0].ff.Ji(0))};var de=function(){this.lg=K.A(0,0);this.Tb=K.A(0,0);this.gd=K.A(0,0);this.vh=new O;this.Qd=new O;this.Wb=[];for(var a=0;2>a;a++)this.Wb[a]=new ce},ce=function(){this.Tb=K.A(0,0);this.Kb=K.A(0,0);this.Lb=K.A(0,0)};ce.prototype.Fc=function(){this.Tb.Set(0,
0);this.Kb.Set(0,0);this.Lb.Set(0,0)};var Ed=function(){this.Lf={};this.oh={};this.bl(be,xc.qf,xc.qf);this.bl(ee,U.qf,xc.qf);this.bl(fe,U.qf,U.qf);this.bl(ge,"b2EdgeShape",xc.qf);this.bl(he,U.qf,"b2EdgeShape")};Ed.prototype.bl=function(a,c,b){this.oh[c]=this.oh[c]||{};this.oh[c][b]=this.oh[c][b]||[];this.Lf[c]=this.Lf[c]||{};this.Lf[c][b]=new ie;this.Lf[c][b].Qv=a;this.Lf[c][b].Px=!0;c!=b&&(this.Lf[b]=this.Lf[b]||{},this.Lf[b][c]=new ie,this.Lf[b][c].Qv=a,this.Lf[b][c].Px=!1)};Ed.prototype.Qe=function(a,
c){var b=a.pc().Gi(),d=c.pc().Gi(),g=this.Lf[b][d],e=g.Qv;return null!=e?g.Px?0<this.oh[b][d].length?(b=this.oh[b][d].pop(),b.Fc(a,c),b):new e(a,c):0<this.oh[d][b].length?(b=this.oh[d][b].pop(),b.Fc(c,a),b):new e(c,a):null};Ed.prototype.kd=function(a){var c=a.Fb.pc().Gi(),b=a.wb.pc().Gi();this.oh[c][b].push(a)};var rd=function(){this.Sn=[];for(var a=0;a<=ud;a++)this.Sn[a]=null;this.Tn=[];for(a=0;a<=ud;a++)this.Tn[a]=null;this.Ui={}};r=rd.prototype;r.Ga=function(a){return this.Sn[a]};r.Ij=function(a){var c=
a.nd;if(null==this.Ui[c]){this.Ui[c]=[];for(var b=0;b<=ud;b++)this.Ui[c][b]=null;this.Vf(a,c,ud)}};r.Nq=function(a,c,b){c?this.Vf(a,a.nd,Md):this.Zf(a.nd,Md);b?this.Vf(a,a.nd,Nd):this.Zf(a.nd,Nd)};r.Gq=function(a){a=a.nd;if(null!=this.Ui[a]){for(var c=0;c<=ud;c++)this.Zf(a,c);delete this.Ui[a]}};r.Zf=function(a,c){var b=this.Ui[a];if(null!=b){var d=b[c];if(null!=d){b[c]=null;var b=d.kf,g=d.next;null==b?this.Sn[c]=g:b.sf(g);null==g?this.Tn[c]=b:g.tf(b);je.push(d)}}};r.Vf=function(a,c,b){c=this.Ui[c];
if(null==c[b]){if(0<je.length){var d=je.pop();d.next=null;d.kf=null;d.tc=a;a=d}else a=new ke(a);c[b]=a;a=this.Tn[b];null!=a?(a.sf(c[b]),c[b].tf(a)):this.Sn[b]=c[b];this.Tn[b]=c[b]}};var Md=0,Nd=1,ud=2,ke=function(a){this.tc=a;this.kf=this.next=null},je=[];ke.prototype.sf=function(a){this.next=a};ke.prototype.tf=function(a){this.kf=a};var ie=function(){},le=function(){this.ra=K.A(0,0);this.pp=[];this.ka=[];for(var a=0;2>a;a++)this.ka[a]=K.A(0,0)};le.prototype.Yb=function(a){switch(a.type){case 1:this.qA(a);
break;case 2:this.rA(a);break;case 4:this.sA(a)}};le.prototype.qA=function(a){var c=a.K.C.q,b=a.Tb,d=a.K.C.position.x+(c.j.x*b.x+c.k.x*b.y),g=a.K.C.position.y+(c.j.y*b.x+c.k.y*b.y),c=a.M.C.q,b=a.Wb[0].Tb,e=a.M.C.position.x+(c.j.x*b.x+c.k.x*b.y),c=a.M.C.position.y+(c.j.y*b.x+c.k.y*b.y),b=e-d,f=c-g,n=b*b+f*f;n>Ic?(n=Math.sqrt(n),this.ra.x=b/n,this.ra.y=f/n):(this.ra.x=1,this.ra.y=0);this.ka[0].x=.5*(d+e);this.ka[0].y=.5*(g+c);this.pp[0]=b*this.ra.x+f*this.ra.y-a.Cp};le.prototype.rA=function(a){this.ra.x=
a.K.C.q.j.x*a.lg.x+a.K.C.q.k.x*a.lg.y;this.ra.y=a.K.C.q.j.y*a.lg.x+a.K.C.q.k.y*a.lg.y;for(var c=a.K.C.position.x+(a.K.C.q.j.x*a.Tb.x+a.K.C.q.k.x*a.Tb.y),b=a.K.C.position.y+(a.K.C.q.j.y*a.Tb.x+a.K.C.q.k.y*a.Tb.y),d=0;d<a.jf;d++){var g=a.M.C.position.x+(a.M.C.q.j.x*a.Wb[d].Tb.x+a.M.C.q.k.x*a.Wb[d].Tb.y),e=a.M.C.position.y+(a.M.C.q.j.y*a.Wb[d].Tb.x+a.M.C.q.k.y*a.Wb[d].Tb.y);this.pp[d]=(g-c)*this.ra.x+(e-b)*this.ra.y-a.Cp;this.ka[d].x=g;this.ka[d].y=e}};le.prototype.sA=function(a){this.ra.x=a.M.C.q.j.x*
a.lg.x+a.M.C.q.k.x*a.lg.y;this.ra.y=a.M.C.q.j.y*a.lg.x+a.M.C.q.k.y*a.lg.y;for(var c=a.M.C.position.x+(a.M.C.q.j.x*a.Tb.x+a.M.C.q.k.x*a.Tb.y),b=a.M.C.position.y+(a.M.C.q.j.y*a.Tb.x+a.M.C.q.k.y*a.Tb.y),d=0;d<a.jf;d++){var g=a.K.C.position.x+(a.K.C.q.j.x*a.Wb[d].Tb.x+a.K.C.q.k.x*a.Wb[d].Tb.y),e=a.K.C.position.y+(a.K.C.q.j.y*a.Wb[d].Tb.x+a.K.C.q.k.y*a.Wb[d].Tb.y);this.pp[d]=(g-c)*this.ra.x+(e-b)*this.ra.y-a.Cp;this.ka[d].Set(g,e)}this.ra.x*=-1;this.ra.y*=-1};var Kd=function(){this.ng=[]};r=Kd.prototype;
r.Yb=function(a,c,b){for(this.vm=b;this.ng.length<this.vm;)this.ng[this.ng.length]=new de;for(a=0;a<b;a++){var d=c[a],g=d.Fb,e=d.wb,f=g.sh.Qa,n=e.sh.Qa,k=g.Oa(),h=e.Oa(),l=d.Ie,m=Math.sqrt(g.Ss*e.Ss),q,g=g.$s,e=e.$s;q=g>e?g:e;var p=k.u.x,u=k.u.y,t=h.u.x,s=h.u.y,y=k.G,z=h.G;me.Yb(l,k.C,f,h.C,n);g=me.ra.x;d=me.ra.y;e=this.ng[a];e.K=k;e.M=h;e.yD=l;e.gd.x=g;e.gd.y=d;e.jf=l.Ub;e.fg=m;e.Eg=q;e.lg.x=l.Kc.x;e.lg.y=l.Kc.y;e.Tb.x=l.qa.x;e.Tb.y=l.qa.y;e.Cp=f+n;e.type=l.La;for(f=0;f<e.jf;++f){m=l.ka[f];n=e.Wb[f];
n.Vb=m.qj;n.Ig=m.uj;n.Tb.H(m.qa);m=n.Kb.x=me.ka[f].x-k.n.B.x;q=n.Kb.y=me.ka[f].y-k.n.B.y;var x=n.Lb.x=me.ka[f].x-h.n.B.x,C=n.Lb.y=me.ka[f].y-h.n.B.y,D=m*d-q*g,E=x*d-C*g,D=D*D,E=E*E;n.vh=1/(k.I+h.I+k.R*D+h.R*E);var B=k.T*k.I+h.T*h.I,B=B+(k.T*k.R*D+h.T*h.R*E);n.IB=1/B;E=d;B=-g;D=m*B-q*E;E=x*B-C*E;D*=D;E*=E;n.sE=1/(k.I+h.I+k.R*D+h.R*E);n.dn=0;m=e.gd.x*(t+-z*C-p- -y*q)+e.gd.y*(s+z*x-u-y*m);-1>m&&(n.dn+=-e.Eg*m)}2==e.jf&&(s=e.Wb[0],t=e.Wb[1],l=k.I,k=k.R,p=h.I,h=h.R,u=s.Kb.x*d-s.Kb.y*g,s=s.Lb.x*d-s.Lb.y*
g,y=t.Kb.x*d-t.Kb.y*g,t=t.Lb.x*d-t.Lb.y*g,g=l+p+k*u*u+h*s*s,d=l+p+k*y*y+h*t*t,h=l+p+k*u*y+h*s*t,g*g<100*(g*d-h*h)?(e.Qd.j.Set(g,h),e.Qd.k.Set(h,d),e.Qd.tq(e.vh)):e.jf=1)}};r.Re=function(a){for(var c=0;c<this.vm;++c){var b=this.ng[c],d=b.K,g=b.M,e=d.I,f=d.R,n=g.I,k=g.R,h=b.gd.x,l=b.gd.y,m=l,q=-h,p=0,u=0;if(a.Dh)for(u=b.jf,p=0;p<u;++p){var t=b.Wb[p];t.Vb*=a.kc;t.Ig*=a.kc;var s=t.Vb*h+t.Ig*m,y=t.Vb*l+t.Ig*q;d.G-=f*(t.Kb.x*y-t.Kb.y*s);d.u.x-=e*s;d.u.y-=e*y;g.G+=k*(t.Lb.x*y-t.Lb.y*s);g.u.x+=n*s;g.u.y+=
n*y}else for(u=b.jf,p=0;p<u;++p)d=b.Wb[p],d.Vb=0,d.Ig=0}};r.ue=function(){for(var a=0;a<this.vm;a++)this.fA(this.ng[a])};r.fA=function(a){for(var c=a.gd.x,b=a.gd.y,d=0;d<a.jf;d++)Kd.prototype.gA(a,a.Wb[d]);if(1==a.jf){var d=a.Wb[0],g=d.Vb-d.vh*((a.M.u.x-a.M.G*d.Lb.y-a.K.u.x+a.K.G*d.Kb.y)*c+(a.M.u.y+a.M.G*d.Lb.x-a.K.u.y-a.K.G*d.Kb.x)*b-d.dn),g=0<g?g:0,e=g-d.Vb,f=e*c,b=e*b;a.K.u.x-=a.K.I*f;a.K.u.y-=a.K.I*b;a.K.G-=a.K.R*(d.Kb.x*b-d.Kb.y*f);a.M.u.x+=a.M.I*f;a.M.u.y+=a.M.I*b;a.M.G+=a.M.R*(d.Lb.x*b-d.Lb.y*
f);d.Vb=g}else for(var d=a.Wb[0],g=a.Wb[1],e=d.Vb,f=g.Vb,n=(a.M.u.x-a.M.G*d.Lb.y-a.K.u.x+a.K.G*d.Kb.y)*c+(a.M.u.y+a.M.G*d.Lb.x-a.K.u.y-a.K.G*d.Kb.x)*b-d.dn,b=(a.M.u.x-a.M.G*g.Lb.y-a.K.u.x+a.K.G*g.Kb.y)*c+(a.M.u.y+a.M.G*g.Lb.x-a.K.u.y-a.K.G*g.Kb.x)*b-g.dn,n=n-(a.Qd.j.x*e+a.Qd.k.x*f),b=b-(a.Qd.j.y*e+a.Qd.k.y*f);;){c=-(a.vh.j.x*n+a.vh.k.x*b);if(0<=c){var k=-(a.vh.j.y*n+a.vh.k.y*b);if(0<=k){this.Dn(a,d,g,c-e,k-f);d.Vb=c;g.Vb=k;break}}c=-d.vh*n;if(0<=c&&0<=a.Qd.j.y*c+b){this.Dn(a,d,g,c-e,-f);d.Vb=c;g.Vb=
0;break}c=-g.vh*b;if(0<=c&&0<=a.Qd.k.x*c+n){this.Dn(a,d,g,-e,c-f);d.Vb=0;g.Vb=c;break}if(0<=n&&0<=b){this.Dn(a,d,g,-e,-f);d.Vb=0;g.Vb=0;break}break}};r.gA=function(a,c){var b=a.gd.y,d=-a.gd.x,g=a.fg*c.Vb,g=P.rb(c.Ig-c.sE*((a.M.u.x-a.M.G*c.Lb.y-a.K.u.x+a.K.G*c.Kb.y)*b+(a.M.u.y+a.M.G*c.Lb.x-a.K.u.y-a.K.G*c.Kb.x)*d),-g,g),e=g-c.Ig,b=e*b,d=e*d;a.K.u.x-=a.K.I*b;a.K.u.y-=a.K.I*d;a.K.G-=a.K.R*(c.Kb.x*d-c.Kb.y*b);a.M.u.x+=a.M.I*b;a.M.u.y+=a.M.I*d;a.M.G+=a.M.R*(c.Lb.x*d-c.Lb.y*b);c.Ig=g};r.Dn=function(a,c,
b,d,g){var e=d*a.gd.x;d*=a.gd.y;var f=g*a.gd.x;g*=a.gd.y;a.K.u.x-=a.K.I*(e+f);a.K.u.y-=a.K.I*(d+g);a.K.G-=a.K.R*(c.Kb.x*d-c.Kb.y*e+b.Kb.x*g-b.Kb.y*f);a.M.u.x+=a.M.I*(e+f);a.M.u.y+=a.M.I*(d+g);a.M.G+=a.M.R*(c.Lb.x*d-c.Lb.y*e+b.Lb.x*g-b.Lb.y*f);c.Vb=0;b.Vb=0};r.qq=function(){for(var a=0;a<this.vm;++a)for(var c=this.ng[a],b=c.yD,d=0;d<c.jf;++d){var g=b.ka[d],e=c.Wb[d];g.qj=e.Vb;g.uj=e.Ig}};r.te=function(a){void 0===a&&(a=0);for(var c=0,b=0;b<this.vm;b++){var d=this.ng[b],g=d.K,e=d.M,f=g.T*g.I,n=g.T*
g.R,k=e.T*e.I,h=e.T*e.R;ne.Yb(d);for(var l=ne.ra,m=0;m<d.jf;m++){var q=d.Wb[m],p=ne.ka[m],u=ne.pp[m],t=p.x-g.n.B.x,s=p.y-g.n.B.y,y=p.x-e.n.B.x,p=p.y-e.n.B.y,c=c<u?c:u,u=-q.IB*P.rb(a*(u+.005),-.2,0),q=u*l.x,u=u*l.y;g.n.B.x-=f*q;g.n.B.y-=f*u;g.n.L-=n*(t*u-s*q);g.Db();e.n.B.x+=k*q;e.n.B.y+=k*u;e.n.L+=h*(y*u-p*q);e.Db()}}return-.0075<c};var ge=function(a,c){Pd.call(this,a,c)};I(ge,Pd);ge.prototype.Fc=function(a,c){Pd.prototype.Fc.call(this,a,c)};ge.prototype.Wf=function(){this.Fb.pc();this.wb.pc()};var ee=
function(a,c){Pd.call(this,a,c)};I(ee,Pd);ee.prototype.Fc=function(a,c){Pd.prototype.Fc.call(this,a,c)};ee.prototype.Wf=function(){a:{var a=this.Ie,c=this.Fb.pc(),b=this.Fb.Oa().C,d=this.wb.pc(),g=this.wb.Oa().C;a.Ub=0;for(var e=g.position.x+(g.q.j.x*d.Za.x+g.q.k.x*d.Za.y)-b.position.x,f=g.position.y+(g.q.j.y*d.Za.x+g.q.k.y*d.Za.y)-b.position.y,g=e*b.q.j.x+f*b.q.j.y,b=e*b.q.k.x+f*b.q.k.y,e=0,f=-Number.MAX_VALUE,n=c.Qa+d.Qa,k=0;k<c.Ka;++k){var h=c.ta[k].x*(g-c.J[k].x)+c.ta[k].y*(b-c.J[k].y);if(h>n)break a;
h>f&&(f=h,e=k)}h=e+1;h>=c.Ka&&(h=0);var k=c.J[e],l=c.J[h];f<Number.MIN_VALUE?(a.Ub=1,a.La=2,a.Kc.H(c.ta[e]),a.qa.x=.5*(k.x+l.x),a.qa.y=.5*(k.y+l.y),a.ka[0].qa.H(d.Za),a.ka[0].ff.Ji(0)):0>=(g-k.x)*(l.x-k.x)+(b-k.y)*(l.y-k.y)?(g-k.x)*(g-k.x)+(b-k.y)*(b-k.y)>n*n||(a.Ub=1,a.La=2,a.Kc.x=g-k.x,a.Kc.y=b-k.y,a.Kc.qd(),a.qa.H(k),a.ka[0].qa.H(d.Za),a.ka[0].ff.Ji(0)):0>=(g-l.x)*(k.x-l.x)+(b-l.y)*(k.y-l.y)?(g-l.x)*(g-l.x)+(b-l.y)*(b-l.y)>n*n||(a.Ub=1,a.La=2,a.Kc.x=g-l.x,a.Kc.y=b-l.y,a.Kc.qd(),a.qa.H(l),a.ka[0].qa.H(d.Za),
a.ka[0].ff.Ji(0)):(h=.5*(k.x+l.x),k=.5*(k.y+l.y),f=(g-h)*c.ta[e].x+(b-k)*c.ta[e].y,f>n||(a.Ub=1,a.La=2,a.Kc.x=c.ta[e].x,a.Kc.y=c.ta[e].y,a.Kc.qd(),a.qa.Set(h,k),a.ka[0].qa.H(d.Za),a.ka[0].ff.Ji(0)))}};var he=function(a,c){Pd.call(this,a,c)};I(he,Pd);he.prototype.Fc=function(a,c){Pd.prototype.Fc.call(this,a,c)};he.prototype.Wf=function(){this.Fb.pc();this.wb.pc()};var fe=function(a,c){Pd.call(this,a,c)};I(fe,Pd);fe.prototype.Fc=function(a,c){Pd.prototype.Fc.call(this,a,c)};fe.prototype.Wf=function(){var a=
this.Ie,c=this.Fb.pc(),b=this.Fb.Oa().C,d=this.wb.pc(),g=this.wb.Oa().C;a.Ub=0;var e=c.Qa+d.Qa,f=Wc(c,b,d,g),n=f.yv;if(!(f.Hp>e)){var k=Wc(d,g,c,b);if(!(k.Hp>e)){var h=c,l=d,m=b,q=g,p=0;a.La=2;k.Hp>.98*f.Hp+.001&&(h=d,l=c,m=g,q=b,n=k.yv,a.La=4,p=1);c=n;b=q;d=oe;void 0===c&&(c=0);for(var g=m.q.j.x*h.ta[c].x+m.q.k.x*h.ta[c].y,f=m.q.j.y*h.ta[c].x+m.q.k.y*h.ta[c].y,k=b.q.j.x*g+b.q.j.y*f,f=b.q.k.x*g+b.q.k.y*f,g=k,k=0,u=Number.MAX_VALUE,t=0;t<l.Ka;t++){var s=g*l.ta[t].x+f*l.ta[t].y;s<u&&(u=s,k=t)}g=k+1;
g>=l.Ka&&(g=0);d[0].Ne.x=b.position.x+(b.q.j.x*l.J[k].x+b.q.k.x*l.J[k].y);d[0].Ne.y=b.position.y+(b.q.j.y*l.J[k].x+b.q.k.y*l.J[k].y);d[0].id.Zu(c);d[0].id.Xu(k);d[0].id.Yu(0);d[1].Ne.x=b.position.x+(b.q.j.x*l.J[g].x+b.q.k.x*l.J[g].y);d[1].Ne.y=b.position.y+(b.q.j.y*l.J[g].x+b.q.k.y*l.J[g].y);d[1].id.Zu(c);d[1].id.Xu(g);d[1].id.Yu(1);c=h.J[n];n=n+1<h.Ka?h.J[n+1]:h.J[0];pe.Set(n.x-c.x,n.y-c.y);pe.qd();qe.x=pe.y;qe.y=-pe.x;re.Set(.5*(c.x+n.x),.5*(c.y+n.y));se.x=m.q.j.x*pe.x+m.q.k.x*pe.y;se.y=m.q.j.y*
pe.x+m.q.k.y*pe.y;te.x=-se.x;te.y=-se.y;ue.x=se.y;ue.y=-se.x;ve.x=m.position.x+(m.q.j.x*c.x+m.q.k.x*c.y);ve.y=m.position.y+(m.q.j.y*c.x+m.q.k.y*c.y);we.x=m.position.x+(m.q.j.x*n.x+m.q.k.x*n.y);we.y=m.position.y+(m.q.j.y*n.x+m.q.k.y*n.y);if(!(2>Uc(xe,oe,te,-se.x*ve.x-se.y*ve.y+e)||2>Uc(ye,xe,se,se.x*we.x+se.y*we.y+e))){a.Kc.H(qe);a.qa.H(re);m=ue.x*ve.x+ue.y*ve.y;for(h=n=0;2>h;++h)ue.x*ye[h].Ne.x+ue.y*ye[h].Ne.y-m<=e&&(c=ye[h].Ne.x-q.position.x,l=ye[h].Ne.y-q.position.y,a.ka[n].qa.x=c*q.q.j.x+l*q.q.j.y,
a.ka[n].qa.y=c*q.q.k.x+l*q.q.k.y,a.ka[n].ff.Set(ye[h].id),a.ka[n].ff.Xz(p),n++);a.Ub=n}}}};var Ae=function(){this.nd="Controller"+ze++;this.Ca=null;this.Gc=new wd};Ae.prototype.Pg=function(){};Ae.prototype.Hj=function(a){this.Gc.Hj(a);a.al(this)};Ae.prototype.nl=function(a){this.Gc.nl(a);a.ol(this)};Ae.prototype.mn=function(){for(var a=this.Gc.Ga(vd);a;a=a.next)this.nl(a.body)};var ze=0,Be=function(){Ae.call(this);this.gd=K.A(0,-1);this.Af=this.offset=0;this.Iy=K.A(0,0);this.bD=2;this.JA=1;this.CE=
!0;this.mw=null};I(Be,Ae);Be.prototype.Pg=function(){this.CE&&(this.mw=this.Ca.Ts.hc());for(var a=this.Gc.Ga(Ad);a;a=a.next){for(var c=a.body,b=K.A(0,0),d=K.A(0,0),g=0,e=0,f=c.sq().Ga();f;f=f.next){var n=K.A(0,0),k=f.Ze.pc().on(this.gd,this.offset,c.Pd(),n),g=g+k;b.x+=k*n.x;b.y+=k*n.y;var h=0,h=1,e=e+k*h;d.x+=k*n.x*h;d.y+=k*n.y*h}g<Number.MIN_VALUE||(b.x/=g,b.y/=g,d.x/=e,d.y/=e,e=this.mw.Jh(),e.od(this.Af*g),c.pf(e,d),e=c.mz(b),e.Mq(this.Iy),e.od(-this.bD*g),c.pf(e,b),c.kn(-c.df/c.Nj()*g*c.tn()*this.JA),
K.Xb(b),K.Xb(d))}};var Ce=function(){Ae.call(this);this.pu=K.A(0,0)};I(Ce,Ae);Ce.prototype.Pg=function(a){a=K.A(this.pu.x*a.za,this.pu.y*a.za);for(var c=this.Gc.Ga(Ad);c;c=c.next){var b=c.body,d=b.Ih();b.Ki(K.A(d.x+a.x,d.y+a.y))}K.Xb(a)};var De=function(){Ae.call(this);this.jz=K.A(0,0)};I(De,Ae);De.prototype.Pg=function(){for(var a=this.Gc.Ga(Ad);a;a=a.next){var c=a.body;c.pf(this.jz,c.Oj())}};var sd=function(){this.kr=this.jr=null;this.Un={}};sd.prototype.Ga=function(){return this.jr};sd.prototype.al=
function(a){var c=a.nd;if(null==this.Un[c]){a=new Ee(a);var b=this.kr;null!=b?b.sf(a):this.jr=a;a.tf(b);this.kr=a;this.Un[c]=a}};sd.prototype.ol=function(a){a=a.nd;var c=this.Un[a];if(null!=c){var b=c.kf,c=c.next;null==b?this.jr=c:b.sf(c);null==c?this.kr=b:c.tf(b);delete this.Un[a]}};var Ee=function(a){this.Mv=a;this.kf=this.next=null};Ee.prototype.sf=function(a){this.next=a};Ee.prototype.tf=function(a){this.kf=a};var Fe=function(){Ae.call(this);this.xu=1;this.RC=!0};I(Fe,Ae);Fe.prototype.Pg=function(){var a=
null,c=null,b=0,d=null,g=null,e=0,f=0,n=0,e=null;if(this.RC)for(var k=this.Gc.Ga(vd);k;k=k.next)for(var a=k.body,c=a.Oj(),b=a.Nj(),h=this.Gc.Ga(vd);h;h=h.next){if(d=h.body,a.Zc()||d.Zc())g=d.Oj(),e=g.x-c.x,f=g.y-c.y,n=e*e+f*f,n<Number.MIN_VALUE||(e=K.A(e,f),e.od(this.xu/n/Math.sqrt(n)*b*d.Nj()),a.Zc()&&a.pf(e,c),e.od(-1),d.Zc()&&d.pf(e,g),K.Xb(e))}else for(k=this.Gc.Ga(vd);k;k=k.next)for(a=bodyNode.body,c=a.Oj(),b=a.Nj(),h=this.Gc.Ga(vd);h;h=h.next)if(d=bodyNode.body,a.Zc()||d.Zc())g=d.Oj(),e=g.x-
c.x,f=g.y-c.y,n=e*e+f*f,n<Number.MIN_VALUE||(e=K.A(e,f),e.od(this.xu/n*b*d.Nj()),a.Zc()&&a.pf(e,c),e.od(-1),d.Zc()&&d.pf(e,g),K.Xb(e))};var Ge=function(){Ae.call(this);this.hA=new O;this.ht=0};I(Ge,Ae);Ge.prototype.Pg=function(a){a=a.za;if(!(a<=Number.MIN_VALUE)){a>this.ht&&0<this.ht&&(a=this.ht);for(var c=this.Gc.Ga(Ad);c;c=c.next){var b=c.body,d=b.vq(P.Ob(this.hA,b.uq(b.Ih())));b.Ki(K.A(b.Ih().x+d.x*a,b.Ih().y+d.y*a))}}};var Y=function(a){this.xd=new He;this.yd=new He;this.qg=K.A(0,0);this.rg=K.A(0,
0);this.La=a.type;this.ji=this.xk=null;this.U=a.K;this.V=a.M;this.dx=a.hr};Y.prototype.Ec=function(){return this.La};Y.prototype.gl=function(){return this.U};Y.prototype.rq=function(){return this.V};Y.prototype.Hi=function(){return this.U.Hi()&&this.V.Hi()};Y.Qe=function(a){return a.Qe()};Y.prototype.Re=function(){};Y.prototype.ue=function(){};Y.prototype.qq=function(){};Y.prototype.te=function(){return!1};Y.BB=0;Y.Zj=1;Y.zB=2;Y.ur=3;Y.AB=4;Y.QF=5;Y.xB=6;Y.yB=7;Y.CB=8;Y.wB=9;Y.td=0;Y.cg=1;Y.Ic=2;
Y.Sh=3;var Ie=function(){this.type=Y.BB;this.M=this.K=null;this.hr=!1},He=function(){},Je=function(a){Y.call(this,a);this.ea=K.A(0,0);this.fa=K.A(0,0);this.nc=K.A(0,0);this.ea.H(a.ob);this.fa.H(a.pb);this.Us=a.length;this.Rs=a.wo;this.hD=a.ao;this.cx=this.pj=this.D=0};I(Je,Y);Je.prototype.Re=function(a){var c,b=0,d=this.U,g=this.V;c=d.C.q;var e=this.ea.x-d.n.P.x,f=this.ea.y-d.n.P.y,b=c.j.x*e+c.k.x*f,f=c.j.y*e+c.k.y*f,e=b;c=g.C.q;var n=this.fa.x-g.n.P.x,k=this.fa.y-g.n.P.y,b=c.j.x*n+c.k.x*k,k=c.j.y*
n+c.k.y*k,n=b;this.nc.x=g.n.B.x+n-d.n.B.x-e;this.nc.y=g.n.B.y+k-d.n.B.y-f;b=Math.sqrt(this.nc.x*this.nc.x+this.nc.y*this.nc.y);.005<b?this.nc.od(1/b):this.nc.ga();c=e*this.nc.y-f*this.nc.x;var h=n*this.nc.y-k*this.nc.x;c=d.I+d.R*c*c+g.I+g.R*h*h;this.T=0!=c?1/c:0;if(0<this.Rs){var b=b-this.Us,h=2*Math.PI*this.Rs,l=this.T*h*h;this.pj=a.za*(2*this.T*this.hD*h+a.za*l);this.pj=0!=this.pj?1/this.pj:0;this.cx=b*a.za*l*this.pj;this.T=c+this.pj;this.T=0!=this.T?1/this.T:0}a.Dh?(this.D*=a.kc,a=this.D*this.nc.x,
c=this.D*this.nc.y,d.u.x-=d.I*a,d.u.y-=d.I*c,d.G-=d.R*(e*c-f*a),g.u.x+=g.I*a,g.u.y+=g.I*c,g.G+=g.R*(n*c-k*a)):this.D=0};Je.prototype.ue=function(){var a=this.ea.x-this.U.n.P.x,c=this.ea.y-this.U.n.P.y,b=this.U.C.q.j.x*a+this.U.C.q.k.x*c,c=this.U.C.q.j.y*a+this.U.C.q.k.y*c,a=b,d=this.fa.x-this.V.n.P.x,g=this.fa.y-this.V.n.P.y,b=this.V.C.q.j.x*d+this.V.C.q.k.x*g,g=this.V.C.q.j.y*d+this.V.C.q.k.y*g,d=b,e=-this.T*(this.nc.x*(this.V.u.x-this.V.G*g-(this.U.u.x-this.U.G*c))+this.nc.y*(this.V.u.y+this.V.G*
d-(this.U.u.y+this.U.G*a))+this.cx+this.pj*this.D);this.D+=e;b=e*this.nc.x;e*=this.nc.y;this.U.u.x-=this.U.I*b;this.U.u.y-=this.U.I*e;this.U.G-=this.U.R*(a*e-c*b);this.V.u.x+=this.V.I*b;this.V.u.y+=this.V.I*e;this.V.G+=this.V.R*(d*e-g*b)};Je.prototype.te=function(){if(0<this.Rs)return!0;var a=this.ea.x-this.U.n.P.x,c=this.ea.y-this.U.n.P.y,b=this.U.C.q.j.x*a+this.U.C.q.k.x*c,c=this.U.C.q.j.y*a+this.U.C.q.k.y*c,a=b,d=this.fa.x-this.V.n.P.x,g=this.fa.y-this.V.n.P.y,b=this.V.C.q.j.x*d+this.V.C.q.k.x*
g,g=this.V.C.q.j.y*d+this.V.C.q.k.y*g,d=b,e=this.V.n.B.x+d-this.U.n.B.x-a,f=this.V.n.B.y+g-this.U.n.B.y-c,n=Math.sqrt(e*e+f*f),b=P.rb(n-this.Us,-.2,.2),k=-this.T*b;this.nc.Set(e/n,f/n);e=k*this.nc.x;k*=this.nc.y;this.U.n.B.x-=this.U.I*e;this.U.n.B.y-=this.U.I*k;this.U.n.L-=this.U.R*(a*k-c*e);this.V.n.B.x+=this.V.I*e;this.V.n.B.y+=this.V.I*k;this.V.n.L+=this.V.R*(d*k-g*e);this.U.Db();this.V.Db();return.005>Math.abs(b)};var zc=function(){Ie.call(this);this.ob=K.A(0,0);this.pb=K.A(0,0);this.type=Y.ur;
this.length=1;this.ao=this.wo=0};I(zc,Ie);zc.prototype.Yb=function(a,c,b,d){this.K=a;this.M=c;this.ob.H(this.K.Yc(b));this.pb.H(this.M.Yc(d));a=d.x-b.x;b=d.y-b.y;this.length=Math.sqrt(a*a+b*b);this.ao=this.wo=0};zc.prototype.Qe=function(){return new Je(this)};var Ke=function(a){Y.call(this,a);this.Fe=K.A(0,0);this.Ge=K.A(0,0);this.Xs=new O;this.Ee=K.A(0,0);this.Fe.H(a.ob);this.Ge.H(a.pb);this.Xs.ga();this.tm=0;this.Ee.ga();this.kh=0;this.sD=a.AD;this.uD=a.BD};I(Ke,Y);Ke.prototype.Re=function(a){var c,
b=0,d=this.U,g=this.V;c=d.C.q;var e=this.Fe.x-d.n.P.x,f=this.Fe.y-d.n.P.y,b=c.j.x*e+c.k.x*f,f=c.j.y*e+c.k.y*f,e=b;c=g.C.q;var n=this.Ge.x-g.n.P.x,k=this.Ge.y-g.n.P.y,b=c.j.x*n+c.k.x*k,k=c.j.y*n+c.k.y*k,n=b;c=d.I;var b=g.I,h=d.R,l=g.R,m=new O;m.j.x=c+b;m.k.x=0;m.j.y=0;m.k.y=c+b;m.j.x+=h*f*f;m.k.x+=-h*e*f;m.j.y+=-h*e*f;m.k.y+=h*e*e;m.j.x+=l*k*k;m.k.x+=-l*n*k;m.j.y+=-l*n*k;m.k.y+=l*n*n;m.tq(this.Xs);this.tm=h+l;0<this.tm&&(this.tm=1/this.tm);a.Dh?(this.Ee.x*=a.kc,this.Ee.y*=a.kc,this.kh*=a.kc,a=this.Ee,
d.u.x-=c*a.x,d.u.y-=c*a.y,d.G-=h*(e*a.y-f*a.x+this.kh),g.u.x+=b*a.x,g.u.y+=b*a.y,g.G+=l*(n*a.y-k*a.x+this.kh)):(this.Ee.ga(),this.kh=0)};Ke.prototype.ue=function(a){var c,b=0,d=this.U,g=this.V,e=d.u,f=d.G,n=g.u,k=g.G,h=d.I,l=g.I,m=d.R,q=g.R;c=d.C.q;var p=this.Fe.x-d.n.P.x,u=this.Fe.y-d.n.P.y,b=c.j.x*p+c.k.x*u,u=c.j.y*p+c.k.y*u,p=b;c=g.C.q;var t=this.Ge.x-g.n.P.x,s=this.Ge.y-g.n.P.y,b=c.j.x*t+c.k.x*s,s=c.j.y*t+c.k.y*s,t=b;c=0;var b=-this.tm*(k-f),y=this.kh;c=a.za*this.uD;this.kh=P.rb(this.kh+b,-c,
c);b=this.kh-y;f-=m*b;k+=q*b;c=P.Ob(this.Xs,K.A(-(n.x-k*s-e.x+f*u),-(n.y+k*t-e.y-f*p)));b=this.Ee.hc();this.Ee.Mg(c);c=a.za*this.sD;this.Ee.An()>c*c&&(this.Ee.qd(),this.Ee.od(c));c=P.nb(this.Ee,b);e.x-=h*c.x;e.y-=h*c.y;f-=m*(p*c.y-u*c.x);n.x+=l*c.x;n.y+=l*c.y;k+=q*(t*c.y-s*c.x);d.G=f;g.G=k};Ke.prototype.te=function(){return!0};var Le=function(){Ie.call(this);this.ob=K.A(0,0);this.pb=K.A(0,0);this.type=Y.wB;this.BD=this.AD=0};I(Le,Ie);Le.prototype.Yb=function(a,c,b){this.K=a;this.M=c;this.ob.H(this.K.Yc(b));
this.pb.H(this.M.Yc(b))};Le.prototype.Qe=function(){return new Ke(this)};var Ne=function(a){Y.call(this,a);this.ph=K.A(0,0);this.qh=K.A(0,0);this.ea=K.A(0,0);this.fa=K.A(0,0);this.ub=new Me;var c=a.nk.La,b=a.ok.La;this.zk=this.tj=this.yk=this.sj=null;var d=0,g=0;this.kD=a.nk.gl();this.U=a.nk.rq();c==Y.Zj?(this.sj=a.nk,this.ph.H(this.sj.ea),this.ea.H(this.sj.fa),d=this.sj.un()):(this.yk=a.nk,this.ph.H(this.yk.ea),this.ea.H(this.yk.fa),d=this.yk.il());this.lD=a.ok.gl();this.V=a.ok.rq();b==Y.Zj?(this.tj=
a.ok,this.qh.H(this.tj.ea),this.fa.H(this.tj.fa),g=this.tj.un()):(this.zk=a.ok,this.qh.H(this.zk.ea),this.fa.H(this.zk.fa),g=this.zk.il());this.Ib=a.si;this.wk=d+this.Ib*g;this.D=0};I(Ne,Y);Ne.prototype.Re=function(a){var c=this.kD,b=this.lD,d=this.U,g=this.V,e=0,f=0,n=0,k=0,h=n=0,l=0;this.ub.ga();this.sj?(this.ub.Mi=-1,l+=d.R):(c=c.C.q,f=this.yk.Kd,e=c.j.x*f.x+c.k.x*f.y,f=c.j.y*f.x+c.k.y*f.y,c=d.C.q,n=this.ea.x-d.n.P.x,k=this.ea.y-d.n.P.y,h=c.j.x*n+c.k.x*k,k=c.j.y*n+c.k.y*k,n=h*f-k*e,this.ub.Hf.Set(-e,
-f),this.ub.Mi=-n,l+=d.I+d.R*n*n);this.tj?(this.ub.Ni=-this.Ib,l+=this.Ib*this.Ib*g.R):(c=b.C.q,f=this.zk.Kd,e=c.j.x*f.x+c.k.x*f.y,f=c.j.y*f.x+c.k.y*f.y,c=g.C.q,n=this.fa.x-g.n.P.x,k=this.fa.y-g.n.P.y,h=c.j.x*n+c.k.x*k,k=c.j.y*n+c.k.y*k,n=h*f-k*e,this.ub.If.Set(-this.Ib*e,-this.Ib*f),this.ub.Ni=-this.Ib*n,l+=this.Ib*this.Ib*(g.I+g.R*n*n));this.T=0<l?1/l:0;a.Dh?(d.u.x+=d.I*this.D*this.ub.Hf.x,d.u.y+=d.I*this.D*this.ub.Hf.y,d.G+=d.R*this.D*this.ub.Mi,g.u.x+=g.I*this.D*this.ub.If.x,g.u.y+=g.I*this.D*
this.ub.If.y,g.G+=g.R*this.D*this.ub.Ni):this.D=0};Ne.prototype.ue=function(){var a=this.U,c=this.V,b=-this.T*this.ub.bz(a.u,a.G,c.u,c.G);this.D+=b;a.u.x+=a.I*b*this.ub.Hf.x;a.u.y+=a.I*b*this.ub.Hf.y;a.G+=a.R*b*this.ub.Mi;c.u.x+=c.I*b*this.ub.If.x;c.u.y+=c.I*b*this.ub.If.y;c.G+=c.R*b*this.ub.Ni};Ne.prototype.te=function(){var a=this.U,c=this.V,b=0,d=0,b=this.sj?this.sj.un():this.yk.il(),d=this.tj?this.tj.un():this.zk.il(),b=-this.T*(this.wk-(b+this.Ib*d));a.n.B.x+=a.I*b*this.ub.Hf.x;a.n.B.y+=a.I*
b*this.ub.Hf.y;a.n.L+=a.R*b*this.ub.Mi;c.n.B.x+=c.I*b*this.ub.If.x;c.n.B.y+=c.I*b*this.ub.If.y;c.n.L+=c.R*b*this.ub.Ni;a.Db();c.Db();return!0};var Oe=function(){Ie.call(this);this.type=Y.xB;this.ok=this.nk=null;this.si=1};I(Oe,Ie);Oe.prototype.Yb=function(a,c,b){this.nk=a;this.K=a.gl();this.ok=c;this.M=c.gl();this.si=b};Oe.prototype.Qe=function(){return new Ne(this)};var Me=function(){this.Hf=K.A(0,0);this.If=K.A(0,0)};Me.prototype.ga=function(){this.Hf.ga();this.Mi=0;this.If.ga();this.Ni=0};Me.prototype.Set=
function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.Hf.H(a);this.Mi=c;this.If.H(b);this.Ni=d};Me.prototype.bz=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);return this.Hf.x*a.x+this.Hf.y*a.y+this.Mi*c+(this.If.x*b.x+this.If.y*b.y)+this.Ni*d};var Pe=function(a){Y.call(this,a);this.ea=K.A(0,0);this.fa=K.A(0,0);this.Kd=K.A(0,0);this.rh=K.A(0,0);this.S=K.A(0,0);this.ia=K.A(0,0);this.ca=new O;this.D=K.A(0,0);this.ea.H(a.ob);this.fa.H(a.pb);this.Kd.H(a.kj);this.rh.x=-this.Kd.y;this.rh.y=
this.Kd.x;this.D.ga();this.Ja=this.zd=0;this.He=a.Ms;this.Je=a.iu;this.Ys=a.et;this.zm=a.Hk;this.Kf=a.Yi;this.ii=a.$j;this.wa=Y.td;this.S.ga();this.ia.ga()};I(Pe,Y);Pe.prototype.il=function(){var a=this.U,c=this.V,b=a.xn(this.ea),d=c.xn(this.fa),c=d.x-b.x,b=d.y-b.y,a=a.vq(this.Kd);return a.x*c+a.y*b};Pe.prototype.Re=function(a){var c=this.U,b=this.V,d,g=0;this.qg.H(c.Fi());this.rg.H(b.Fi());var e=c.Pd();b.Pd();d=c.C.q;var f=this.ea.x-this.qg.x,n=this.ea.y-this.qg.y,g=d.j.x*f+d.k.x*n,n=d.j.y*f+d.k.y*
n,f=g;d=b.C.q;var k=this.fa.x-this.rg.x,h=this.fa.y-this.rg.y,g=d.j.x*k+d.k.x*h,h=d.j.y*k+d.k.y*h,k=g;d=b.n.B.x+k-c.n.B.x-f;g=b.n.B.y+h-c.n.B.y-n;this.Gb=c.I;this.Hb=b.I;this.dd=c.R;this.ed=b.R;this.S.H(P.Ob(e.q,this.Kd));this.Sa=(d+f)*this.S.y-(g+n)*this.S.x;this.Ta=k*this.S.y-h*this.S.x;this.zd=this.Gb+this.Hb+this.dd*this.Sa*this.Sa+this.ed*this.Ta*this.Ta;this.zd=this.zd>Number.MIN_VALUE?1/this.zd:0;this.ia.H(P.Ob(e.q,this.rh));this.Va=(d+f)*this.ia.y-(g+n)*this.ia.x;this.Wa=k*this.ia.y-h*this.ia.x;
e=this.Gb;f=this.Hb;n=this.dd;k=this.ed;this.ca.j.x=e+f+n*this.Va*this.Va+k*this.Wa*this.Wa;this.ca.j.y=n*this.Va*this.Sa+k*this.Wa*this.Ta;this.ca.k.x=this.ca.j.y;this.ca.k.y=e+f+n*this.Sa*this.Sa+k*this.Ta*this.Ta;this.Kf?(d=this.S.x*d+this.S.y*g,.01>Math.abs(this.Je-this.He)?this.wa=Y.Sh:d<=this.He?this.wa!=Y.cg&&(this.wa=Y.cg,this.D.y=0):d>=this.Je?this.wa!=Y.Ic&&(this.wa=Y.Ic,this.D.y=0):(this.wa=Y.td,this.D.y=0)):this.wa=Y.td;0==this.ii&&(this.Ja=0);a.Dh?(this.D.x*=a.kc,this.D.y*=a.kc,this.Ja*=
a.kc,a=this.D.x*this.ia.x+(this.Ja+this.D.y)*this.S.x,d=this.D.x*this.ia.y+(this.Ja+this.D.y)*this.S.y,g=this.D.x*this.Va+(this.Ja+this.D.y)*this.Sa,e=this.D.x*this.Wa+(this.Ja+this.D.y)*this.Ta,c.u.x-=this.Gb*a,c.u.y-=this.Gb*d,c.G-=this.dd*g,b.u.x+=this.Hb*a,b.u.y+=this.Hb*d,b.G+=this.ed*e):(this.D.ga(),this.Ja=0)};Pe.prototype.ue=function(a){var c=this.U,b=this.V,d=c.u,g=c.G,e=b.u,f=b.G,n=0,k=0,h=0,l=0;this.ii&&this.wa!=Y.Sh&&(l=this.zd*(this.zm-(this.S.x*(e.x-d.x)+this.S.y*(e.y-d.y)+this.Ta*f-
this.Sa*g)),n=this.Ja,k=a.za*this.Ys,this.Ja=P.rb(this.Ja+l,-k,k),l=this.Ja-n,n=l*this.S.x,k=l*this.S.y,h=l*this.Sa,l*=this.Ta,d.x-=this.Gb*n,d.y-=this.Gb*k,g-=this.dd*h,e.x+=this.Hb*n,e.y+=this.Hb*k,f+=this.ed*l);k=this.ia.x*(e.x-d.x)+this.ia.y*(e.y-d.y)+this.Wa*f-this.Va*g;this.Kf&&this.wa!=Y.td?(h=this.S.x*(e.x-d.x)+this.S.y*(e.y-d.y)+this.Ta*f-this.Sa*g,n=this.D.hc(),a=this.ca.Mh(K.A(0,0),-k,-h),this.D.Mg(a),this.wa==Y.cg?this.D.y=Math.max(this.D.y,0):this.wa==Y.Ic&&(this.D.y=Math.min(this.D.y,
0)),k=-k-(this.D.y-n.y)*this.ca.k.x,h=0,h=0!=this.ca.j.x?k/this.ca.j.x+n.x:n.x,this.D.x=h,a.x=this.D.x-n.x,a.y=this.D.y-n.y,n=a.x*this.ia.x+a.y*this.S.x,k=a.x*this.ia.y+a.y*this.S.y,h=a.x*this.Va+a.y*this.Sa,l=a.x*this.Wa+a.y*this.Ta):(a=0,a=0!=this.ca.j.x?-k/this.ca.j.x:0,this.D.x+=a,n=a*this.ia.x,k=a*this.ia.y,h=a*this.Va,l=a*this.Wa);d.x-=this.Gb*n;d.y-=this.Gb*k;g-=this.dd*h;e.x+=this.Hb*n;e.y+=this.Hb*k;f+=this.ed*l;c.u.H(d);c.G=g;b.u.H(e);b.G=f};Pe.prototype.te=function(){var a=this.U,c=this.V,
b=a.n.B,d=a.n.L,g=c.n.B,e=c.n.L,f,n=0,k=0,h=0,l=0,m=f=0,q=0,k=!1,p=0,u=O.Mj(d),h=O.Mj(e);f=u;var q=this.ea.x-this.qg.x,t=this.ea.y-this.qg.y,n=f.j.x*q+f.k.x*t,t=f.j.y*q+f.k.y*t,q=n;f=h;h=this.fa.x-this.rg.x;l=this.fa.y-this.rg.y;n=f.j.x*h+f.k.x*l;l=f.j.y*h+f.k.y*l;h=n;f=g.x+h-b.x-q;n=g.y+l-b.y-t;if(this.Kf){this.S=P.Ob(u,this.Kd);this.Sa=(f+q)*this.S.y-(n+t)*this.S.x;this.Ta=h*this.S.y-l*this.S.x;var s=this.S.x*f+this.S.y*n;.01>Math.abs(this.Je-this.He)?(p=P.rb(s,-.2,.2),m=Math.abs(s),k=!0):s<=this.He?
(p=P.rb(s-this.He+.005,-.2,0),m=this.He-s,k=!0):s>=this.Je&&(p=P.rb(s-this.Je+.005,0,.2),m=s-this.Je,k=!0)}this.ia=P.Ob(u,this.rh);this.Va=(f+q)*this.ia.y-(n+t)*this.ia.x;this.Wa=h*this.ia.y-l*this.ia.x;u=K.A(0,0);t=this.ia.x*f+this.ia.y*n;m=Math.max(m,Math.abs(t));q=0;k?(k=this.Gb,h=this.Hb,l=this.dd,f=this.ed,this.ca.j.x=k+h+l*this.Va*this.Va+f*this.Wa*this.Wa,this.ca.j.y=l*this.Va*this.Sa+f*this.Wa*this.Ta,this.ca.k.x=this.ca.j.y,this.ca.k.y=k+h+l*this.Sa*this.Sa+f*this.Ta*this.Ta,this.ca.Mh(u,
-t,-p)):(k=this.Gb,h=this.Hb,l=this.dd,f=this.ed,p=k+h+l*this.Va*this.Va+f*this.Wa*this.Wa,u.x=0!=p?-t/p:0,u.y=0);p=u.x*this.ia.x+u.y*this.S.x;k=u.x*this.ia.y+u.y*this.S.y;t=u.x*this.Va+u.y*this.Sa;u=u.x*this.Wa+u.y*this.Ta;b.x-=this.Gb*p;b.y-=this.Gb*k;d-=this.dd*t;g.x+=this.Hb*p;g.y+=this.Hb*k;e+=this.ed*u;a.n.L=d;c.n.L=e;a.Db();c.Db();return.005>=m&&q<=Bc};var Qe=function(){Ie.call(this);this.ob=K.A(0,0);this.pb=K.A(0,0);this.kj=K.A(0,0);this.type=Y.yB;this.kj.Set(1,0);this.Yi=!1;this.iu=this.Ms=
0;this.$j=!1;this.Hk=this.et=0};I(Qe,Ie);Qe.prototype.Yb=function(a,c,b,d){this.K=a;this.M=c;this.ob=this.K.Yc(b);this.pb=this.M.Yc(b);this.kj=this.K.uq(d)};Qe.prototype.Qe=function(){return new Pe(this)};var Re=function(a){Y.call(this,a);this.ea=K.A(0,0);this.fa=K.A(0,0);this.Kd=K.A(0,0);this.rh=K.A(0,0);this.S=K.A(0,0);this.ia=K.A(0,0);this.ca=new Kc;this.D=new Jc(0,0,0);this.ea.H(a.ob);this.fa.H(a.pb);this.Kd.H(a.kj);this.rh.x=-this.Kd.y;this.rh.y=this.Kd.x;this.vD=a.Cg;this.D.ga();this.Ja=this.zd=
0;this.He=a.Ms;this.Je=a.iu;this.Ys=a.et;this.zm=a.Hk;this.Kf=a.Yi;this.ii=a.$j;this.wa=Y.td;this.S.ga();this.ia.ga()};I(Re,Y);Re.prototype.il=function(){var a=this.U,c=this.V,b=a.xn(this.ea),d=c.xn(this.fa),c=d.x-b.x,b=d.y-b.y,a=a.vq(this.Kd);return a.x*c+a.y*b};Re.prototype.Re=function(a){var c=this.U,b=this.V,d,g=0;this.qg.H(c.Fi());this.rg.H(b.Fi());var e=c.Pd();b.Pd();d=c.C.q;var f=this.ea.x-this.qg.x,n=this.ea.y-this.qg.y,g=d.j.x*f+d.k.x*n,n=d.j.y*f+d.k.y*n,f=g;d=b.C.q;var k=this.fa.x-this.rg.x,
h=this.fa.y-this.rg.y,g=d.j.x*k+d.k.x*h,h=d.j.y*k+d.k.y*h,k=g;d=b.n.B.x+k-c.n.B.x-f;g=b.n.B.y+h-c.n.B.y-n;this.Gb=c.I;this.Hb=b.I;this.dd=c.R;this.ed=b.R;this.S.H(P.Ob(e.q,this.Kd));this.Sa=(d+f)*this.S.y-(g+n)*this.S.x;this.Ta=k*this.S.y-h*this.S.x;this.zd=this.Gb+this.Hb+this.dd*this.Sa*this.Sa+this.ed*this.Ta*this.Ta;this.zd>Number.MIN_VALUE&&(this.zd=1/this.zd);this.ia.H(P.Ob(e.q,this.rh));this.Va=(d+f)*this.ia.y-(g+n)*this.ia.x;this.Wa=k*this.ia.y-h*this.ia.x;e=this.Gb;f=this.Hb;n=this.dd;k=
this.ed;this.ca.j.x=e+f+n*this.Va*this.Va+k*this.Wa*this.Wa;this.ca.j.y=n*this.Va+k*this.Wa;this.ca.j.z=n*this.Va*this.Sa+k*this.Wa*this.Ta;this.ca.k.x=this.ca.j.y;this.ca.k.y=n+k;this.ca.k.z=n*this.Sa+k*this.Ta;this.ca.oa.x=this.ca.j.z;this.ca.oa.y=this.ca.k.z;this.ca.oa.z=e+f+n*this.Sa*this.Sa+k*this.Ta*this.Ta;this.Kf?(d=this.S.x*d+this.S.y*g,.01>Math.abs(this.Je-this.He)?this.wa=Y.Sh:d<=this.He?this.wa!=Y.cg&&(this.wa=Y.cg,this.D.z=0):d>=this.Je?this.wa!=Y.Ic&&(this.wa=Y.Ic,this.D.z=0):(this.wa=
Y.td,this.D.z=0)):this.wa=Y.td;0==this.ii&&(this.Ja=0);a.Dh?(this.D.x*=a.kc,this.D.y*=a.kc,this.Ja*=a.kc,a=this.D.x*this.ia.x+(this.Ja+this.D.z)*this.S.x,d=this.D.x*this.ia.y+(this.Ja+this.D.z)*this.S.y,g=this.D.x*this.Va+this.D.y+(this.Ja+this.D.z)*this.Sa,e=this.D.x*this.Wa+this.D.y+(this.Ja+this.D.z)*this.Ta,c.u.x-=this.Gb*a,c.u.y-=this.Gb*d,c.G-=this.dd*g,b.u.x+=this.Hb*a,b.u.y+=this.Hb*d,b.G+=this.ed*e):(this.D.ga(),this.Ja=0)};Re.prototype.ue=function(a){var c=this.U,b=this.V,d=c.u,g=c.G,e=
b.u,f=b.G,n=0,k=0,h=0,l=0;this.ii&&this.wa!=Y.Sh&&(l=this.zd*(this.zm-(this.S.x*(e.x-d.x)+this.S.y*(e.y-d.y)+this.Ta*f-this.Sa*g)),n=this.Ja,a=a.za*this.Ys,this.Ja=P.rb(this.Ja+l,-a,a),l=this.Ja-n,n=l*this.S.x,k=l*this.S.y,h=l*this.Sa,l*=this.Ta,d.x-=this.Gb*n,d.y-=this.Gb*k,g-=this.dd*h,e.x+=this.Hb*n,e.y+=this.Hb*k,f+=this.ed*l);h=this.ia.x*(e.x-d.x)+this.ia.y*(e.y-d.y)+this.Wa*f-this.Va*g;k=f-g;this.Kf&&this.wa!=Y.td?(a=this.S.x*(e.x-d.x)+this.S.y*(e.y-d.y)+this.Ta*f-this.Sa*g,n=this.D.hc(),a=
this.ca.tl(new Jc(0,0,0),-h,-k,-a),this.D.Mg(a),this.wa==Y.cg?this.D.z=Math.max(this.D.z,0):this.wa==Y.Ic&&(this.D.z=Math.min(this.D.z,0)),h=-h-(this.D.z-n.z)*this.ca.oa.x,k=-k-(this.D.z-n.z)*this.ca.oa.y,k=this.ca.Sj(K.A(0,0),h,k),k.x+=n.x,k.y+=n.y,this.D.x=k.x,this.D.y=k.y,a.x=this.D.x-n.x,a.y=this.D.y-n.y,a.z=this.D.z-n.z,n=a.x*this.ia.x+a.z*this.S.x,k=a.x*this.ia.y+a.z*this.S.y,h=a.x*this.Va+a.y+a.z*this.Sa,l=a.x*this.Wa+a.y+a.z*this.Ta):(a=this.ca.Sj(K.A(0,0),-h,-k),this.D.x+=a.x,this.D.y+=a.y,
n=a.x*this.ia.x,k=a.x*this.ia.y,h=a.x*this.Va+a.y,l=a.x*this.Wa+a.y);d.x-=this.Gb*n;d.y-=this.Gb*k;g-=this.dd*h;e.x+=this.Hb*n;e.y+=this.Hb*k;f+=this.ed*l;c.u.H(d);c.G=g;b.u.H(e);b.G=f};Re.prototype.te=function(){var a=this.U,c=this.V,b=a.n.B,d=a.n.L,g=c.n.B,e=c.n.L,f,n=0,k=0,h=0,l=n=f=0,m=0,k=!1,q=0,p=O.Mj(d),u=O.Mj(e);f=p;var m=this.ea.x-this.qg.x,t=this.ea.y-this.qg.y,n=f.j.x*m+f.k.x*t,t=f.j.y*m+f.k.y*t,m=n;f=u;u=this.fa.x-this.rg.x;h=this.fa.y-this.rg.y;n=f.j.x*u+f.k.x*h;h=f.j.y*u+f.k.y*h;u=n;
f=g.x+u-b.x-m;n=g.y+h-b.y-t;if(this.Kf){this.S=P.Ob(p,this.Kd);this.Sa=(f+m)*this.S.y-(n+t)*this.S.x;this.Ta=u*this.S.y-h*this.S.x;var s=this.S.x*f+this.S.y*n;.01>Math.abs(this.Je-this.He)?(q=P.rb(s,-.2,.2),l=Math.abs(s),k=!0):s<=this.He?(q=P.rb(s-this.He+.005,-.2,0),l=this.He-s,k=!0):s>=this.Je&&(q=P.rb(s-this.Je+.005,0,.2),l=s-this.Je,k=!0)}this.ia=P.Ob(p,this.rh);this.Va=(f+m)*this.ia.y-(n+t)*this.ia.x;this.Wa=u*this.ia.y-h*this.ia.x;p=new Jc(0,0,0);t=this.ia.x*f+this.ia.y*n;u=e-d-this.vD;l=Math.max(l,
Math.abs(t));m=Math.abs(u);k?(k=this.Gb,h=this.Hb,f=this.dd,n=this.ed,this.ca.j.x=k+h+f*this.Va*this.Va+n*this.Wa*this.Wa,this.ca.j.y=f*this.Va+n*this.Wa,this.ca.j.z=f*this.Va*this.Sa+n*this.Wa*this.Ta,this.ca.k.x=this.ca.j.y,this.ca.k.y=f+n,this.ca.k.z=f*this.Sa+n*this.Ta,this.ca.oa.x=this.ca.j.z,this.ca.oa.y=this.ca.k.z,this.ca.oa.z=k+h+f*this.Sa*this.Sa+n*this.Ta*this.Ta,this.ca.tl(p,-t,-u,-q)):(k=this.Gb,h=this.Hb,f=this.dd,n=this.ed,q=f*this.Va+n*this.Wa,s=f+n,this.ca.j.Set(k+h+f*this.Va*this.Va+
n*this.Wa*this.Wa,q,0),this.ca.k.Set(q,s,0),q=this.ca.Sj(K.A(0,0),-t,-u),p.x=q.x,p.y=q.y,p.z=0);q=p.x*this.ia.x+p.z*this.S.x;k=p.x*this.ia.y+p.z*this.S.y;t=p.x*this.Va+p.y+p.z*this.Sa;p=p.x*this.Wa+p.y+p.z*this.Ta;b.x-=this.Gb*q;b.y-=this.Gb*k;d-=this.dd*t;g.x+=this.Hb*q;g.y+=this.Hb*k;e+=this.ed*p;a.n.L=d;c.n.L=e;a.Db();c.Db();return.005>=l&&m<=Bc};var Se=function(){Ie.call(this);this.ob=K.A(0,0);this.pb=K.A(0,0);this.kj=K.A(0,0);this.type=Y.zB;this.kj.Set(1,0);this.Cg=0;this.Yi=!1;this.iu=this.Ms=
0;this.$j=!1;this.Hk=this.et=0};I(Se,Ie);Se.prototype.Yb=function(a,c,b,d){this.K=a;this.M=c;this.ob=this.K.Yc(b);this.pb=this.M.Yc(b);this.kj=this.K.uq(d);this.Cg=this.M.md()-this.K.md()};Se.prototype.Qe=function(){return new Re(this)};var Ue=function(a){Y.call(this,a);this.ph=K.A(0,0);this.qh=K.A(0,0);this.ea=K.A(0,0);this.fa=K.A(0,0);this.$a=K.A(0,0);this.ab=K.A(0,0);this.ef=this.U.Ca.mD;this.ph.x=a.Do.x-this.ef.C.position.x;this.ph.y=a.Do.y-this.ef.C.position.y;this.qh.x=a.Eo.x-this.ef.C.position.x;
this.qh.y=a.Eo.y-this.ef.C.position.y;this.ea.H(a.ob);this.fa.H(a.pb);this.Ib=a.si;this.wk=a.zs+this.Ib*a.As;this.ix=Math.min(a.kx,this.wk-this.Ib*Te);this.jx=Math.min(a.lx,(this.wk-Te)/this.Ib);this.pg=this.og=this.D=0};I(Ue,Y);Ue.prototype.Re=function(a){var c=this.U,b=this.V,d;d=c.C.q;var g=this.ea.x-c.n.P.x,e=this.ea.y-c.n.P.y,f=d.j.x*g+d.k.x*e,e=d.j.y*g+d.k.y*e,g=f;d=b.C.q;var n=this.fa.x-b.n.P.x,k=this.fa.y-b.n.P.y,f=d.j.x*n+d.k.x*k,k=d.j.y*n+d.k.y*k,n=f;d=b.n.B.x+n;var f=b.n.B.y+k,h=this.ef.C.position.x+
this.qh.x,l=this.ef.C.position.y+this.qh.y;this.$a.Set(c.n.B.x+g-(this.ef.C.position.x+this.ph.x),c.n.B.y+e-(this.ef.C.position.y+this.ph.y));this.ab.Set(d-h,f-l);d=this.$a.Yf();f=this.ab.Yf();.005<d?this.$a.od(1/d):this.$a.ga();.005<f?this.ab.od(1/f):this.ab.ga();0<this.wk-d-this.Ib*f?(this.bt=Y.td,this.D=0):this.bt=Y.Ic;d<this.ix?(this.Vs=Y.td,this.og=0):this.Vs=Y.Ic;f<this.jx?(this.Ws=Y.td,this.pg=0):this.Ws=Y.Ic;d=g*this.$a.y-e*this.$a.x;f=n*this.ab.y-k*this.ab.x;this.xm=c.I+c.R*d*d;this.ym=b.I+
b.R*f*f;this.op=this.xm+this.Ib*this.Ib*this.ym;this.xm=1/this.xm;this.ym=1/this.ym;this.op=1/this.op;a.Dh?(this.D*=a.kc,this.og*=a.kc,this.pg*=a.kc,a=(-this.D-this.og)*this.$a.x,d=(-this.D-this.og)*this.$a.y,f=(-this.Ib*this.D-this.pg)*this.ab.x,h=(-this.Ib*this.D-this.pg)*this.ab.y,c.u.x+=c.I*a,c.u.y+=c.I*d,c.G+=c.R*(g*d-e*a),b.u.x+=b.I*f,b.u.y+=b.I*h,b.G+=b.R*(n*h-k*f)):this.pg=this.og=this.D=0};Ue.prototype.ue=function(){var a=this.U,c=this.V,b;b=a.C.q;var d=this.ea.x-a.n.P.x,g=this.ea.y-a.n.P.y,
e=b.j.x*d+b.k.x*g,g=b.j.y*d+b.k.y*g,d=e;b=c.C.q;var f=this.fa.x-c.n.P.x,n=this.fa.y-c.n.P.y,e=b.j.x*f+b.k.x*n,n=b.j.y*f+b.k.y*n,f=e,k=e=b=0,h=0;b=h=b=h=k=e=b=0;this.bt==Y.Ic&&(b=a.u.x+-a.G*g,e=a.u.y+a.G*d,k=c.u.x+-c.G*n,h=c.u.y+c.G*f,b=-(this.$a.x*b+this.$a.y*e)-this.Ib*(this.ab.x*k+this.ab.y*h),h=this.op*-b,b=this.D,this.D=Math.max(0,this.D+h),h=this.D-b,b=-h*this.$a.x,e=-h*this.$a.y,k=-this.Ib*h*this.ab.x,h=-this.Ib*h*this.ab.y,a.u.x+=a.I*b,a.u.y+=a.I*e,a.G+=a.R*(d*e-g*b),c.u.x+=c.I*k,c.u.y+=c.I*
h,c.G+=c.R*(f*h-n*k));this.Vs==Y.Ic&&(b=a.u.x+-a.G*g,e=a.u.y+a.G*d,b=-(this.$a.x*b+this.$a.y*e),h=-this.xm*b,b=this.og,this.og=Math.max(0,this.og+h),h=this.og-b,b=-h*this.$a.x,e=-h*this.$a.y,a.u.x+=a.I*b,a.u.y+=a.I*e,a.G+=a.R*(d*e-g*b));this.Ws==Y.Ic&&(k=c.u.x+-c.G*n,h=c.u.y+c.G*f,b=-(this.ab.x*k+this.ab.y*h),h=-this.ym*b,b=this.pg,this.pg=Math.max(0,this.pg+h),h=this.pg-b,k=-h*this.ab.x,h=-h*this.ab.y,c.u.x+=c.I*k,c.u.y+=c.I*h,c.G+=c.R*(f*h-n*k))};Ue.prototype.te=function(){var a=this.U,c=this.V,
b,d=this.ef.C.position.x+this.ph.x,g=this.ef.C.position.y+this.ph.y,e=this.ef.C.position.x+this.qh.x,f=this.ef.C.position.y+this.qh.y,n=0,k=0,h=0,l=0,m=b=0,q=0,p=0,u=m=p=b=m=b=0;this.bt==Y.Ic&&(b=a.C.q,n=this.ea.x-a.n.P.x,k=this.ea.y-a.n.P.y,m=b.j.x*n+b.k.x*k,k=b.j.y*n+b.k.y*k,n=m,b=c.C.q,h=this.fa.x-c.n.P.x,l=this.fa.y-c.n.P.y,m=b.j.x*h+b.k.x*l,l=b.j.y*h+b.k.y*l,h=m,b=a.n.B.x+n,m=a.n.B.y+k,q=c.n.B.x+h,p=c.n.B.y+l,this.$a.Set(b-d,m-g),this.ab.Set(q-e,p-f),b=this.$a.Yf(),m=this.ab.Yf(),.005<b?this.$a.od(1/
b):this.$a.ga(),.005<m?this.ab.od(1/m):this.ab.ga(),b=this.wk-b-this.Ib*m,u=Math.max(u,-b),b=P.rb(b+.005,-.2,0),p=-this.op*b,b=-p*this.$a.x,m=-p*this.$a.y,q=-this.Ib*p*this.ab.x,p=-this.Ib*p*this.ab.y,a.n.B.x+=a.I*b,a.n.B.y+=a.I*m,a.n.L+=a.R*(n*m-k*b),c.n.B.x+=c.I*q,c.n.B.y+=c.I*p,c.n.L+=c.R*(h*p-l*q),a.Db(),c.Db());this.Vs==Y.Ic&&(b=a.C.q,n=this.ea.x-a.n.P.x,k=this.ea.y-a.n.P.y,m=b.j.x*n+b.k.x*k,k=b.j.y*n+b.k.y*k,n=m,b=a.n.B.x+n,m=a.n.B.y+k,this.$a.Set(b-d,m-g),b=this.$a.Yf(),.005<b?(this.$a.x*=
1/b,this.$a.y*=1/b):this.$a.ga(),b=this.ix-b,u=Math.max(u,-b),b=P.rb(b+.005,-.2,0),p=-this.xm*b,b=-p*this.$a.x,m=-p*this.$a.y,a.n.B.x+=a.I*b,a.n.B.y+=a.I*m,a.n.L+=a.R*(n*m-k*b),a.Db());this.Ws==Y.Ic&&(b=c.C.q,h=this.fa.x-c.n.P.x,l=this.fa.y-c.n.P.y,m=b.j.x*h+b.k.x*l,l=b.j.y*h+b.k.y*l,h=m,q=c.n.B.x+h,p=c.n.B.y+l,this.ab.Set(q-e,p-f),m=this.ab.Yf(),.005<m?(this.ab.x*=1/m,this.ab.y*=1/m):this.ab.ga(),b=this.jx-m,u=Math.max(u,-b),b=P.rb(b+.005,-.2,0),p=-this.ym*b,q=-p*this.ab.x,p=-p*this.ab.y,c.n.B.x+=
c.I*q,c.n.B.y+=c.I*p,c.n.L+=c.R*(h*p-l*q),c.Db());return.005>u};var Te=1,Ve=function(){Ie.call(this);this.Do=K.A(0,0);this.Eo=K.A(0,0);this.ob=K.A(0,0);this.pb=K.A(0,0);this.type=Y.AB;this.Do.Set(-1,1);this.Eo.Set(1,1);this.ob.Set(-1,0);this.pb.Set(1,0);this.lx=this.As=this.kx=this.zs=0;this.si=1;this.hr=!0};I(Ve,Ie);Ve.prototype.Yb=function(a,c,b,d,g,e,f){void 0===f&&(f=0);this.K=a;this.M=c;this.Do.H(b);this.Eo.H(d);this.ob=this.K.Yc(g);this.pb=this.M.Yc(e);a=g.x-b.x;b=g.y-b.y;this.zs=Math.sqrt(a*
a+b*b);b=e.x-d.x;d=e.y-d.y;this.As=Math.sqrt(b*b+d*d);this.si=f;f=this.zs+this.si*this.As;this.kx=f-this.si*Te;this.lx=(f-Te)/this.si};Ve.prototype.Qe=function(){return new Ue(this)};var We=function(a){Y.call(this,a);this.Qd=new O;this.kl=new O;this.ll=new O;this.ml=new O;this.vc=new Jc(0,0,0);this.Cf=K.A(0,0);this.Bg=K.A(0,0);this.ea=K.A(0,0);this.fa=K.A(0,0);this.D=new Jc(0,0,0);this.T=new Kc;this.ea.H(a.ob);this.fa.H(a.pb);this.Bm=a.Cg;this.D.ga();this.Ja=0;this.mp=a.Ls;this.ct=a.hu;this.tD=a.mx;
this.zm=a.Hk;this.Kf=a.Yi;this.ii=a.$j;this.wa=Y.td};I(We,Y);We.prototype.un=function(){return this.V.n.L-this.U.n.L-this.Bm};We.prototype.Re=function(a){var c=this.U,b=this.V,d,g=0;d=c.C.q;var e=this.ea.x-c.n.P.x,f=this.ea.y-c.n.P.y,g=d.j.x*e+d.k.x*f,f=d.j.y*e+d.k.y*f,e=g;d=b.C.q;var n=this.fa.x-b.n.P.x,k=this.fa.y-b.n.P.y,g=d.j.x*n+d.k.x*k,k=d.j.y*n+d.k.y*k,n=g;d=c.I;var g=b.I,h=c.R,l=b.R;this.T.j.x=d+g+f*f*h+k*k*l;this.T.k.x=-f*e*h-k*n*l;this.T.oa.x=-f*h-k*l;this.T.j.y=this.T.k.x;this.T.k.y=d+
g+e*e*h+n*n*l;this.T.oa.y=e*h+n*l;this.T.j.z=this.T.oa.x;this.T.k.z=this.T.oa.y;this.T.oa.z=h+l;this.zd=1/(h+l);this.ii||(this.Ja=0);if(this.Kf){var m=b.n.L-c.n.L-this.Bm;Math.abs(this.ct-this.mp)<2*Bc?this.wa=Y.Sh:m<=this.mp?(this.wa!=Y.cg&&(this.D.z=0),this.wa=Y.cg):m>=this.ct?(this.wa!=Y.Ic&&(this.D.z=0),this.wa=Y.Ic):(this.wa=Y.td,this.D.z=0)}else this.wa=Y.td;a.Dh?(this.D.x*=a.kc,this.D.y*=a.kc,this.Ja*=a.kc,a=this.D.x,m=this.D.y,c.u.x-=d*a,c.u.y-=d*m,c.G-=h*(e*m-f*a+this.Ja+this.D.z),b.u.x+=
g*a,b.u.y+=g*m,b.G+=l*(n*m-k*a+this.Ja+this.D.z)):(this.D.ga(),this.Ja=0)};We.prototype.ue=function(a){var c=this.U,b=this.V,d=0,g=d=0,e=0,f=0,n=0,k=c.u,h=c.G,l=b.u,m=b.G,q=c.I,p=b.I,u=c.R,t=b.R;this.ii&&this.wa!=Y.Sh&&(g=this.zd*-(m-h-this.zm),e=this.Ja,f=a.za*this.tD,this.Ja=P.rb(this.Ja+g,-f,f),g=this.Ja-e,h-=u*g,m+=t*g);if(this.Kf&&this.wa!=Y.td){a=c.C.q;g=this.ea.x-c.n.P.x;e=this.ea.y-c.n.P.y;d=a.j.x*g+a.k.x*e;e=a.j.y*g+a.k.y*e;g=d;a=b.C.q;f=this.fa.x-b.n.P.x;n=this.fa.y-b.n.P.y;d=a.j.x*f+a.k.x*
n;n=a.j.y*f+a.k.y*n;f=d;a=l.x+-m*n-k.x- -h*e;var s=l.y+m*f-k.y-h*g;this.T.tl(this.vc,-a,-s,-(m-h));this.wa==Y.Sh?this.D.Mg(this.vc):this.wa==Y.cg?(d=this.D.z+this.vc.z,0>d&&(this.T.Sj(this.Bg,-a,-s),this.vc.x=this.Bg.x,this.vc.y=this.Bg.y,this.vc.z=-this.D.z,this.D.x+=this.Bg.x,this.D.y+=this.Bg.y,this.D.z=0)):this.wa==Y.Ic&&(d=this.D.z+this.vc.z,0<d&&(this.T.Sj(this.Bg,-a,-s),this.vc.x=this.Bg.x,this.vc.y=this.Bg.y,this.vc.z=-this.D.z,this.D.x+=this.Bg.x,this.D.y+=this.Bg.y,this.D.z=0));k.x-=q*this.vc.x;
k.y-=q*this.vc.y;h-=u*(g*this.vc.y-e*this.vc.x+this.vc.z);l.x+=p*this.vc.x;l.y+=p*this.vc.y;m+=t*(f*this.vc.y-n*this.vc.x+this.vc.z)}else a=c.C.q,g=this.ea.x-c.n.P.x,e=this.ea.y-c.n.P.y,d=a.j.x*g+a.k.x*e,e=a.j.y*g+a.k.y*e,g=d,a=b.C.q,f=this.fa.x-b.n.P.x,n=this.fa.y-b.n.P.y,d=a.j.x*f+a.k.x*n,n=a.j.y*f+a.k.y*n,f=d,this.T.Sj(this.Cf,-(l.x+-m*n-k.x- -h*e),-(l.y+m*f-k.y-h*g)),this.D.x+=this.Cf.x,this.D.y+=this.Cf.y,k.x-=q*this.Cf.x,k.y-=q*this.Cf.y,h-=u*(g*this.Cf.y-e*this.Cf.x),l.x+=p*this.Cf.x,l.y+=
p*this.Cf.y,m+=t*(f*this.Cf.y-n*this.Cf.x);c.u.H(k);c.G=h;b.u.H(l);b.G=m};We.prototype.te=function(){var a=0,c,b=this.U,d=this.V,g=0,e=c=0,f=0,n=0;if(this.Kf&&this.wa!=Y.td){var a=d.n.L-b.n.L-this.Bm,k=0;this.wa==Y.Sh?(a=P.rb(a-this.mp,-Cc,Cc),k=-this.zd*a,g=Math.abs(a)):this.wa==Y.cg?(a-=this.mp,g=-a,a=P.rb(a+Bc,-Cc,0),k=-this.zd*a):this.wa==Y.Ic&&(g=a-=this.ct,a=P.rb(a-Bc,0,Cc),k=-this.zd*a);b.n.L-=b.R*k;d.n.L+=d.R*k;b.Db();d.Db()}c=b.C.q;k=this.ea.x-b.n.P.x;a=this.ea.y-b.n.P.y;e=c.j.x*k+c.k.x*
a;a=c.j.y*k+c.k.y*a;k=e;c=d.C.q;var h=this.fa.x-d.n.P.x,l=this.fa.y-d.n.P.y,e=c.j.x*h+c.k.x*l,l=c.j.y*h+c.k.y*l,h=e,f=d.n.B.x+h-b.n.B.x-k,n=d.n.B.y+l-b.n.B.y-a,m=f*f+n*n;c=Math.sqrt(m);var e=b.I,q=d.I,p=b.R,u=d.R;m>.05*.05&&(m=1/(e+q),f=m*-f,n=m*-n,b.n.B.x-=.5*e*f,b.n.B.y-=.5*e*n,d.n.B.x+=.5*q*f,d.n.B.y+=.5*q*n,f=d.n.B.x+h-b.n.B.x-k,n=d.n.B.y+l-b.n.B.y-a);this.kl.j.x=e+q;this.kl.k.x=0;this.kl.j.y=0;this.kl.k.y=e+q;this.ll.j.x=p*a*a;this.ll.k.x=-p*k*a;this.ll.j.y=-p*k*a;this.ll.k.y=p*k*k;this.ml.j.x=
u*l*l;this.ml.k.x=-u*h*l;this.ml.j.y=-u*h*l;this.ml.k.y=u*h*h;this.Qd.rf(this.kl);this.Qd.hn(this.ll);this.Qd.hn(this.ml);this.Qd.Mh(Xe,-f,-n);f=Xe.x;n=Xe.y;b.n.B.x-=b.I*f;b.n.B.y-=b.I*n;b.n.L-=b.R*(k*n-a*f);d.n.B.x+=d.I*f;d.n.B.y+=d.I*n;d.n.L+=d.R*(h*n-l*f);b.Db();d.Db();return.005>=c&&g<=Bc};var Xe=K.A(0,0),Ac=function(){Ie.call(this);this.ob=K.A(0,0);this.pb=K.A(0,0);this.type=Y.Zj;this.ob.ga();this.pb.ga();this.Hk=this.mx=this.hu=this.Ls=this.Cg=0;this.$j=this.Yi=!1};I(Ac,Ie);Ac.prototype.Yb=
function(a,c,b){this.K=a;this.M=c;this.ob=this.K.Yc(b);this.pb=this.M.Yc(b);this.Cg=this.M.md()-this.K.md()};Ac.prototype.Qe=function(){return new We(this)};var Ye=function(a){Y.call(this,a);this.Fe=K.A(0,0);this.Ge=K.A(0,0);this.D=new Jc(0,0,0);this.T=new Kc;this.Fe.H(a.ob);this.Ge.H(a.pb);this.Bm=a.Cg};I(Ye,Y);Ye.prototype.Re=function(a){var c,b=0,d=this.U,g=this.V;c=d.C.q;var e=this.Fe.x-d.n.P.x,f=this.Fe.y-d.n.P.y,b=c.j.x*e+c.k.x*f,f=c.j.y*e+c.k.y*f,e=b;c=g.C.q;var n=this.Ge.x-g.n.P.x,k=this.Ge.y-
g.n.P.y,b=c.j.x*n+c.k.x*k,k=c.j.y*n+c.k.y*k,n=b;c=d.I;var b=g.I,h=d.R,l=g.R;this.T.j.x=c+b+f*f*h+k*k*l;this.T.k.x=-f*e*h-k*n*l;this.T.oa.x=-f*h-k*l;this.T.j.y=this.T.k.x;this.T.k.y=c+b+e*e*h+n*n*l;this.T.oa.y=e*h+n*l;this.T.j.z=this.T.oa.x;this.T.k.z=this.T.oa.y;this.T.oa.z=h+l;a.Dh?(this.D.x*=a.kc,this.D.y*=a.kc,this.D.z*=a.kc,d.u.x-=c*this.D.x,d.u.y-=c*this.D.y,d.G-=h*(e*this.D.y-f*this.D.x+this.D.z),g.u.x+=b*this.D.x,g.u.y+=b*this.D.y,g.G+=l*(n*this.D.y-k*this.D.x+this.D.z)):this.D.ga()};Ye.prototype.ue=
function(){var a,c=0,b=this.U,d=this.V,g=b.u,e=b.G,f=d.u,n=d.G,k=b.I,h=d.I,l=b.R,m=d.R;a=b.C.q;var q=this.Fe.x-b.n.P.x,p=this.Fe.y-b.n.P.y,c=a.j.x*q+a.k.x*p,p=a.j.y*q+a.k.y*p,q=c;a=d.C.q;var u=this.Ge.x-d.n.P.x,t=this.Ge.y-d.n.P.y,c=a.j.x*u+a.k.x*t,t=a.j.y*u+a.k.y*t,u=c;a=new Jc(0,0,0);this.T.tl(a,-(f.x-n*t-g.x+e*p),-(f.y+n*u-g.y-e*q),-(n-e));this.D.Mg(a);g.x-=k*a.x;g.y-=k*a.y;e-=l*(q*a.y-p*a.x+a.z);f.x+=h*a.x;f.y+=h*a.y;n+=m*(u*a.y-t*a.x+a.z);b.G=e;d.G=n};Ye.prototype.te=function(){var a,c=0,b=this.U,
d=this.V;a=b.C.q;var g=this.Fe.x-b.n.P.x,e=this.Fe.y-b.n.P.y,c=a.j.x*g+a.k.x*e,e=a.j.y*g+a.k.y*e,g=c;a=d.C.q;var f=this.Ge.x-d.n.P.x,n=this.Ge.y-d.n.P.y,c=a.j.x*f+a.k.x*n,n=a.j.y*f+a.k.y*n,f=c;a=b.I;var c=d.I,k=b.R,h=d.R,l=d.n.B.x+f-b.n.B.x-g,m=d.n.B.y+n-b.n.B.y-e,q=d.n.L-b.n.L-this.Bm,p=Math.sqrt(l*l+m*m),u=Math.abs(q);.05<p&&(k*=1,h*=1);this.T.j.x=a+c+e*e*k+n*n*h;this.T.k.x=-e*g*k-n*f*h;this.T.oa.x=-e*k-n*h;this.T.j.y=this.T.k.x;this.T.k.y=a+c+g*g*k+f*f*h;this.T.oa.y=g*k+f*h;this.T.j.z=this.T.oa.x;
this.T.k.z=this.T.oa.y;this.T.oa.z=k+h;var t=new Jc(0,0,0);this.T.tl(t,-l,-m,-q);b.n.B.x-=a*t.x;b.n.B.y-=a*t.y;b.n.L-=k*(g*t.y-e*t.x+t.z);d.n.B.x+=c*t.x;d.n.B.y+=c*t.y;d.n.L+=h*(f*t.y-n*t.x+t.z);b.Db();d.Db();return.005>=p&&u<=Bc};var Ze=function(){Ie.call(this);this.ob=K.A(0,0);this.pb=K.A(0,0);this.type=Y.CB;this.Cg=0};I(Ze,Ie);Ze.prototype.Yb=function(a,c,b){this.K=a;this.M=c;this.ob.H(this.K.Yc(b));this.pb.H(this.M.Yc(b));this.Cg=this.M.md()-this.K.md()};Ze.prototype.Qe=function(){return new Ye(this)};
var oe=[new Qc,new Qc],xe=[new Qc,new Qc],ye=[new Qc,new Qc],pe=K.A(0,0),qe=K.A(0,0),re=K.A(0,0),ue=K.A(0,0),se=K.A(0,0),te=K.A(0,0),ve=K.A(0,0),we=K.A(0,0),Rd=0,$d=0,ae=0,Yd=0,Zd=0,Sd=new od,Td=new Zc,Ud=new rc,Vd=new rc,Xd=new jd,Wd=new $c;tc.jE=new rc;uc.sv=new uc;new function(){this.position=K.A(0,0);this.Iy=K.A(0,0);this.gd=K.A(0,0);this.id=new Pc};wc.bG=new rc;wc.ay=new Lc;wc.by=new Lc;var Qd=new pd,me=new qd,ne=new le}
function $e(a,c,b,d,g,e){var f;if(f=(b+.1>=a&&a>=g-.1||b-.1<=a&&a<=g+.1)&&(d+.1>=c&&c>=e-.1||d-.1<=c&&c<=e+.1))f=.1<Math.abs(g-b)?.1>Math.abs((e-d)/(g-b)*(a-b)+d-c):.1>Math.abs(a-b);return f}function af(a,c){var b=K,d=bf(a),g=[],e,f,n,k,h,l,m,q,p;h=0;for(l=d.length;h<l;h++){f=d[h];e=[];e.length=f.length;m=p=0;for(q=f.length;m<q;m++)n=f[m],k=f[(m+1)%q],p+=n.x*k.y-n.y*k.x,e[m]=b.A(n.x,n.y);p=Math.abs(p/2);p>=.001*c&&g.push(e)}return g}
function bf(a){var c=[],b=0,d=0,g=0,e=0,f=0,n=f=0,k=0,h=0,l=0,e=0,m,q,p,u,t,s=e=b=0,y=0,g=[],k=[],z=!1,x=[],C=[];for(C.push(a);C.length;){c=C[0];d=c.length;z=!0;for(b=0;b<d;b++)if(h=b,l=b<d-1?b+1:b+1-d,e=b<d-2?b+2:b+2-d,a=c[h],m=c[l],q=c[e],e=a.x,g=a.y,k=m.x,f=m.y,n=q.x,q=q.y,e=e*f+k*q+n*g-g*k-f*n-q*e,0>e){z=!1;k=1E9;for(g=0;g<d;g++)if(g!==h&&g!==l){b=g;e=g<d-1?g+1:0;p=c[b];u=c[e];n=a.x;q=a.y;var D=m.x,E=m.y,f=p.x;p=p.y;var B=u.x;u=u.y;var G=D-n,F=E-q,H=B-f,W=u-p,H=(H*(p-q)-W*(f-n))/(F*H-G*W),G=n+
H*G,F=q+H*F,n=$e(D,E,n,q,G,F),f=$e(G,F,f,p,B,u);if(q=n&&f?K.A(G,F):null)f=m.x-q.x,n=m.y-q.y,f=f*f+n*n,f<k&&(y=b,s=e,t=q,k=f)}if(1E9===k)return[];g=[];k=[];b=y;e=s;p=c[b];u=c[e];s=t.y;y=u.y;.1>Math.abs(u.x-t.x)&&.1>Math.abs(y-s)||g.push(t);s=t.y;y=p.y;.1>Math.abs(p.x-t.x)&&.1>Math.abs(y-s)||k.push(t);y=-1;for(s=h;;){if(s!==e)g.push(c[s]);else{if(0>y||y>=d)return[];$e(u.x,u.y,c[y].x,c[y].y,a.x,a.y)||g.push(c[s]);break}y=s;0>s-1?s=d-1:s--}g.reverse();y=-1;for(s=l;;){if(s!==b)k.push(c[s]);else{if(0>y||
y>=d)return[];s!==b||$e(p.x,p.y,c[y].x,c[y].y,m.x,m.y)||k.push(c[s]);break}y=s;s+1>d-1?s=0:s++}C.push(g,k);C.shift();break}z&&x.push(C.shift())}return x}
function cf(a){for(var c=0;4E3>c;c++)K.Qg.push(new K(0,0));this.i=a;this.Dd=new wc(K.A(0,10),!0);this.Ly=10;this.us=-1;a=new uc;a.behavior=this;a.ln=function(a){this.behavior.i.aE(a.Fb.Oa().ag.O,a.wb.Oa().ag.O)};this.Dd.Wu(a);a=new vc;a.behavior=this;a.Li=function(a,c){if(this.behavior.GA)return!0;var g=a.Oa().ag.O.type,e=c.Oa().ag.O.type,f=g.X.Physics_DisabledCollisions;return f&&f.contains(e)?!1:(f=e.X.Physics_DisabledCollisions)&&f.contains(g)?!1:!0};this.Dd.Vu(a);this.pE=0;this.en=8;this.Nm=3;
this.GA=!0}
(function(){function a(){}function c(){}var b=K,d=S,g=yc,e=U,f=xc,n=zc,k=Ac,h=cf.prototype;h.Eb=function(a){this.behavior=a;this.i=a.i};h.Eb.prototype.Ma=function(){};h.hb=function(a,b){this.type=a;this.behavior=a.behavior;this.O=b;this.i=a.i;this.Dd=this.behavior.Dd};var l=h.hb.prototype;l.Ma=function(){this.Vr=0!==this.Da[0];this.Jv=this.Da[1];this.wt=0!==this.Da[2];this.Af=this.Da[3];this.fg=this.Da[4];this.Eg=this.Da[5];this.hj=this.Da[6];this.Oi=this.Da[7];this.Si=0!==this.Da[8];this.enabled=0!==
this.Da[9];this.body=null;this.O.fb();this.bi=this.O.x;this.ci=this.O.y;this.kg=this.O.N;this.rs=this.vs=0;this.Vx=this.So=!1;this.ns=null;this.os=-1;this.ie?(this.ie.length=0,this.hf.length=0,this.hh.clear()):(this.ie=[],this.hf=[],this.hh=new ca);var a=this;this.Md||(this.Dm=function(b){a.mt(b)});this.i.lv(this.Dm)};l.Ox=function(){this.O.fb();this.nr();this.ns=this.O.tb;this.os=this.O.da};l.oi=function(){this.co();this.hf.length=0;this.hh.clear();this.body&&(this.Dd.qn(this.body),this.body=null);
this.i.Yx(this.Dm)};l.Bd=function(){var a={e:this.enabled,im:this.Vr,pr:this.wt,d:this.Af,fr:this.fg,re:this.Eg,ld:this.hj,ad:this.Oi,b:this.Si,mcj:this.hf};if(this.enabled){var c=b.A(0,0);c.H(this.body.Ih());a.vx=c.x;a.vy=c.y;a.om=this.body.tn()}return a};l.ge=function(a){this.co();this.hf.length=0;this.hh.clear();this.body&&(this.Dd.qn(this.body),this.body=null);this.enabled=a.e;this.Vr=a.im;this.wt=a.pr;this.Af=a.d;this.fg=a.fr;this.Eg=a.re;this.hj=a.ld;this.Oi=a.ad;this.Si=a.b;this.bi=this.O.x;
this.ci=this.O.y;this.kg=this.O.N;this.vs=this.O.width;this.rs=this.O.height;this.enabled&&(this.nr(),this.body.Ki(b.A(a.vx,a.vy)),this.body.ql(a.om),0===a.vx&&0===a.vy&&0===a.om||this.body.rc(!0),this.hf=a.mcj)};l.Rg=function(){this.enabled&&this.Dt();this.behavior.us=this.i.mf-1};l.mt=function(a){var b,c,d,e=a.uid;d=b=0;for(c=this.hf.length;b<c;b++)this.hf[d]=this.hf[b],d<this.ie.length&&(this.ie[d]=this.ie[b]),this.hf[b].Mf[1]==e?this.Dd.rn(this.ie[b]):d++;this.hf.length=d;d<this.ie.length&&(this.ie.length=
d);this.hh.remove(a)};l.co=function(){var a,b;a=0;for(b=this.ie.length;a<b;a++)this.Dd.rn(this.ie[a]);this.ie.length=0};l.Dt=function(){var a,b,c;a=0;for(b=this.hf.length;a<b;a++)switch(c=this.hf[a],c.type){case 0:this.fB(c.Mf[0],c.Mf[1],c.Mf[2],c.Mf[3],c.Mf[4]);break;case 1:this.hB(c.Mf[0],c.Mf[1]);break;case 2:this.gB(c.Mf[0],c.Mf[1],c.Mf[2],c.Mf[3])}};l.cB=function(){this.body&&(this.co(),this.Dd.qn(this.body),this.body=null,this.O.X.Vd=null)};var m=[];l.nr=function(){if(this.enabled){var a=this.O,
c=!1,h=null,k=null,l,n,z,x,C,D,E,B,G,F,H,W,M;if(this.body){c=!0;h=b.A(0,0);h.H(this.body.Ih());k=this.body.tn();B=this.hh.Oe();l=0;for(n=B.length;l<n;l++)G=B[l].X.Vd.ag,G.co();this.cB()}G=new g;G.Af=this.Af;G.fg=this.fg;G.Eg=this.Eg;l=new d;l.type=this.Vr?0:2;a.fb();l.position.x=.02*a.Zb.Fk();l.position.y=.02*a.Zb.Gk();l.N=a.N;l.Dr=this.wt;l.hj=this.hj;l.Oi=this.Oi;l.Si=this.Si;B=this.O.Rb&&!this.O.Rb.Po();this.body=this.Dd.oq(l);this.body.ag=this;l=this.Jv;B||this.O.Fj||0!==this.Jv||(l=1);n=Math.max(Math.abs(a.width),
1);z=Math.max(Math.abs(a.height),1);F=0>a.width;H=0>a.height;if(0===l)if(a.Fj)for(W=a.Zb.Fk()-a.x,E=a.Zb.Gk()-a.y,a.RF(m),B=[],l=0,n=m.length;l<n;++l){F=m[l];H=F.Ux;if(F.Ag){if(!F.Ag.Vn){C=F.Ag.Pf;x=F.Ag.qi;for(z=0;z<x;++z)B.push(b.A(C[2*z],C[2*z+1]));z=F.id&3758096384;(-2147483648===z||1073741824===z||536870912===z||z&-2147483648&&z&1073741824&&z&536870912)&&B.reverse();F.Ag.Vn=af(B,(H.right-H.left)*(H.bottom-H.top));z=0;for(x=B.length;z<x;++z)b.Xb(B[z]);B.length=0}z=0;for(x=F.Ag.Vn.length;z<x;++z){M=
F.Ag.Vn[z];C=0;for(D=M.length;C<D;++C)B.push(b.A(.02*(H.left+M[C].x-W),.02*(H.top+M[C].y-E)));G.shape=new e;G.shape.rl(B,B.length);this.body.Kj(G);C=0;for(D=B.length;C<D;++C)b.Xb(B[C]);B.length=0}}else B.push(b.A(.02*(H.left-W),.02*(H.top-E))),B.push(b.A(.02*(H.right-W),.02*(H.top-E))),B.push(b.A(.02*(H.right-W),.02*(H.bottom-E))),B.push(b.A(.02*(H.left-W),.02*(H.bottom-E))),G.shape=new e,G.shape.rl(B,B.length),this.body.Kj(G);z=0;for(x=B.length;z<x;++z)b.Xb(B[z]);B.length=0}else{l=a.N;a.N=0;a.gb();
a.fb();W=a.Zb.Fk()-a.x;E=a.Zb.Gk()-a.y;a.N=l;a.gb();a.Rb.Nn(F?-n:n,H?-z:z,0);C=a.Rb.Pf;x=a.Rb.qi;B=[];B.length=x;for(l=0;l<x;l++)B[l]=b.A(C[2*l]-W,C[2*l+1]-E);F!==H&&B.reverse();W=af(B,n*z);for(l=0;l<x;l++)b.Xb(B[l]);if(W.length)for(l=0,n=W.length;l<n;l++){B=W[l];z=0;for(x=B.length;z<x;z++)E=B[z],E.x*=.02,E.y*=.02;G.shape=new e;G.shape.rl(B,B.length);this.body.Kj(G);z=0;for(x=B.length;z<x;z++)b.Xb(B[z])}else G.shape=new e,G.shape.Cn(.01*n,.01*z),this.body.Kj(G)}else 1===l?(G.shape=new e,G.shape.Cn(.01*
n,.01*z)):G.shape=new f(.01*Math.min(n,z)),this.body.Kj(G);a.X.Vd=this.body;this.vs=a.width;this.rs=a.height;if(c)for(this.body.Ki(h),this.body.ql(k),b.Xb(h),this.Dt(),B=this.hh.Oe(),l=0,n=B.length;l<n;l++)G=B[l].X.Vd.ag,G.Dt();m.length=0}};l.Cd=function(){if(this.enabled){var a=this.O,c;0===this.behavior.pE?c=this.i.Bi/60:(c=this.i.zo(this.O),c>1/30&&(c=1/30));this.i.mf>this.behavior.us&&0<this.i.Bi&&(this.Dd.Pg(c,this.behavior.en,this.behavior.Nm),this.Dd.tu(),this.behavior.us=this.i.mf);if(this.Vx||
a.width!==this.vs||a.height!==this.rs||a.tb!==this.ns||a.da!==this.os||a.Fj&&a.Ix)this.nr(),this.Vx=!1,this.ns=a.tb,this.os=a.da,a.Fj&&a.Ix&&(a.Ix=!1);c=a.N!==this.kg;if(a.x!==this.bi||a.y!==this.ci){a.fb();var d=a.Zb.Fk(),e=a.Zb.Gk(),f=d-this.bi,g=e-this.ci;this.body.Jq(b.A(.02*d,.02*e));this.body.Ki(b.A(f,g));this.So=!0;this.body.rc(!0)}else this.So&&(this.So=!1,this.body.Ki(b.A(0,0)),this.body.Jq(b.A(.02*a.Zb.Fk(),.02*a.Zb.Gk())));c&&(this.body.Bn(a.N),this.body.rc(!0));d=this.body.C.position;
c=d.x/.02;d=d.y/.02;e=this.body.md();if(c!==a.x||d!==a.y||e!==a.N)if(a.x=c,a.y=d,a.N=e,a.gb(),a.fb(),c=a.Zb.Fk()-a.x,d=a.Zb.Gk()-a.y,0!==c||0!==d)a.x-=c,a.y-=d,a.gb();this.bi=a.x;this.ci=a.y;this.kg=a.N}};l.Nl=function(a){return-1!==a&&this.O.gg?0===a&&this.body?(this.body.C.position.x+this.body.Fi().x)/.02:this.O.gg(a,!0):this.O.x};l.Ol=function(a){return-1!==a&&this.O.gg?0===a&&this.body?(this.body.C.position.y+this.body.Fi().y)/.02:this.O.gg(a,!1):this.O.y};a.prototype.$y=function(a,b,c){if(!this.enabled)return!1;
var d=this.body.Ih();0===a?d=d.x/.02:1===a?d=d.y/.02:(a=d.x/.02,d=d.y/.02,d=Ra(0,0,a,d));return $b(d,b,c)};a.prototype.yn=function(){return this.enabled};h.W=new a;c.prototype.pf=function(a,c,d){if(this.enabled){var e=this.Nl(d);d=this.Ol(d);this.body.pf(b.A(a,c),b.A(.02*e,.02*d))}};c.prototype.jn=function(a,c,d){if(this.enabled){var e=this.Nl(d);d=this.Ol(d);this.body.jn(b.A(a,c),b.A(.02*e,.02*d));this.So=!1;this.bi=this.O.x;this.ci=this.O.y}};c.prototype.kn=function(a){this.enabled&&this.body.kn(w(a))};
c.prototype.ql=function(a){this.enabled&&(this.body.ql(w(a)),this.body.rc(!0))};l.fB=function(a,c,d,e,f){if(this.enabled&&(c=this.i.ek(c))&&c!=this.O&&c.X.Vd){c.X.Vd.ag.hh.add(this.O);var g=this.Nl(a);a=this.Ol(a);var h;c.gg?(h=c.gg(d,!0),d=c.gg(d,!1)):(h=c.x,d=c.y);var k=g-h,l=a-d,m=new n;m.Yb(this.body,c.X.Vd,b.A(.02*g,.02*a),b.A(.02*h,.02*d));m.length=.02*Math.sqrt(k*k+l*l);m.ao=e;m.wo=f;this.ie.push(this.Dd.pn(m))}};l.hB=function(a,c){if(this.enabled){var d=this.i.ek(c);if(d&&d!=this.O&&d.X.Vd){d.X.Vd.ag.hh.add(this.O);
var e=this.Nl(a),f=this.Ol(a),g=new k;g.Yb(this.body,d.X.Vd,b.A(.02*e,.02*f));this.ie.push(this.Dd.pn(g))}}};l.gB=function(a,c,d,e){if(this.enabled&&(c=this.i.ek(c))&&c!=this.O&&c.X.Vd){c.X.Vd.ag.hh.add(this.O);var f=this.Nl(a);a=this.Ol(a);var g=new k;g.Yb(this.body,c.X.Vd,b.A(.02*f,.02*a));g.Yi=!0;g.Ls=w(d);g.hu=w(e);this.ie.push(this.Dd.pn(g))}};c.prototype.cA=function(a){if(a!==this.behavior.Ly){this.Dd.Iq(b.A(0,a));this.behavior.Ly=a;var c,d=this.behavior.Em.Oe();a=0;for(c=d.length;a<c;a++)d[a].X.Vd&&
d[a].X.Vd.rc(!0)}};h.sb=new c;h.uc=new function(){}})();function df(a){this.i=a}
(function(){function a(){}var c=df.prototype;c.Eb=function(a){this.behavior=a;this.i=a.i};c.Eb.prototype.Ma=function(){};c.hb=function(a,b){this.type=a;this.behavior=a.behavior;this.O=b;this.i=a.i};var b=c.hb.prototype;b.Ma=function(){this.Mc=null;this.yp=-1;this.mode=this.kg=this.Vp=this.Ik=this.wh=this.Mm=0;var a=this;this.Md||(this.Dm=function(b){a.mt(b)});this.i.lv(this.Dm)};b.Bd=function(){return{uid:this.Mc?this.Mc.uid:-1,pa:this.Mm,pd:this.wh,msa:this.Ik,tsa:this.Vp,lka:this.kg,m:this.mode}};
b.ge=function(a){this.yp=a.uid;this.Mm=a.pa;this.wh=a.pd;this.Ik=a.msa;this.Vp=a.tsa;this.kg=a.lka;this.mode=a.m};b.Rg=function(){this.Mc=-1===this.yp?null:this.i.ek(this.yp);this.yp=-1};b.mt=function(a){this.Mc==a&&(this.Mc=null)};b.oi=function(){this.Mc=null;this.i.Yx(this.Dm)};b.Cd=function(){};b.Ej=function(){if(this.Mc){this.kg!==this.O.N&&(this.Ik=Ia(this.Ik+(this.O.N-this.kg)));var a=this.O.x,b=this.O.y;if(3===this.mode||4===this.mode){var c=Ra(this.O.x,this.O.y,this.Mc.x,this.Mc.y);if(c>this.wh||
4===this.mode&&c<this.wh)b=Na(this.Mc.x,this.Mc.y,this.O.x,this.O.y),a=this.Mc.x+Math.cos(b)*this.wh,b=this.Mc.y+Math.sin(b)*this.wh}else a=this.Mc.x+Math.cos(this.Mc.N+this.Mm)*this.wh,b=this.Mc.y+Math.sin(this.Mc.N+this.Mm)*this.wh;this.kg=c=Ia(this.Ik+(this.Mc.N-this.Vp));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.O.x===a&&this.O.y===b||(this.O.x=a,this.O.y=b,this.O.gb());0!==this.mode&&2!==this.mode||this.O.N===c||(this.O.N=c,this.O.gb())}};c.W=new function(){};a.prototype.Rz=
function(a,b){if(a){var c=a.gw(this.O);c&&(this.Mc=c,this.Mm=Na(c.x,c.y,this.O.x,this.O.y)-c.N,this.wh=Ra(c.x,c.y,this.O.x,this.O.y),this.kg=this.Ik=this.O.N,this.Vp=c.N,this.mode=b)}};c.sb=new a;c.uc=new function(){}})();function ef(a){this.i=a}
(function(){var a=ef.prototype;a.Eb=function(a){this.behavior=a;this.i=a.i};a.Eb.prototype.Ma=function(){};a.hb=function(a,b){this.type=a;this.behavior=a.behavior;this.O=b;this.i=a.i;this.mode=0};a=a.hb.prototype;a.Ma=function(){this.mode=this.Da[0]};a.Cd=function(){};a.Ej=function(){this.O.fb();var a=this.O.Qb,b=this.O.Q.mc,d=!1;0===this.mode?(0>this.O.x&&(this.O.x=0,d=!0),0>this.O.y&&(this.O.y=0,d=!0),this.O.x>b.width&&(this.O.x=b.width,d=!0),this.O.y>b.height&&(this.O.y=b.height,d=!0)):(0>a.left&&
(this.O.x-=a.left,d=!0),0>a.top&&(this.O.y-=a.top,d=!0),a.right>b.width&&(this.O.x-=a.right-b.width,d=!0),a.bottom>b.height&&(this.O.y-=a.bottom-b.height,d=!0));d&&this.O.gb()}})();function ff(a){this.i=a;this.Rt=this.Jp=this.Vm=this.Qt=0}
(function(){var a=ff.prototype;a.Eb=function(a){this.behavior=a;this.i=a.i};a.Eb.prototype.Ma=function(){};a.hb=function(a,c){this.type=a;this.behavior=a.behavior;this.O=c;this.i=a.i};var c=a.hb.prototype;c.Ma=function(){this.enabled=0!==this.Da[0]};c.Bd=function(){return{smg:this.behavior.Qt,ss:this.behavior.Vm,se:this.behavior.Jp,smd:this.behavior.Rt}};c.ge=function(a){this.behavior.Qt=a.smg;this.behavior.Vm=a.ss;this.behavior.Jp=a.se;this.behavior.Rt=a.smd};c.Cd=function(){};c.Ej=function(){if(this.enabled){var a=
this.behavior.Em.Oe(),c=0,g=0,e,f,n,k=0;e=0;for(f=a.length;e<f;e++){a:{n=a[e];for(var h=void 0,l=void 0,m=void 0,h=0,l=n.ya.length;h<l;++h)if(m=n.ya[h],m.behavior instanceof ff){n=m;break a}n=null}n&&n.enabled&&(c+=a[e].x,g+=a[e].y,++k)}a=this.O.Q.mc;f=this.i.ai.Oc;n=e=0;f>=this.behavior.Vm&&f<this.behavior.Jp&&(e=this.behavior.Qt*Math.min(this.i.Bi,1),0===this.behavior.Rt&&(e*=1-(f-this.behavior.Vm)/(this.behavior.Jp-this.behavior.Vm)),f=Math.random()*Math.PI*2,n=Math.random()*e,e=Math.cos(f)*n,
n*=Math.sin(f));a.Nt(c/k+e);a.Ot(g/k+n)}};a.sb=new function(){}})();function kc(a){this.i=a;this.jt=[]}
(function(){function a(){}function c(){}function b(){}var d=kc.prototype;d.Eb=function(a,b){this.behavior=a;this.i=a.i;-1===this.behavior.jt.indexOf(b)&&this.behavior.jt.push(b)};d.Eb.prototype.Ma=function(){};d.hb=function(a,b){this.type=a;this.behavior=a.behavior;this.O=b;this.i=a.i};var g=d.hb.prototype;g.Ma=function(){this.O.X.shadowcasterEnabled=0!==this.Da[0];this.O.X.shadowcasterHeight=this.Da[1];this.O.X.shadowcasterTag=this.Da[2]};g.Cd=function(){};a.prototype.yn=function(){return this.O.X.shadowcasterEnabled};
a.prototype.Zy=function(a,b){return $b(this.O.X.shadowcasterHeight,a,b)};d.W=new a;c.prototype.Yz=function(a){this.O.X.shadowcasterHeight!==a&&(this.O.X.shadowcasterHeight=a,this.i.bb=!0)};d.sb=new c;b.prototype.pz=function(a){a.ja(this.O.X.shadowcasterHeight)};d.uc=new b})();function gf(a){this.i=a}
(function(){function a(){}var c=gf.prototype;c.Eb=function(a){this.behavior=a;this.i=a.i};c.Eb.prototype.Ma=function(){};c.hb=function(a,b){this.type=a;this.behavior=a.behavior;this.O=b;this.i=a.i};var b=c.hb.prototype;b.Ma=function(){this.O.X.solidEnabled=0!==this.Da[0]};b.Cd=function(){};a.prototype.yn=function(){return this.O.X.solidEnabled};c.W=new a;c.sb=new function(){}})();
function jc(){return[mc,nc,qc,lc,oc,pc,cf,ff,ef,df,gf,kc,A.prototype.W.Hu,df.prototype.sb.Rz,lc.prototype.sb.Vz,cf.prototype.sb.cA,lc.prototype.sb.kd,A.prototype.sb.aA,A.prototype.uc.random,A.prototype.sb.Zz,A.prototype.uc.dE,pc.prototype.W.sz,cf.prototype.sb.jn,A.prototype.uc.za,A.prototype.W.hz,lc.prototype.sb.Oy,A.prototype.sb.ez,A.prototype.W.iz,oc.prototype.sb.$z,A.prototype.uc.uo,A.prototype.sb.Ry,lc.prototype.W.az,A.prototype.uc.aD,cf.prototype.sb.pf,cf.prototype.W.$y]};
